function [Y,Xf,Af] = nnmove_10(X,~,~)
%NNMOVE_10 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 00:33:43.
% 
% [Y] = nnmove_10(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.14176009391765;-2.93543929307278;-1.8561936087052;-2.57890731985373;-1.54345157753531;-12.2663909617541];
x1_step1.gain = [0.522374734117766;0.298150665874942;0.578276914781939;0.499353559330748;0.648899015595415;0.0914060631117237];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.3219709808092439118;2.2614303768402685968;2.554612528640940905;1.9205055739365848311;2.1478338341766889386;0.85172602755081794346;-1.2012633526369205228;0.13569389022846106707;0.50631070040074299676;0.013973689963646382384;0.01123691011848913443;0.30912326556310260051;0.26130377956343692203;1.6066341551283789268;-0.68759681010584350336;0.89683849445306718096;-1.2148205374923204403;2.1718641225519390581;1.9389260586126269015;-2.6134597213090873247];
IW1_1 = [1.111341343646065738 1.3087810860860695783 0.30331439222419859236 -0.19888994864439088484 0.22583961513732822568 0.92593893469226129511;-0.46909522898536715196 0.9575909517992586828 0.41703866405569306464 -1.3447611173273208429 -0.11125732430920089178 1.1219384970554830971;-0.75312852993561019144 0.44637508893966282297 -0.84862988266355510181 0.58708645529131220364 0.68403369406381120399 1.0040903806844978519;-1.4972136636228727813 -0.94608257298961395687 -0.41970167694487248156 0.57191739612312164631 1.0016804220703494632 1.0675730788622945777;-0.56186853652045731788 0.56117051457412736593 0.49230522070692767089 0.87891782717326405461 0.30044144350772750141 -0.65277154842596774031;0.32852728571649675304 1.2016748057742407951 0.73594476111635365179 -1.624868624578931664 -0.94056710200415372114 0.45198953211850523282;0.20617524721736582571 0.26228466977821873751 -0.96196829952127027585 -0.65360242554545644467 0.79187131889132322815 1.0003575202861509919;-0.23314677823678731095 -0.3010736179535892787 -0.9814880555287956998 -1.1355246319444882719 0.6276669322327654843 0.36590246096238193685;0.32573212651538685503 0.55352629166104705405 0.64788010837900489314 0.82828950792054678587 -1.0682284561477495277 -1.1732109205150709208;0.020184268112111040938 -0.91692944625455963248 0.2230470204310278648 0.64787889632609785284 0.56050739126718518435 -0.64090373144938217465;0.34041399264087734977 0.46379483870871807127 0.6313725806730267065 0.44594791458128424377 -0.74551166718960248936 -0.95461618701966999279;0.34645384167326409575 0.4711154212032530042 -0.40650835713792360382 -0.25569444139389596593 -0.76568320299974490517 -1.1057826909382946212;0.12023147296417778518 0.093417309532839026831 -0.59250185583613457219 -0.62480739216680691861 -0.2643769255477775304 -0.018435351709161724998;0.50290367316317807767 0.058753533721371917209 1.2002517392791205442 1.0564407286253050255 -0.68209491240621944463 -0.31027388321707044527;0.34422395938452760022 0.60244714960295864259 -0.25630281998833698287 0.37243381673696890344 -1.2126709870421916726 -1.5549958113158681705;0.020577079848900663162 0.20519282637064892305 -1.0305347857093898334 -0.07511561516917687753 0.29141731658854008735 -0.87577571650143337667;-0.74769013156576036305 -0.88539585763466732704 -0.29674237126613184357 0.26602163699852776624 1.1554838031970942058 1.150220559949520327;0.82344178363560338596 0.69328553252987046296 0.76387965494292220381 0.87180300996961779258 0.61148374997827459332 1.0427882860581492164;0.2106929163572160979 -0.76675734254209326757 0.70428007643016832251 0.051191785335200107321 -0.35558077410310617861 1.2303786091042243633;-0.2562775659589173749 0.085116844838207569857 1.6672654963908912773 0.72549988704523638017 0.93043642412969318478 1.1920192849703525884];

% Layer 2
b2 = [1.2456288612004080552;1.4245893700426655037;0.41423813157873828894;-0.4670345272634372491;0.22102865442018354569;-0.4307436481922310989;0.15983276278802058257;-0.66712068086759579444;-1.3602695270373481584;-1.4664952313651660187];
LW2_1 = [-0.49070470208363753395 -0.020870865060574735061 0.13897448479427385037 -0.16217821263556167488 0.19546777963067271666 -0.031312948546691012075 0.10498218758286637087 -0.075183148717351377943 -0.088629811849559675396 -0.013204120717546537558 -0.30756458340021786135 -0.82039291844687023403 0.16244981572716085672 0.07240549273747309833 0.070592383002146652515 0.025504488509454512069 0.53071438619811805992 -0.21359536392783373682 -0.029113131559929693315 0.45780745134738276558;-0.083924461427860280738 0.010913850558503187388 0.20094081619565695718 0.6466537711738873373 0.78276466897535046385 -0.24312686189526747094 0.46933652673661563348 -0.30688552843510685797 -0.36298335758802391382 0.0056591370939762936088 0.081457196196899853136 -0.16766715332132822724 -0.0074959110354743327398 -0.20936657108326189869 -0.11532815550289055029 0.28267071788023673262 -0.24355521488098280658 -0.32477402382820635962 0.49391018303191874805 0.61177213795884510805;-0.061123660013685174319 -0.013720169337298086104 -0.19730026020347943283 -0.64953796180149325767 -0.3855992036607900908 -0.040545395542274091649 0.12274566858730440178 0.32662636082393936565 -0.085933729984173978789 0.0073674127526127293486 -0.099737360719800674524 -0.54269886545101586606 0.47436305138101153567 0.11423509963038720738 -0.48186509027212515166 0.036546143129739458444 0.24496262368193050252 0.48085301800188784416 -0.086103639996885750207 0.36687908954516562643;0.20781485188269785414 0.043225550135091259096 0.11825424265771181109 0.65696448894656456208 0.14320643324609474978 0.048102999680745120448 0.33488007273416930953 0.090495890741969217674 -0.19887165500310571842 0.026889224097053972262 -0.17844893887650845055 0.38522335386467149165 0.19085416027067877986 -0.5575908187666419602 -0.47171415045324044391 0.1350332947026614272 0.31083188467546962741 0.41238584583177995135 0.2226136652244236902 -0.68677424689225163856;-0.7456027872508543819 0.042684426156967970878 0.22349062679123865571 -0.5687248607775032827 -0.076373556001265746618 0.08677464027700955429 0.17895994228445247232 -0.30588076666000080239 -0.93263570523709227178 0.016310263467302504176 -0.15174475470073889305 0.48688003321247969035 0.32397256809104041375 -0.28875631108927629631 0.66042043541072459334 -0.39295538881902819517 -0.4160782474684197596 -0.12337886767727417048 0.058649363205728478887 0.78229918813127918842;0.061362640431925401241 0.0036627307206633218789 -0.0036416349257544660713 -0.098475414983388270818 -0.14555507711949478011 -0.0031855383736137310099 0.077429663072765164689 -0.044274412556729064727 -0.27685301485954172396 0.014586510825766934446 0.38879205638793656874 -0.45021184670207553546 -0.13580865996923979777 0.031840191631727625399 0.028508494279673175786 0.014066738862697113904 0.010366391690216128149 0.17098571671978191056 0.055604758173518120667 -0.12059332086534210737;0.088053089780337642778 -0.006738831050079906182 -0.41542285394300182411 -0.36099901538438067261 -0.14057751947850591345 0.008985957532256172442 -0.18600790160248015237 -0.53983398503492963094 -0.17404702649001854708 -0.021027801934497259567 -0.71498081000953206399 -0.77810249044084622838 -0.66083787218958545129 -0.63549684873678013997 -0.4589075289581466266 -0.068416132488508474285 -0.09532619385479688956 -0.031777393132030359868 0.015206219798245332667 0.41581965207849169719;0.44540101816530103251 0.095382877796878220988 -0.23447802625999109027 0.98917056846168160966 -0.24584621994459707195 0.099860151237207164798 0.014479781941649338961 0.11327546624715295609 -0.087553966942366737158 0.016486765629445964548 -0.66550406064371181447 -0.042352041019792986687 0.17610693802502838667 -0.64121480272869890715 0.442382726716946173 -0.019054833182299731054 0.20846218847407238517 -0.50546258068136673547 0.91038173604908179115 -0.23025876401876940736;0.40242375550400399931 0.088559774411233416203 0.38940156663123859371 -0.14310206228979527321 0.39904131378766849458 -0.33010154811531283725 -0.11081830395019556801 0.45331624388120789204 -0.46589673065664177765 -0.10757022775937186143 0.47684173718201550152 0.13126849056480394129 -0.16644895961663369599 0.76930049339462891478 0.27250375494217415895 0.33189386244901475376 0.55615496787085283437 -0.68535433712101012649 0.24901730176073050282 -0.42729935984941547211;-0.15393862285561971115 -0.18952531135926917183 -0.24764576972394045096 -0.23328875276780211556 -0.087547130311425816473 -0.47232527131527640707 0.33275007900806713446 -0.13952487624178688819 -0.30982855666468744893 0.58919940197135767246 -0.08628017482414573891 0.066092925677218722358 0.31616673195255123874 -0.64882853604660606361 0.50584948623925607425 0.065597316841058295189 -0.6559799543807717237 -0.22076481494975330744 -0.39315193485844657229 -0.34941101068893043458];

% Layer 3
b3 = [2.0390799600116493728;-1.8057508775032578008;-1.2614784713608451217;1.2364615551908810787;0.83218390656273810713;-0.84864187046647021617;0.59407832609325217366;0.42658678039899983192;-0.21644468261579194457;-0.52989109026014147297;-0.043658935651347464957;0.24708971746886598808;0.42613485154279423517;0.64431129333204739673;0.78056104433217543548;1.0376658209227036522;-1.2173025411249835948;-1.4549553225562816827;1.8870433672031103889;1.6887647243846604095];
LW3_2 = [-0.030327765242204693386 -0.59553832976445908454 0.21000907541077215579 -0.055087432455501933459 -0.45892697332321646941 -0.88597566693926099735 0.64177942880135629977 0.45374172886576852326 0.54890851923749450769 -0.92181274719315142718;1.0430053632308804445 -0.25622213091823153874 0.80681840983044361693 -0.8629943587296493579 -0.20807907754316365412 0.98278237138767587933 0.65979570287708677601 -0.34550518278445724318 0.11795426878531950488 0.19741982593751064567;0.1460514519058394578 0.65409866295100016487 0.75940074310967720095 0.51235499173948084728 -0.54700487728740088134 -0.38462147237495081242 0.78278353666345534823 -1.1991608980600174661 0.56003915468770115726 0.75819679891256208659;-1.0790237677274425732 0.39662188796707564808 -0.055496238119296090185 0.51300051971884863544 -0.91565436860779580996 0.21870073435023373865 0.21013768957030229401 -1.3267644435941645664 -0.50780495042113160675 0.60424482825249570261;0.10210282122046678011 -0.4394667377192396085 0.65945711930864581163 0.26917908782285443481 -0.96224872931136717913 0.95902877091745164506 0.25469900480919799302 -0.52453548799834170957 -0.32633590850113375348 0.48397712756995425742;0.78697076985978930974 -0.15149034695108881676 -1.0973837450101444624 -0.49525171338528994891 0.41001900923007750244 0.86357924272049324532 -0.83709578887656332924 -0.29027552790400501515 -1.0341162519208593196 -0.058585309838890535505;-1.0657048365799322021 -0.12625127826834203759 0.33719296852240393525 0.86227636189223311192 -0.68106550669670928855 0.41393205881121880596 -0.88381466850955936465 -0.64174110974264009233 0.23937128699008311528 0.43137952404035756482;-0.57231395688594943749 -0.081172566174984625564 0.89779939202600644865 1.0947968825107976532 -0.15535302902516009982 -0.33492752038483897259 -0.16012650217715329592 -0.086208326599115078781 0.90681154804383645729 0.80547191186312350197;0.14333514094628183044 0.80057287618043548871 0.93123361903117440885 0.67223686645819047403 0.68054023834150079164 -0.90202589453350323634 -0.15099136681249350489 -0.45577732888839384007 0.16472369911354131644 -0.40148297206250560532;0.54530093914606636574 0.7549272192004806703 -0.50686348356879473709 0.45964628535841983714 -0.28646565433030063419 0.56734735270552039132 -0.49616713149220198487 0.83796216510123444632 0.20566006966353223007 0.20602069670484415842;-0.50177003569916622805 -0.12144471879912381584 0.92154896945447839496 0.74715162600056717057 -0.53112551856282641527 -0.34860205294929963449 0.33040962940483326049 1.3075986343261754019 0.50462992918400417786 -0.47197155974110904797;0.60648674196424823268 -0.46382367492203946391 0.41751022802294462943 0.88926911288887533491 1.000876792870880605 0.65987916511780497775 0.10648652439978975592 -0.49575432008923842053 -0.37325222893258880319 -0.76783032996419364746;0.099296543254383584642 0.56883258832564709273 -0.42577501683447532832 -0.83997077985674262202 -0.037690108835086763572 0.28468348927199454979 -0.42226884611062787123 -0.30893281297903635307 -0.17741731289171580599 0.35453774534170634514;0.2049002032392461814 -0.18119151239269615239 -0.44200226148507804069 -0.42815321967095448796 0.82614140452655238089 -0.033572340416140558639 0.28445309320524853058 -0.57129113131202802212 -0.83363240203902377878 -0.22857589266038733089;0.35227993003528967897 -0.82722519348809875339 0.087800750154881146425 0.059992072601156951062 0.86074477873491606061 -0.27459838525836749445 0.54226174730444809402 0.081496594579297115812 -0.18816786976255070463 -0.45800340620600965558;0.31034340598700604907 -1.2026508021966162421 -0.089213735470827962293 -0.1746233697605599211 -0.52378243317686667968 0.73697482111550327577 0.45774379415267874016 -0.4385145801601309512 -0.035302216190537812068 -0.51505629870344837862;-0.20273181331976397601 -0.58842537037738307237 -0.30169322660229497268 -0.44393834716413027586 1.1618841865605045172 -0.22830204004179346922 -1.0665857120267203673 -0.20238333944757236349 -0.54183745942974448351 -0.014971136212729751688;-0.76645381192563466488 -0.0084251431426379704004 0.20011532334664902666 -0.71158288376523493035 0.71680803983032326254 0.82544713423102678007 0.48017407619314023126 0.018354411406920765476 0.963994028337416764 -0.21677147354729572881;0.5703309736240719241 -0.37612383071162819315 0.76276197546888135914 0.30178079493607701256 -0.76435334173630542498 -0.7444313286102443028 -0.85684195232198945291 -0.5783938898747253976 -0.56276790756475592037 -0.23315075580239635888;0.41829624390267111655 -0.91997270737963954268 0.65753868573949636467 -0.23067123446486131888 0.24690560789830207078 -0.76218696084444170769 0.26804541188851865874 -0.67259366538206921682 -0.98734933607364716579 1.0314975448900334243];

% Layer 4
b4 = [0.6146230012519836583;0.36844615511258804741];
LW4_3 = [-0.51283322127486041797 1.1982053024065009161 -0.36604246059193618068 0.83862552851790994612 -0.88576111007084623594 0.074146546565876839119 0.37925610673935222783 0.28876271272367892706 0.57245126909871602017 -0.66663004681405912955 -0.24257429045817402447 -0.1060396756545707031 -0.40469769047812592655 -0.21234425770803483369 -0.72659404550641348841 -1.0294439316129828654 -0.75323291655668067612 0.95892844121431597415 0.67407622275795009426 0.62043780588869545944;0.50283335297965936483 0.83225148591465780701 -0.17327029078769118353 0.43683495698211582958 -0.31441249086210676378 0.093535803554066862531 0.016992684508961061751 0.11971190449789471943 0.82837958923352184026 0.28439001449254341924 -0.18433292918344104661 -0.14767016452885600719 -0.74972975641209460562 -0.48337461629225769721 0.49397321341884214974 0.26574320957254415898 -0.74126943097666198046 0.28038436919255915747 -1.278687235688366064 0.55639375259716605804];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095921;0.153261663239194];
y1_step1.xoffset = [0.0999999999999996;0.651751060429343];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
