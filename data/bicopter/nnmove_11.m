function [Y,Xf,Af] = nnmove_11(X,~,~)
%NNMOVE_11 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 00:34:41.
% 
% [Y] = nnmove_11(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.14176009391765;-2.93543929307278;-1.8561936087052;-2.57890731985373;-1.54345157753531;-12.2663909617541];
x1_step1.gain = [0.522374734117766;0.298150665874942;0.578276914781939;0.499353559330748;0.648899015595415;0.0914060631117237];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.9477264982010571437;-2.5379446982260147614;-2.5005472650268960599;1.3941902103719039374;-1.3459539820650330277;-1.0987114346531532405;0.60715754980913660965;0.22556966574165482342;0.31732812300973939346;-0.018119761296320108929;-0.058925056354230648248;0.1990441337033543312;-0.54364789363328891447;-1.4411588323575683646;0.90107318778970613149;0.99528687392196524275;-1.3195083786032713036;0.9034848056318600662;-2.6168555205266090802;-3.126715460531668267];
IW1_1 = [1.5370932638376646473 1.4149133225052115126 -1.8662710582832113815 0.072533197419161601904 -0.2785846414686842798 -0.48286713461526364899;-0.46346840136212474892 -0.012413900903086966601 -1.5656431545802553806 -1.6607402065120464574 -0.7031963683232588247 -1.3902588745679438365;1.0669364227616677798 0.81452855566251858299 -0.2971027602133858303 -1.1951970153163433697 -1.1756270977223457486 -1.1923425744053002262;-0.33260165933999796817 -1.2049494252171761843 -0.48799743212486818011 0.77753554299292626517 -0.20946394522452943532 -0.56964148912004075598;0.58916421320296141761 -0.048263808491785915866 -0.14691344427784097659 -0.62882243949519311954 -1.5110761324137891304 -1.3465331347288072017;1.3681588437279834647 1.6258575465939684168 0.35975286967599773291 -0.56641514945567861261 -0.1889292448193838625 -0.8425863555087811374;-0.3645910326893590514 -0.53865548666769103026 -0.092512548292305790687 -0.02036750266925447736 0.78490955553377028675 1.0367802929281386692;0.029454994462245413789 0.085701898261112102739 -0.24117987115929104269 -0.27428289171505876309 -0.037899971446969868416 -0.070505331896113812573;1.1847709126351486653 0.28618217754637381711 0.32849031664368588679 0.77576868818239341774 -0.33972380070095642424 0.4328800497994989005;0.062664206821191295593 0.059528863443308425996 -0.042381097538501770472 -0.007770125778395838359 -0.1501567807848892544 -0.18175253997475632195;-0.69938513341959229752 0.78581230084930353552 1.0429264801724007494 -0.48713434358970947313 0.34851837986851613715 -0.85018246289491450352;1.1680494506542014044 -0.017968616636264929387 -0.31330928153161585747 0.51279065235309195803 -0.47633503356796236261 0.65804848512622615697;-0.41601639652980804129 -0.7122259039276674919 0.65669416620414122754 0.80898521470635942343 0.70502655463929131407 0.95435036829097918964;-2.2803150475939464314 0.080074593888496900518 1.3105245388006567797 -1.6222040435231126487 -0.32412259229959172746 0.068574351453775425624;1.1050231675998070102 0.95533807869105924482 -0.36659061330026287973 0.15903554664448033007 -0.97989204099979820839 0.17868902140247042154;0.775836030334524418 0.14913278798668094804 0.70888411639553317034 1.0848449720897950233 -0.3821545549537681552 0.063485566637002346924;-2.1100174072088497823 -0.13119294140030901552 1.8146483136449396145 -0.76620464279245248385 -0.39456200982817968281 0.56617129773853924757;0.36186887893755675938 0.52487625761326284213 0.049978814041308321225 -0.01139412405077267279 -0.77213520181165373746 -1.0157295335458724761;-0.68529358960998199013 -0.90083546527654489999 0.020467246725860182427 0.31706644075746370781 0.97625590265901496245 0.56226759064413489586;-0.69053720327284673353 -0.36039604559379256887 -1.6157003501219195929 -1.2243263635685903701 -0.77560087762739671202 -0.39579075992394779915];

% Layer 2
b2 = [-1.6526241938773802431;0.0072049332096017458527;-0.5887434521416600175;-0.033891399447724901428;0.019528880335355821435;0.64270987696863168814;-0.37682373661467261083;0.54641384694652028742;-0.87271873726295734475;-1.0825399083813975754];
LW2_1 = [0.036498657839140184744 -0.42670212475698060528 0.34738747530222463533 -0.14887483627535133546 -0.077340127798201138698 -0.088474247313620177358 1.4805740002507088438 -0.13221293550260718175 0.76854463390091798392 0.080709196417609430085 -0.34375595874251052564 -0.65644331326584615116 -0.87444068493203641612 0.070231365426498951199 0.1882882004954753441 -0.49953475700055421926 -0.15201970619445934196 -1.2029292036950050004 -0.048192368116003407585 -0.66383995152810193474;-0.0033428694042084419399 -0.19191026536445771056 -0.018955664156932283682 0.0036146665478445638708 0.0036371902764309690416 -0.020367911148067671667 0.55759328358299720119 -0.30688871827701763584 0.023457593462575383053 -0.93156324553278735401 -0.031674019218015464494 -0.016823506374392279555 -0.1686773328468655353 0.034169248408529064032 0.031108195534860886428 0.029349395583137375537 -0.036055326396801049005 -0.16675369491103883557 0.56289457946560572665 -0.093307314772224619892;-0.99475442857717799594 -0.53015915475695640779 -0.77739569761592630659 -0.52686959775413499951 -0.26098523253390071286 -1.204655442333462334 -0.11034348925718151513 -1.3179086987744121906 0.25955504745448737536 -1.4765248949561013969 0.38861300169700724316 -0.15069317972049336984 0.93197699187745863814 0.73754319655024547231 -0.41062397339468742485 1.6349307076954371354 -0.83910445224159146971 -1.2976542254957224021 0.36530224309915887426 -1.1374318972727199828;0.013222980097617667919 -1.1972371310043918857 0.055604085057148450177 -0.11535143145815524024 -0.084389693628074607945 -0.0026048267838096263345 0.08836081785497286456 0.7320249145419379655 0.35105118161435167057 -0.63351771394774847312 -0.28217892672715405578 -0.32039837586195984986 0.45083133484131759916 -0.34095851057969617237 0.0092636692438548134954 -0.44143203630994737319 0.24618117933385158524 -0.76994192982851916707 -0.17182095395089508338 1.5491478249352450547;-0.11139537664428914021 0.052840192281115881678 0.33905112218807542668 -0.072964593495231808151 -0.071303132964561727336 0.066583955450498569228 0.076803462807985917182 0.68533945711539989709 0.079487869670233482489 0.94826876492819367481 0.046845679972444563555 0.039331650130766913909 0.40895496171189266166 -0.34351190470521614229 -0.15583370393892689854 -0.4883544069135850596 0.28225598029490228669 -0.82892365583430527298 -0.20744741815491685166 -0.93402503219818944213;0.028885403790603936952 -0.40944560288711140394 0.43968215365534873973 -0.025465471770790722855 -0.076461260471635109082 -0.050223477622643335205 0.41567648731746736912 -0.29511454431327976966 0.14916212446667859171 -0.26179109384885507206 -0.27135935932938848314 -0.20062585793169601667 -0.10306328729418279266 -0.1304196595524148572 0.06705899485334870791 -0.26826483499161796198 0.080132126373868059477 -0.49114011844856947375 0.16642720238906519303 -0.24138866512673851084;-0.010755522844525348958 -0.70452755570669256535 -0.62007402644365416933 -0.042747475150610218797 0.014213035484710348846 -0.012128650650861006952 0.33521330227970397297 -1.2572932899556645836 -0.081944134264111526122 -0.32942457833984684079 0.086650105624047416009 0.068436607238253024943 -0.19718390804048485654 0.040018174456038849152 -0.049801039566709746909 0.0047386429807440679299 -0.032874283168184879889 -0.13950044147498505409 0.082646993419923583946 0.7140513746289383068;-0.071962352753527636384 0.52437018259001000331 0.64703237542707203733 -0.0058959496754481940592 -0.04635108296902119146 0.048889038667589278242 -0.77902469717922051551 -0.31963246479255758015 0.076107016596183602042 -0.25805677977142843504 -0.003060497901556921696 0.017188869463752344535 0.26073200621070363736 -0.21508568886136983367 -0.072822066982449099037 -0.25957277538925765947 0.17913155913926162577 0.4166313164316762796 0.071073876026773494252 -1.2025185005401439753;-0.017160027659676529987 -0.88836587465887717485 -0.31591177167888184751 -0.033277525832128236616 -0.0050382907579764974956 -0.054960924469366206901 0.80112637531194774709 -1.3517612335719653149 0.088364935160351459897 -0.14285102845201005928 -0.090423671714072353933 -0.072813403841719137599 -0.36701099728086111762 0.025082559366452521904 0.057939784967376652125 -0.056544079339144542873 -0.047094719415521221761 0.80507210351274183235 1.332487869822534865 0.13004190178152003066;0.0025430706258721914523 0.59432088701876839565 -0.1486433581506343693 -0.0027886941317716985693 0.012983327779562523277 0.0033859006150092816299 0.16612178897879845141 0.33052550987143985983 0.24659846460076981223 -0.43100890777414413435 -0.12827998896480438673 -0.23197182121893297757 0.60297438817176651771 -0.054313945697809021262 0.15748682838307870302 -0.090299475342373147768 0.025640843151076057882 1.4129158007888122928 -0.21925148012187065105 -0.37678020992525640409];

% Layer 3
b3 = [2.7936802769294497573;1.3079066322691752511;1.4231128782697033408;1.2581736233126610269;0.95093589378712384264;-0.40971157487296783195;0.42520370007627056319;0.64741520576926792074;0.35566129422396841608;-0.20851246145457205672;-0.22775145449223016536;1.3455914167564391182;-0.90705240072515991301;1.3058023558285452026;-0.85716627956600499605;0.28568057970199978168;-0.98761937114749531741;-1.0406623455864913996;-1.7480487273641713841;1.463786455278710319];
LW3_2 = [-0.58534182715463567437 0.60267816780133176557 -0.42278715897055718642 0.8507626212107868291 0.046894194972720633363 0.43620878643433652622 1.0048182918830823596 1.1287855499787236013 0.59780026778680028787 0.44877815339763932334;-0.30412098801109505031 0.64032518617749611956 0.78854900181922316094 0.090174274527890813102 -0.15598543809613146793 0.68139147698534796582 1.2801322934969716627 -0.11917482896299406991 -0.60500124823631984405 -0.26893176522177958399;0.036328167872645950043 -0.40390550327133101227 0.14819780843960894678 -1.1998943492298013158 0.0148053109000689017 0.07967808752110816517 -1.16039315199644677 -0.55981744797638144373 -0.85966613473903441545 0.34607228305699361259;-0.08108932111274189114 0.6289932688113616388 0.91480551377125218782 -0.48848413308741284178 -0.11683507684332811172 -0.39126319769589168462 -0.45611433716141258632 -0.14419318769981737116 0.86724263522982592001 0.53476558092778103681;0.45771637070229503896 -1.5745302800762110973 0.19266082047797061794 0.3590686693619287162 -0.010956494049202236685 -0.96780174914947958431 -0.39312272753563765049 -0.64686822772827090589 -0.41353127060505207035 0.39822120237000102616;0.89910708988356424776 -0.0034068511925543706886 0.79502383599020398641 0.21633079179038805506 0.59153294446692827879 -0.014173948102882916178 -0.79307490220370580047 0.4026029587871813864 1.0073512949130047911 0.48539672235053021865;0.065289444058086384959 0.1643865241022102186 0.30356489158392135908 1.3619330764416952562 -0.85422942431206705383 -0.026058483985149143158 0.084550346072959470245 1.0151398137969653845 -0.42917893439055254667 -0.65768907106891127956;0.278745599538495481 -1.1588849802766125752 -0.43911601279548534427 0.13258875367336134254 -0.3627939521513319221 0.34200418033232715675 1.0028235182956179994 0.51479564416514478342 -0.36803779073859876902 0.55381940744435753654;-0.45152159739684449846 1.2420046545274681105 0.95161685384141303512 -0.32655981387189375598 0.38788395515727658314 -0.24849681486961089361 -1.1829123397519298866 -1.6348299479591070771 0.35789736762430635064 -0.70921367611879493342;-0.032389183008877227288 1.2514870963564066475 -0.1344678428011528426 -0.18927226917177486509 -0.075755710107950000043 0.50787202638196693449 0.55058049835250433279 0.89860437211142596414 0.65003524052882244444 -1.0394022412011221235;-0.31379223385072252395 0.34822227235065233986 -0.97358655526224480159 -0.56219145741199827437 -0.89095293103820549785 1.2465292450611664687 0.53563564040635525121 1.4698677027649476035 0.73524705735375606164 -1.5162439867710708619;-0.19430200761774488183 0.47218636086081916536 -1.1700711933376868323 0.46156398802053932862 0.41000173741750250977 0.61001556470736495452 0.6771944563133202033 -0.16959109617798270864 0.068090837761306505227 -0.048628569686063653765;0.17291448190214941949 0.19529345230265557354 0.79270900292734558512 -1.0526027204165639972 -1.5739664176399632556 -1.1226970829070588298 -1.0225045695715673233 0.063768680310367392705 0.76316848980914830936 -0.39397665123279007604;-0.2069189441751325409 -0.87128607898433640955 -1.1754924712629075678 0.46083867777941706079 -0.011549917284366193609 -0.72531639676391879146 0.45850044854992644261 0.20332257589721797197 -1.0750748196955342006 -0.096217954012132955732;-0.2268030477911493481 -1.0619871822029214314 -0.16427388489502742219 0.59815844408819041078 -0.89075132240992449528 -0.51194592798672922118 -0.037635428995418065967 -1.061633336660151361 -0.032791589980743454658 1.0151597937324128296;-0.15596320593422680068 -0.54526401877410779484 0.1285004435454344951 0.48061092181931541756 0.16579809601984552003 0.26612981895062587379 -0.065325443216052492268 0.91365454144604540954 1.5023552583624970591 -1.3573833779236093022;0.15903576582764045177 0.75422588101434462349 -0.51947077307745315178 -0.83448805457253882878 0.45549637371763435079 1.2762364358488809124 0.57051811792912421328 0.27963036498148330367 0.036479951023453159598 -0.3855630122434935414;0.03317803756097024992 1.5465363736508521697 -0.71417359697078686143 -1.3679582319058236628 -0.24160876996199021072 0.77698281890268672267 1.4200820508293647837 0.31790218937716302472 -0.66825900378737035368 0.47089424746898111973;0.0057183237431118610905 -1.6511494715492294194 0.57516765358168620015 0.59985574715252498734 -1.024749287477459081 -0.50885357305967293673 -0.22622756958557205254 0.2108576890931018466 -0.026929165119934452693 -0.25694835688266515206;-0.24869296085224215642 -0.91986424935635513478 -1.3589742495444865344 -0.31755330441615292614 0.78084821730391917871 0.68370581789069695411 -0.60591853079640001223 -0.69786681767457192649 1.1651021303725663802 0.2821761070499821944];

% Layer 4
b4 = [0.48970241609805359451;0.27435373722505285166];
LW4_3 = [-0.93845491895962918072 0.24597658799519220296 0.48937473691594596259 -0.21652951469151154873 1.1641411238788039739 0.06643457339465223821 -0.21583761763102868314 -1.077687735722797191 0.59026530493315620962 -2.0639882275398351297 0.35237031496502141392 0.18659750696664825775 0.063560873935278580649 -0.2706489796402011816 -0.61316620477538463785 1.5026745444402116458 0.21339394722302457152 0.53283232387871037883 0.64554812416285767274 0.44557287032668041471;-0.66455920579599592202 1.1848081129001142298 -0.50943541589287799631 -1.3294803754815949226 0.46103111697269238967 0.032935800826202482616 0.16005594603924050423 -0.94086243595315466326 0.45696118853979900143 -0.60149114337547426867 -0.1086653507247669348 0.37228345399676604499 0.038679099371010536301 -0.08769805886208839607 -0.41178779161471440462 0.23677543367244588413 0.35167308331947660927 0.25459785919795174802 -0.26581084067352805933 0.13781762762356961072];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095921;0.153261663239194];
y1_step1.xoffset = [0.0999999999999996;0.651751060429343];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
