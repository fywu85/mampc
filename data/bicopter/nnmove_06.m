function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:09:49.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.40432655203162;-3.05772726649525;-1.50337830487775;-1.46639144081691;-0.882733010962612;-9.39260604806797];
x1_step1.gain = [0.726937062841322;0.39800416843654;0.707661234476445;0.774842031884718;0.821005269415222;0.161198758900714];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.8937568915548528281;1.8062672207963583748;-2.327554315595631973;1.2551102495182100416;-1.6134189945734775939;0.69606746804003705176;0.78101827699565717911;0.20253340910581260625;0.28019252977536518445;-0.3906126246893849574;-0.359703004771585233;0.50269209133188552663;-0.096122799459717342407;0.31210109703113192436;0.17583922989814665394;1.5487512504806386637;-2.2210592993793243366;1.5874566600992905396;2.3551609024620274724;2.5761152697522065047];
IW1_1 = [1.0171551728515249025 -0.69609039489131374623 0.42348478544915540978 0.10416206999989102711 -1.3453472549115628176 -0.14969669244882310988;-0.68809405507302190408 0.88936771086145849363 0.55512181415466144152 1.2375868943991978899 -0.76756509302401232375 -0.40459472824165138016;1.3315397902781420658 -0.1695633636351452922 -0.89948220732476658057 0.77688884719324879935 0.76196068508917413897 -0.082256456987848947104;0.12805997050251785585 -0.47195332059820332971 -0.99433194187641571471 -0.865866700618549201 0.54104791188603651442 0.77753762232949064082;1.1401021735213012764 -0.38107244598680439784 -1.3947641690893755051 0.1165660633186281353 0.6577491712276176683 -0.4393291852857431623;-0.98019538727536548173 0.08068570898613219855 0.93299668445902494973 0.71161864139669606111 0.51548498708196099916 -0.56465492061407929203;-0.78097943800978852913 0.096629055977565575519 -1.3778807908714518771 -0.11840472981366161054 -0.27555020361826432218 1.0097817795992372059;-0.6347097327391718613 1.0092553606087963924 0.0067418435729086579819 -0.85421021994178525372 0.19726559519739961246 -1.7243398450687168477;-0.96226571710947261806 -0.38919001551303644693 1.0337282454827783074 -0.67774500389873892914 -0.99962349124981753068 -1.3062526030870507121;0.40907391413622939957 -0.7622902647800103848 1.281824131260932198 -0.8622853606796581083 -0.39866359071226398214 0.99815787903270236647;0.82864652502435010017 -0.55124177819295638869 0.83231742020844323715 -0.79127331047624005489 1.0784705650194790216 -0.6340965200808061919;0.043308238756221022203 0.55104147589466234702 -0.60176156082641485412 0.42928883488584007599 1.2405582170512361451 1.2556862245377973242;0.339640004866668066 0.30608729253590899466 0.59285232270149723632 0.39224607890853513403 -0.61167630037354503436 -0.47167924633742513985;1.413708540337657027 1.1529114453069810864 -0.65280601413708161385 -0.35563271179762750984 -0.13585010314731643666 -1.453673005673758345;0.56968249898315814761 0.58920509435545032062 -0.62158566066508225134 -0.47298363333580689671 -1.15820248801249015 -1.0460928231380002273;1.1915445854367292533 0.85779180116383069166 -0.76628445706824355188 0.35868536483045498908 -1.6897688944657793808 -0.52996079996089373587;-0.94881753631893261947 0.53182870436685680815 -0.27979846277660402887 -0.5287048916306921198 0.70992793777940499389 -1.4395612270933793031;0.27635168385319031081 -1.040990413179384344 -0.62271751275963127537 -0.72364089355668559378 1.1496687904241553735 1.2214353003438569445;0.66473570135456405694 0.37251414307796443248 1.082009102915522325 0.41399358223700416515 -1.5267698125095729988 -0.74162892237686772745;1.3138670026441101601 -0.034985334566928594224 -0.77256070086242678574 1.146792571612392786 -0.77046635356088410962 0.96595141124812156086];

% Layer 2
b2 = [1.7226771172985080316;1.2218356794229379148;-0.70076340835661699025;0.38622741134097354765;-0.20256026549531166991;-0.080997720962023359026;-0.66248445823721768821;-0.82149067129783925889;1.1436185200440742715;1.5592203123835421952];
LW2_1 = [0.047318683774350701887 0.34064406412626963006 -0.25528527307590792583 -0.72405965130744021074 0.35261014527302725341 -0.041956869883347611139 0.2119347275223849858 0.013111381131268858707 -0.021856790333233500762 0.036277646470842306314 -0.10445332666284017076 -0.08957816568498191967 0.91892639386405516877 0.051755956675164069281 -0.027889186318580644341 -0.1191426807338779037 -0.25278448781594625716 -0.31628693841369154294 0.083007901481490342643 -0.15593972611005244011;-0.49180731343503103492 0.45548637159790961171 -0.22704419015453206065 0.50178718381340803312 -0.087985398607309098229 0.2982751238936355298 0.013134668824390806005 0.16933865578744813907 0.39559605533880970452 -0.55965883019261775111 0.11823797463820191755 0.23829041426159724981 0.038428488599908376677 0.27444853071641717168 0.47782877972795556598 0.26443664296773894407 -0.4785840945159655635 -0.49745329909584434791 0.44809286994717001384 0.085030601957534188151;0.055678245941996683255 -0.57922556344783004967 0.0080043223899101765412 0.15414177541947762795 -0.15255031953809108924 -0.1240975099443601265 -0.32436552672506202555 0.15814282912165800177 0.084032521820799233048 0.0095911324008737773583 -0.21927432707484689756 -0.028645107849771520026 1.1209641639858387574 0.13747861053299742506 -0.35869741928113385576 0.10834074599722315346 -0.110570383725080712 0.62782921096603638844 0.3377848339381426257 0.26856384040870001639;-0.024223478754544947034 -0.76994731939502525364 0.3933458363236318478 -0.30358059671044979044 0.060210188682885544542 0.091138465496183027059 0.16776794401688296943 -0.12227611799639490076 -0.65814844983783005183 0.37254554549214191628 -0.6532761490415258665 -0.54516458002487155898 -1.171488777935201453 -0.11327225780802091526 0.67802275990949001372 0.66720959596794571222 0.087693512527392367129 -0.70247168164707962656 -0.29930904948115366615 0.34480572864975633784;-0.2752534779678604826 0.039050498583645149031 0.010678820439478757531 -0.38546854402307512144 -0.29153174335969406217 0.27286139064855885472 -0.21535559126458189705 -0.20763679246486338448 -0.01107255041032857365 -0.049303075621804644257 0.55876544692885188326 0.22278605080702246211 -0.21843172606566579885 -0.12592355743324190609 -0.45310729533904531285 0.44901333503265672409 0.73946271238457839114 0.039849419106611952412 0.27576674068925688399 0.61365169035583133628;-0.35283495211233262268 -0.054058902118565788086 0.12989685835743638997 -0.59142348773137187745 -0.86693439032545260847 -0.084584296872353123553 -0.13861538873412398987 -0.12580015295429214373 -0.75970241379245073698 -0.63193326077555933562 0.20446568546935348087 0.39766466978825892875 -0.61027301251909427116 -0.92539186226346858977 0.080092669638544028432 -0.47440368073381466996 -0.28674869493869475923 0.028391940801910351549 1.0924862876263674583 0.079045118935534730564;-0.17114526518840772473 0.73663186098519395362 0.24169206894587269563 -0.4525566813162517632 -0.12702614055724026354 0.28380623389533127243 0.10406853798009915724 -0.1181818542728170357 -0.099956401199562644466 -0.0074858019783002223424 0.23165493047927021575 0.047995616520273877426 0.14001600236340017158 -0.15749684646514186537 0.71121771922367948982 0.73116438962845009542 0.36189413184189772599 -0.48083673767856793813 0.19550341128692810821 -0.26572068527442549435;-0.40663019834543351338 -0.087021869502947962749 0.25292002534234675482 -0.15215524307572114715 0.19639309634045723496 0.33387996553334386984 0.59995740463371294293 0.18908771704004204151 0.26763351477611624363 0.29095055655147050722 0.71928719020561215913 -0.18474911681282901732 1.1171813760430449047 0.108000965655233927 -0.4961417308496339218 0.0051741788835061291313 0.6803686647600067916 -0.45654364040670131208 -0.25682029919968668574 0.1728683777056948534;0.28551625951362974432 -0.49525906894145371728 0.25031358818930266041 -0.54314353785872160341 0.094194652638749432061 0.10989048520126461217 -0.22883652187074254858 -0.10823596282860732665 -0.22336333321968776522 0.049483130054816963639 -0.41317029070917665745 -0.17835285759623090152 0.015308949110856343717 -0.16332900840971623091 -0.039511780086242856425 -0.50938819278839697624 -0.4851839538375690708 -0.38039243985499887613 -0.62148463590884028829 0.21129833905260703153;-0.2473699663733629206 0.014025129255756094149 -0.22763960201982005871 0.050096861077154532238 -0.002076219866693404352 0.28197331225168142943 -0.26878077261109001306 -0.13324675590777923517 0.029645936136969718022 -0.01779232975108079387 -0.19136835069690619204 0.24226548644427720047 0.20581216634443025293 -0.020122911282540269229 -1.1295009756559235559 -0.57107871243343066858 -0.31596810428106220092 0.13477831769926609806 -0.50917085436937270515 0.29805335454524650718];

% Layer 3
b3 = [2.0706133539749771444;1.7460883324603881928;1.5454574864455279393;1.3018618108178057202;-1.025528461344490605;-0.99424777547374665332;0.59615085414651225459;0.42789900398989783037;0.1953406967133094474;-0.068133435442658416004;-0.068079032218366794527;-0.2908600138671077473;-0.46561683459828095977;-0.79335717981902409424;-0.86581995304804793001;-0.95733891094379242048;-1.2137618189861767437;1.4608997715949521012;1.6765726773382250148;1.8783609206368785394];
LW3_2 = [-0.68608150386056621084 0.78863288896452521382 0.66289625964695686466 0.66674592277014610442 0.63822482592240092902 0.78973846463309138599 0.80025535295392591362 0.33981070435396337759 0.12587023276753650514 -0.63969558668381798494;0.059225508900051349048 -0.1318605747916020976 0.87244039045290311396 0.63885540805477958326 -0.10670648317072856104 0.019746065678168302909 -0.70513722574632420326 -0.16482973165608383326 -1.0914519218703115921 0.76291569856128538252;-0.32143653889288165137 -0.16492280943449821873 -0.082719835501445154735 -0.87929313906382700061 -0.031673355934780295096 -0.045726547193783682876 0.58625206475634705772 0.41556443215909083522 -0.260775498340519718 -0.82908263151140226821;-0.14675340832508892985 0.12976351575084171808 -0.93179200582338395087 -0.49678728137942967935 0.60304337326964418953 0.92118913475984731676 0.24925889122763650319 -0.94416335758897484975 -0.52860863265229984798 0.5493085591447354199;0.84177127909162197117 -0.31259015856122057686 0.73742063608714936152 -0.15219336477213840642 -0.90935281453174821031 -0.52888764507922980673 -0.6045073213841412052 -0.51274233124544921214 0.7795096425600944734 -0.12683437148544801643;0.97600601208357828931 0.35770812941064311641 0.058183003061076488116 0.38203247047427191241 0.48700597003687162712 0.12685526946236272416 0.353211026905827008 0.4203162551132298419 0.044182554232742636546 0.26990109855096777736;-0.63541371723900996749 -0.74463189173853849834 -0.71464624228334716616 -0.30980548116121958691 0.33186056695310839348 0.49241483558301113455 0.33135065924505363588 0.47519358489955287883 0.35314905060723705832 -0.20942744107671165676;-0.85387001966148379228 -0.32959225007286568898 0.60924017415552789156 -0.78978048651729548801 0.61950196035907989511 -0.22527725809168491766 0.11065101711018636432 -0.63753858534357532584 0.41411238335468575356 0.69248907609192411616;-0.63301283573386468717 -0.34332994128694199754 0.81191287709978798848 -0.79626570293566878433 0.15289304092405761604 0.92776409833738615607 0.70895319677786938772 0.32792168208941419039 0.23161810546923600196 -0.90321296780983373331;-0.64670990911796522038 -1.026584117599953494 -0.52564069144347080886 0.077166527169095527894 0.41112367141131711534 0.15682730450670517852 0.2193962862585938367 -0.82849052866708416953 -1.3928419216026066696 -0.51211936470008800892;-0.18984168060027017955 0.12244366507565319913 -0.46282426524360087416 -0.36195460656537953303 -1.0173452980252100097 -0.82946700519706328958 -0.61160213102371863148 0.78594792701652593792 -0.33495759863909996268 0.64837409189434058732;-1.1454033220508672564 -0.15107748096929984882 -0.77774510975143196223 0.74822869794756785566 -0.26177706174059744981 -0.061665552335680662299 -0.056184332104871219371 0.7326093820913405219 0.62870499097336141059 0.60003406277289006443;-0.59584932798095324724 0.019407150022857380667 -0.41935662841053611416 -0.3181249280185898809 0.69551231073109776037 -0.60946091262088109008 0.088520163952250152661 -0.033347961521237333427 -0.55054714809920979324 1.3202821169598946138;-0.80418148167633685119 0.0053222466852889081801 -1.1123350488512329104 0.11651128875059117707 0.041876002274519714963 0.019095081795287349724 0.90926292855497781176 0.94682886796409493346 -0.31957919579225813056 -0.52178310228931845671;-0.39190629601945609073 0.82208855195260766013 0.55388626158388520881 0.42989432987482661952 -0.44725996871641898744 -0.63644605081619076703 0.31705242451298243367 -0.055233025670994216616 0.61422862693565893899 -0.71218567761982543018;-0.0096685470459393907383 0.59431901995851932341 0.078464151337849383228 -1.0480139559542711591 -0.35926075969152820866 1.4207147572302634142 -0.8119058339737845742 -0.47947684926962103047 -0.83855966328494879747 0.48554653472278525017;-0.78447096698652818425 0.72230825485599980951 0.29822303819955325865 -0.65723744610138945532 0.18059569110170634043 -0.60504403260967609679 -0.61860184283755825785 0.64751320469304551875 -0.46889058078435630339 -0.68138622315422281428;0.065583699790181082534 0.32445974451282827422 0.029282334342001115068 0.35413720881662974493 -0.78172876038369742968 -0.52632349482870333102 0.25306134580692835057 -0.23557871481815514936 -0.43036392574151777213 -0.68628637246457302457;0.69394750569413010677 -0.88195788585759582467 0.60124858068761533048 -0.038997274815612395504 0.27178276297728592992 -0.13116507743586566792 0.14515442099404549103 0.80768646767540164255 -0.37188873173032488406 0.57087406580935995404;0.14170753128300700441 0.93529916743433305637 0.63084793221917190298 0.50708157978561607671 0.73133085074419457161 -0.2839672164230758189 -0.82720608425339015035 -0.075657745783107230308 -0.58687627448334744873 0.6219780954063998113];

% Layer 4
b4 = [0.32231051732648624553;0.1451815864390683386];
LW4_3 = [0.87339876095736324046 0.0011993677319551271625 0.34533406595286147978 0.52658206531523421567 0.18295744793564044928 0.21926911746561245087 0.033382988675333707951 -0.011227311777388756034 0.17606700620357404463 0.61348704725514513481 0.30082989742485100049 0.44950914171287453813 -0.33692640802168188907 0.56698725112195380582 0.47504408487185489918 0.93831830828319573445 0.35864531639731389578 0.8044082947750069712 -0.086820696945417580315 -0.35268097995173858239;0.13797864437884832522 -0.92209355968733963671 -0.43606830511751792923 0.42474717910089193618 -0.32064197783977571587 -0.72561340644595784255 0.28512911909717059133 0.024497053875440363835 -0.2035299733788625276 0.23336201779225160258 0.062409131856234131841 0.37608330405194800861 0.14671473555207983908 0.06124323546609848623 -0.13083370856035186902 -0.50136411686976878332 -0.019606658360252382511 -0.2082290543205927158 -0.27802733134132373571 0.88633727250209692894];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095924;0.228777186864254];
y1_step1.xoffset = [0.0999999999999996;2.75448934286387];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
