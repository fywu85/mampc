function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 00:33:22.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.14176009391765;-2.93543929307278;-1.57950590935903;-2.57890731985373;-1.53133411450572;-12.2663909617541];
x1_step1.gain = [0.522374734117766;0.298150665874942;0.628562584395577;0.508358063055372;0.65146023471057;0.0914060631117237];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.9811768182750284506;-2.9752307341933361684;0.74071391805032582578;-2.1749080741861650523;-1.247745402156733574;1.6689420783291732953;1.6024195242327829991;0.14437231291686761225;-0.11055937764357423592;0.69872359153091778694;0.68786113006878113474;0.64287630228199987847;-0.51468353246144771251;-0.23297457989316966431;-2.0417012794545006393;1.3284459936554720016;1.7472752160727056392;1.4207593551195611958;2.7671029838146274926;-2.7756712427400969112];
IW1_1 = [0.66057675619605638051 0.044340107615786501782 -0.13044759916069828543 0.72617385942215573191 -0.89166043607201717069 0.10565155023302802428;1.0192171454540128739 1.1283771526106820549 0.28936067484670363603 -0.81509621011160404702 0.21472940574967716576 -0.045225561278774278895;-0.53945575043943438942 -0.67416942683345137954 -0.14106262817080922334 -0.16759163715694005981 1.0353899386781726388 1.3260819997497665934;0.48446554710401146249 0.97698191579630822012 -0.89087312362049408954 -1.1467557880951666505 -0.12226705974764617846 0.42964237728141840833;0.84553878794230585836 0.70276322921050049519 1.0651519746910060871 0.22876336586392914674 0.12351290728411412623 -0.52639846600996276216;-0.31297981156822574089 0.17857136238910928383 -0.022122531930127989352 -0.4872459920374340725 -1.0017008880484998823 -1.5092742153085563217;-0.64969734688365976538 -1.2775446610919367618 0.34382366813421516571 0.64441098020616127684 1.0680090144855338696 0.91918625188205194121;-1.0803188892594164372 -0.28165115995448664066 0.57954020470451050873 -0.49592982591432327455 0.61652364254272207233 -0.39271248273799774786;-0.075041374268525876112 0.22792843559388553665 0.093822789860623811986 -0.17125511086757855272 -0.72873074958782324551 -1.132776977016451081;0.35854267320369914707 0.5383805696981933675 -0.49046523579194534204 -0.52424864886952426968 -0.8680976120287373643 -1.1980810951167593092;1.0498035356609329849 0.010281980203477838337 -0.40510982189793154351 0.84640157423297790462 -0.16765265315049251993 0.70773571471496588003;1.0936478795407782449 0.40151160974410821103 -0.36606283638279096815 0.68950651888283764901 -0.99992646185188127639 -0.4750053432857841984;-0.12727345113583779512 -0.12817598270204891286 -0.48480954219037197817 -0.49539967020656877628 0.19400955197542119057 0.2139926669266979109;-0.80183608521187244023 0.25551877804903738722 0.43505427903185367455 -1.0433733650439553919 1.0756583178806928824 -0.60758765924683821869;-0.4267228789132758715 -0.45254838307727446312 0.44953453365002954412 0.27801095464126601708 1.2379075395440233276 1.1152622127837230614;0.8694365000040367164 0.03617306954313938977 -0.69513133741073063199 0.42247511742027676895 -0.1415960435163516884 0.72168690798228030125;1.2426776502409819791 0.51182624683271249477 -0.86317488169267575504 0.16095215336072968282 -0.84692399603514978423 -0.67139294300746521493;0.13242360607008149542 0.14558921271024305444 -0.76444892253244534075 -0.79456059719262350782 0.41259073210290730938 0.41329423667037179513;0.6947973595752313658 -0.12640722440389004499 0.47785989783469901004 1.2267294092487048829 0.26096837996357413747 -1.2310468670091174737;-1.0838997107659182895 -0.077376307730674512286 1.2612754627892377446 0.2128952278656872088 -0.79410274342502240597 -1.0977581878644664393];

% Layer 2
b2 = [1.4705689245094268891;0.59955047378778014711;-1.1068840262091619309;0.24216277514980200092;-0.38318594922646970202;-0.7283064180167084789;-0.98755660138801448777;-0.26748848781428435917;-1.1876163165732380733;-1.7041974298935349541];
LW2_1 = [-0.12776735129484259601 -0.03744036236521448846 -0.097320892762036925738 -0.0040387360331483029147 -0.5313194393030287177 -0.62842531450766281331 -0.44900614861412979639 0.24437639540378691683 0.25712172994856818953 1.248848758042528706 0.2558302860425321068 0.71103359814904876224 0.60163148257383103346 0.20734197848780047679 -0.3645702619673914513 0.44301514068057867846 0.86242425186937266002 -0.10849166014328728846 -0.14048496869885301885 0.017185856138291891182;-0.04113031615019592524 0.65934744795993849298 0.94994510738994153431 -0.081798773862338372553 -0.062034166659074400918 -0.029391379675215958261 -0.29280809615422348502 0.03366878771532910708 -0.13990984824509775097 -0.067229336140848056091 0.081923861944536380264 0.20911360768129405585 -0.40198253651560433841 0.070463162198598078279 0.57511961819642987148 0.16870966351642235903 -0.25788153127017082733 0.36799104289010264868 0.1856402161482674229 -0.10836261412872076615;-0.0059027074375342476406 0.089395388432711511695 0.23263971392180435305 -0.92314429766629246821 -0.021784900633350454818 0.057208404778242766264 0.40603605739233783467 -0.21495926430763379056 -0.26875033403643416863 -0.5241454732561838803 0.21917594213971233752 -0.15063977422243518545 -0.41658608176990635785 -0.024993050481022988096 0.45800521273928224142 -0.34689730139318464275 0.32810818535374536298 -0.29518504133919570842 -0.073960553062230871557 0.34923155176903669661;-0.71087807819082138305 0.47349972797943756797 0.46999949708889232625 0.13418490036082375561 0.68606012376786329465 -0.4745393453264964978 0.4409031364543725684 0.14459695526892751838 -0.43340063854993315928 0.090824170133461903931 0.84024111244453936198 0.44797140781524308339 -0.31114453002756381483 0.16772245568328406073 -0.15792835716503239585 -0.75735472178197427162 -0.18239584872217171063 0.41969111173327433573 0.10658725912421153359 -0.59611265669602375716;0.055489661644748673741 0.70835196252214671642 -1.3723492257278866457 -0.030709854432113568856 -0.029584527503055620817 0.38879946351107202984 0.17203770617755773098 -0.12973791348825081116 0.38454636344063269915 -0.39473669323780163909 0.20716448289495972834 0.16693205426413232351 0.35607469385626577818 0.120237187645961488 0.36223588156968078433 0.65298953057170938674 0.45053068803369650253 0.9934684004595480955 -0.10321228749084480902 -0.0087539199338396954386;-0.10638397114035039182 0.040974759151302588001 0.99262778930565764846 -0.38227405703901617962 0.25156585304437806272 -0.3548277413601986785 0.072657241051013954358 -0.24152729561400301805 0.41528724700053404328 -0.12517043682827308504 0.079002309842829868125 -0.40627032262097834137 0.38446518087288683585 0.018205934001048480753 -0.39203737141775119035 -0.06688703341654574086 0.26307163388862742082 -0.13772843093132744463 -0.19956512565592279818 -0.15927855302584639774;0.068499678649006412456 -0.18318247922520877746 -0.69937975197800106297 0.32164529091798998994 -0.1443866467951932242 0.1071256694468438464 -0.65174310515369227037 0.48174501388366258725 -0.41951302294587844433 0.026316990524861180734 0.29851848824222276813 0.45730588778185754517 -0.81570012908222611081 0.025618626483836743485 -0.42809202554780373395 0.59629224549040704684 0.17659494489902799463 0.44190273101726568195 -0.043307191830158194013 -0.10172461880348958319;-0.25610716882993689314 -0.21838746606740402911 -0.28198488786366349146 0.10463590597344776811 0.060497927941452624145 0.024513140727766238869 -0.024032466093201029084 -0.27477039962075000545 0.040813704175022301468 -0.95979470040379033513 0.098072715913634575524 -0.049751119295800380615 0.77476490073907722245 0.087624373078894951528 0.83390983024646914146 -0.34690030715381875437 -0.30701141778054097387 0.25736225238919857583 0.22490734518650540297 -0.58100377348363541063;0.031049335404266766719 -0.081236601424537854821 0.61598085937264468459 0.20467964532634050356 -0.084461737712723958249 0.045337032786371571358 0.0031033702395897831694 0.067478308853067700546 -0.30532372384670708465 0.39083985213459648822 -0.10706168118318321048 0.1172763091262968016 0.27749144207748954738 -0.01220030952557915431 -0.015303134821705033364 0.069176947345778935783 -0.035006510712055176338 0.014218408703612048921 0.11987590025499320068 0.03079640622674977013;0.14833452740957456251 -0.22228676267161034952 0.69777661772058541256 0.28399197518125873785 -0.17823299234854877993 0.31886476972600075186 -0.38702141954831559278 0.46445040189518815854 -0.31367079063951802675 -0.39240298389263650325 0.37248333258099886045 0.39508767887953510911 -0.42957187112632944093 -0.0099850911994255192594 -0.38634220871661850705 0.28221874479724290419 0.28845008824814361015 0.56154182606806934963 -0.17320867762332464723 0.46588896881413888185];

% Layer 3
b3 = [2.2113798992539970278;1.2627790671827623381;1.6628569123635004168;1.5368023321453470054;1.1935707414210132704;-0.76461176571012856584;0.60901932550954418488;0.7605775343118926779;0.39790839012553286258;-0.0085000441052867845015;0.11441067374825657221;0.25030564137494931698;-0.16547945419350107432;0.69577531204181752855;-1.0731854224113330787;1.2610360249951060307;1.0137087506272868254;-1.6879207086817709094;-1.3549997502082384848;2.213605147575200327];
LW3_2 = [-0.4489270696322862908 -0.55845152395290098557 -0.57687311112758332676 -0.23739670101841983674 -0.034688171149342833521 1.0934063496999988363 0.11697469292645637506 0.69119145010239613214 0.30653527621728304808 0.70365504470806516935;-0.81748998405719319749 -0.57995940912343280083 -0.62396873561665400221 -0.33071042306407261169 0.5598484325660921801 -0.2232285417773787195 -1.1127267614166940213 -0.45517206639466561979 -0.49777500744067659788 0.39436579338308086484;-0.38242115532406933953 -0.19813832079079099491 -0.56586029305465779249 0.44877128830592738495 0.056778605322187349069 0.87941781942184327203 -0.32974843213321036739 0.41687767908290451757 -0.63286560708010763943 -0.71225827261848684291;-0.62725456123897382898 0.67794145526700289039 0.032156781810517100217 0.190897736820345304 -0.058616534944680075137 -0.50407723634821477443 0.034016784189591545151 0.96910665085597447188 0.30468894145367442228 -0.35882548810970477104;-0.58887819974340593898 -0.44502920716711358295 -0.32569301241045428563 0.10186066759224005063 0.50938510025948446902 0.63518797450565422924 -0.15520679113277749406 0.56439407594396207024 -0.81828743585866270394 -0.84242737064136963276;0.42752381310457115982 -0.040895094511361203271 0.5749153765474797062 -0.75072090486230769191 -0.23679929905473695584 0.0079367965846134196084 -0.69501308589828481033 -0.44851986516089631385 1.2490286374554906423 -0.82140933258718507037;-0.33915286967398317053 0.82503677373414863183 0.013163375446061864257 0.075816550403304941441 0.032356906445275959716 -0.25135253932700601931 -0.29500000653170976861 -0.78195707614565279631 1.3715218249924598926 -0.1434801366512973575;-0.44466746422184172394 -0.85863395034128975336 0.27282693001722396753 0.38642410998132936673 0.21352361445133069551 -0.50302062114970358397 0.81597623317153877842 -0.74688119642068862003 -0.4678935306128400029 -1.009109648308868179;-0.87770484369250412193 -0.88831580879917049209 -1.4788057028389396397 -0.36527408835566654854 -0.072753417251858729098 0.252172469607223948 -0.77910599220223930583 -0.34202400923815828859 -0.038870860768867289414 0.92491173887893574079;0.30155363357823344872 0.88814934083859176095 0.41816440948925120979 0.67810904053752640852 -0.52311335789128077245 -0.3322843077506246745 -0.67636798212555881982 -0.92478032524494258038 0.54292371354293922359 -0.66762405988811523994;0.28976568636529176359 -0.75719693276798716308 -0.70750418567489625765 1.4803323677008934922 0.28817322595941580188 0.29280236279473914607 0.12279552675179741805 0.52926455964413532396 -0.49430428806542320297 -0.93622981077601774569;0.14929937377733443205 0.32794679417846911429 1.0229674859784552154 -0.041418091835271710066 0.42307950776472330601 -0.53468707777455870556 -0.3049959173243291799 0.21827813608529123002 0.76435022789600626236 0.31649593419224747448;-0.14135767165403004264 0.57489057089673278877 0.20778433122915121456 -0.12935997824219053198 0.014807946904897601945 -0.81981303003027161669 -0.74709099036206771949 0.40316915782227025211 0.81776634309910434251 -1.142122391355568034;0.89133098120121689867 0.34498237843183193752 -0.06312168371633630759 1.1573421956906004837 0.69045375136910236424 0.72291623583967290489 0.078516706265195246317 -0.037602421104255420725 -0.34375274229244073831 0.87715711620778546997;-0.72232709615589218988 0.56242738905737088562 0.25918659254921155854 0.11554549415477527452 0.46337674721717769799 -0.0011785683815815207846 1.1096156497160216681 -0.57785973138138202465 -0.76118838551528655856 -1.092834532046558893;0.57191655647302208632 0.18813331410381359254 -0.37586751902829501626 -1.4482725493055570443 0.040176033441118197409 -0.62135582027264024685 -1.2499765987862079264 -0.080969528859562184264 0.031591143397081689059 0.28983515344851162876;0.69805969351685492885 -0.11794714842283367251 -0.84112491637617725626 0.15360610264810720116 0.26601345859569291985 1.2300559143623772673 0.9363224568691033145 0.11735517691752511693 0.77213284183600527921 0.10848132303551577538;-0.20407929918203240871 0.79730723925947855069 0.19917210227804107991 -1.131417245536684657 -0.32639205066938420385 0.63693019529274819135 0.34651213690857235461 0.1326564453525006515 0.81691084997219665098 0.17649125041913985013;0.35712819780035026662 -1.0601564133288268188 0.10724597309533195899 0.75223369680748686239 0.48391505324444450409 0.14173857981052595534 0.50100724089090475921 -0.90360488057601162648 1.0502726100103922935 -0.29217480182846966574;0.58221240767924087312 -0.82338447968817496392 1.0328763084769381209 -0.39083436751148858956 0.82608339388224005795 0.38909002659692382142 0.97775966444795303634 0.4515491918469687338 -0.53318257583081329898 -0.69556836166006330568];

% Layer 4
b4 = [-0.12265096659120652833;-0.28981448636229628635];
LW4_3 = [0.72421582139036133619 -0.57602515312760671495 -0.25223854185296018526 -0.58991883466257288848 -0.023677119355980904419 -0.15462436686992667156 0.85240244633094441884 0.16476059669822371023 0.50914756983696285442 0.36540386710402683601 0.51406310987911174593 0.09167189363691180537 0.71271183206102961538 -0.63513499041448495674 0.39932586000968328666 0.79394993133019764464 0.51389170390315574988 -0.080538141094649559615 1.5727848320170692009 0.93307034207885231059;0.61861000347138117572 -0.50034419055739320914 0.18872290361104085421 -0.57133092487378689395 0.12103016764311702591 -0.30662787740198133024 1.1353630381018564588 -1.114899320313192721 0.071584118579084504708 0.21670415132618026099 0.14956344590672068784 0.24636255155870595557 0.3302638759667852475 -0.32905282044289135834 0.055512870992140465887 0.33994102179503099537 0.095866776110119483745 -0.3376928533102953045 0.66980754888002935754 0.2721908414689702127];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095924;0.170733054418983];
y1_step1.xoffset = [0.0999999999999996;0.715060397219156];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
