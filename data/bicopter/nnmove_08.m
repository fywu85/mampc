function [Y,Xf,Af] = nnmove_08(X,~,~)
%NNMOVE_08 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:10:56.
% 
% [Y] = nnmove_08(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.40432655203162;-3.05772726649525;-1.50337830487775;-1.46639144081691;-1.16707092234658;-9.39260604806797];
x1_step1.gain = [0.726937062841322;0.351273246254837;0.707661234476445;0.774842031884718;0.735192523401183;0.127145748685667];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.0731269248648698245;-2.6192413070370506034;0.89481344167500465048;2.2462484509619540241;-1.831790334118815089;-1.3730845938716773613;-0.66852311708272882385;-0.88855153228773486873;0.56830331727264382646;0.22983029373685531782;0.0051093334343407063869;0.28444933157574303628;0.95152212118824297526;-0.48378924891180208334;-1.5842233441347237655;-1.7350093863317250786;-1.0720351254942928065;2.202473755909463371;-1.9204364305961609816;-2.0743056222234526054];
IW1_1 = [0.70416406495304451063 0.3496380499796188368 0.38887525771250941453 -0.46605647343528300297 -0.71777425287283791455 1.1012183110661852847;1.2597209760122880517 -0.95769127982163948509 -0.4251162956120630998 -0.49666749258029702085 0.42243992245042888412 0.60016708127019757768;-0.056406229186767117834 0.2885061294242144414 0.43458743086488133001 -0.072398048531501973946 -1.0208842221148568541 -1.5881091362928163591;-0.062138337414092595368 -0.6282200790371663679 0.66642488264049593027 0.10019457761738419233 -1.3250038782687079131 1.1662644327297355673;0.34627313142368121301 -0.093412348474883180605 -1.1899670019535433241 -0.88151282521487395183 1.5730475776609298411 1.1902262239753584883;0.80265498254930367494 1.0658926447203849186 -0.33272325847397382637 -0.40653451513882737922 -1.4632153522778377219 0.26818193964076436631;0.287266301722552575 -0.11905588284106273511 0.013338642653965039619 0.36328286843874263434 0.74817291861438117717 1.2430697323405082155;0.52348119710125451398 -1.0096249815550721873 -0.73853654903555532307 -0.588453547119454079 1.095068426039810916 -0.98694255589556878494;-1.2578368025531709851 0.44427803515048763794 0.39733816141606093097 0.37517299522920244392 -0.85857283564430364464 0.39227079847588020023;-0.69503769339193355314 -0.79719013113587999797 0.17699752959785791662 -0.12662387833916752267 0.99187434572826294055 0.7917741382641003689;-0.065649536445270911811 -0.54938133186923476803 -0.5254112504396523109 -0.26103111169824849691 1.0788796684939800929 1.2275913234063784429;0.23376938508078881629 -0.06541674763436301776 0.31362567400661883754 0.35789618864353867078 0.27219688869734232073 0.39892004756927457176;1.221726034584409426 -0.20790345270525784072 -0.09824232600056413689 0.27071966934320018661 -1.2507432853329742972 0.31087413683467268743;-1.0342660547752289268 -0.06710776067304083381 0.37025726271103881482 0.53528289946077911576 0.47642130353409134491 0.015277358897154836095;-0.76347803649494261347 -0.50528519924688120035 0.22744673605422641161 -0.42350626008774261422 0.56846260110248336694 0.91720036768610646583;-0.56537782195698871313 -0.68827226446941880411 0.95127318535958982348 0.47982403387828531649 -0.92255389559154865609 -1.6137848581750915411;-0.90574363288735904032 0.40481579455811361745 -0.96791279403318508656 -0.52454003520339709254 -0.94119382350425362382 1.0856052012081796043;0.38549583159232769791 0.4867520376711853558 -0.50088442075014183441 0.32532691548304004669 0.60553823642328741261 1.6381310134206861218;-0.41936665316827204109 -0.87613552276208328529 0.64307453764341016011 0.10585323175472717561 -0.30514396774048352379 -1.7340953838626289585;-0.32764381013665572207 0.33255582489041535244 1.0071095440423838419 0.45908242324679476853 -1.0617450081036301501 -1.4496393433020293706];

% Layer 2
b2 = [1.5854651542554329957;-1.0919847046674158175;0.97694156096299966663;0.79675300930072201488;-0.0092006141748547411174;0.1102804153232281037;0.38924068487679164274;-0.65996973500687583503;-1.2707496584683615204;1.6107704311860402413];
LW2_1 = [-0.04639177560312029297 -0.49388532037689830689 0.38775071429525037603 0.49841179329165752332 -0.10813405049090672738 0.034334550680965962577 0.18084265383391384674 -0.17586483687599971382 -0.21830667794865604714 0.10677154918327493027 -1.0476642492637500137 0.79368394838491607146 -0.24711777941469850739 0.16201466837047109881 0.23066105477990872519 0.0053013332878888300495 0.084809223704638128649 -0.54822542974754950862 0.38979178260404256928 -0.24578170720731026822;0.46551870332256856111 -0.2335669705450768574 0.18327157568745081062 0.13023573804674776211 -0.10790880204964287126 -0.18088137351153621424 0.25084860502305023067 -0.021231191283800913278 -0.11186955417704493032 -0.10439058058323805178 0.20689104981802147742 -0.41519317589827992032 -0.083321036535149425872 -0.030031635790652915635 -0.065053518400565918389 0.12398881039680734184 0.1066610760525416729 -0.05791078937083528333 -0.056978504261205778492 -0.61857713859200269546;-0.26177407624719911672 0.53817293778738317656 -0.3852195669133122724 0.10960717317514860614 -0.2261446859938908982 -0.38715033687990851874 0.068526005121994582048 0.052578985219243340454 0.20105196719614301659 0.054579458196017560656 0.74915481643511994125 0.17362781530893997561 0.16901237814835814999 0.19774989802395478988 0.02411415808468836755 0.33776687869473015491 0.17845921774988304787 -0.0034328309892240277748 0.078814888676083993957 -0.4353755499584093247;-0.3710070114920086537 0.51797326588054326546 -0.0067279082355791918965 0.13812217818858715801 -0.32383044733046817409 -0.055388671787134705071 -0.23294041911263776989 -0.26495812003544727542 0.0097700127577588554567 -0.52694288751975759677 0.63190872439518086523 -0.51713222102772171684 0.50969388794415249055 0.10285888673907524204 -0.1023524144351103532 -0.062994395196376687385 0.4420527216601408127 0.13082814542893517196 0.24060794163555554448 0.32949759017677188178;-0.22880048437057570743 -0.65622571408435248497 -0.43774525676470926738 0.62312811040711579835 0.017727553476750427391 0.21619840657929348393 0.27657756588899262695 0.22473064584870630633 0.11133663484533264099 -0.73621822572528050621 0.20642553974268007533 0.88023367381674177956 -0.38679590761882859384 0.059967375679520137921 0.17123358488464737737 -0.50665862826454388657 -0.20088246416036642517 0.46129634210761666369 0.10288985492100258257 0.14889485886100944922;-0.21782994305367772703 0.058283664748389682475 -0.24333696115191996712 -0.085957768385064442507 0.22022422425148860392 0.060280014362732024791 -0.3610056861427693442 0.031834395623274801268 0.04435364643702867371 -0.082583307616731882472 0.41341148993687854007 -0.40412290348465418344 0.068452545860283833812 0.033483829202819330451 -0.071331564582520490259 -0.067599502513094503198 -0.06664909380483161061 0.12875562750065772111 0.19308644854625486853 -0.68030154610153148464;0.19567147107486901336 0.39844637524933501638 0.30713532288895140088 -0.38824052820529669772 0.86883112128673423147 -0.10679583537641473834 0.36363706908707132959 0.36208022508380699467 -0.052480577590017001011 0.097209119124251841537 -0.87637047060151751499 -0.39067373723011494802 0.66690975140741504124 -0.10378587877772339765 -0.1628595708874160386 0.16092516861997663291 -0.1871309610323103334 -0.51927854526083738751 0.098683600619013711608 -0.43129063775513387657;-0.39192044582354701454 -0.24130506908428434043 -0.285824550317652748 -0.23638618882508027896 0.60344488585993771856 -0.31966049978671368104 -0.065683151909537468294 0.038399996469927040466 -0.019535598760942306934 0.14630417210142634965 0.33990704668014432022 0.54830770998833766594 0.25652560700869320165 0.047252029221335652143 0.1689267092621202504 -0.19382560364988551949 -0.07006527495282820206 0.23843442096945077768 0.050278104503978252038 -0.68981797648214560059;-0.35963999160114451525 0.090679816413401406749 0.30312652277236012965 -0.011392325639348466551 -0.011945018768605309561 -0.11582417427523161724 0.14905825294915658885 0.029061456226411788023 0.021264246993650360446 -0.61718286488801477052 0.039400335512939775595 -0.026011538782799437097 0.016102540320999069595 -0.010211795681804114108 -0.76680227590217209244 0.095252305215630564406 0.015028871651460619027 -0.56089373219995386499 -0.034200153497604142416 0.18917125726327199686;0.18618756726453664085 0.73159080710793078506 0.56488130968806260501 -0.071388267894179791018 0.14793281069491712176 -0.079452403806640217732 -0.49839744893371218382 -0.099150488826832680611 -0.039318701060152838611 -0.42895505537796219109 -0.24771802375699683574 -0.68696415848122827086 0.14061517179639318464 -0.060279611626014854842 -0.33369064884307891861 -0.10035323130375033152 0.13399088281444943016 0.26158205957420271881 0.6041240833061407578 -0.00060524440821873855094];

% Layer 3
b3 = [2.0543131798241591746;1.5254766072915328934;-1.4276317666858031608;-1.1526495972992736316;1.0858947620319803207;0.82311098939820226406;-0.90449589481888414966;0.53099049939919318319;0.35680663094146847225;0.034284370148039998438;0.16746978845690299598;0.057647586453264329509;0.63110817882837699777;-0.77311720315848375673;-0.79963408960396531455;-1.1715006833969645594;1.2906037578847648906;-1.4911425181959390152;-1.7921835065368327822;1.9132817543741753585];
LW3_2 = [-0.64107219091489531237 -0.56122337568771940575 0.53964695337250323526 -0.32210749449225289931 0.44480595982976600666 -0.18214631727413871376 0.1174181682770289864 -0.62958940077640546118 -0.78392870428169159069 -0.48034822297225376886;-0.78428249674122019197 0.5818537026050631944 -0.5462016593905252293 -0.50496768507478351218 0.59906333789273091828 0.053921950467540682994 -0.63057024084054191793 -0.75242666009378034175 -0.33765871326464463875 -0.6834965321812137562;0.51217588686746107207 -0.55523367051916050485 0.3809141809435116488 0.60569370607324191091 0.89179164901262919507 0.919431210769746321 -0.16507585800915280938 -0.99281301754267714532 0.14376076118875505405 1.1318135799048278933;0.57803846903455591288 0.83084606335633759411 -0.13498655946004811668 0.50202890758438101226 0.54182825565377423782 0.56187826491489611946 -1.295596154192453664 0.16908927854671551572 -0.82533391841103720399 0.64878003387627369847;-0.89798725982065885631 -0.44180634998263429436 1.0830876654596073294 0.46324160954804260992 -0.72830909041300040396 -0.19084992792225827229 0.10816486802891679686 0.9773919634864517425 0.082136607883515955209 0.36741405300096557918;0.076541223998801810602 0.84135649352203945028 -0.41684281259907929318 0.29387882078248178663 -0.7258358036944010383 -0.47848822093351212059 -0.83989419913731389045 0.71670642411833163088 -0.11596351451924533094 0.5592935147451560951;-0.007040691998938421528 -0.29673157891205453884 0.35571168150667592522 -0.028005757915853714962 0.89907029830588658381 -0.98876056021986669098 -0.67993541286376979471 0.15010566720065046664 -0.11456156884805249185 0.577130654150365352;-0.71265792597427679578 -0.55914374560457613672 -0.30181602409985469615 1.0322977548387712865 -0.60752377223304865339 0.31376390761100786397 0.79895658802158997513 -0.42050045344723729901 0.073637082297743239323 0.55097553288877165745;-0.085711802306689371944 -0.71910604478150208507 0.15079141842226481685 -0.98440794453287305821 0.90025882000730605981 0.014543095814679845093 0.11861739584132936776 -0.48796881696439325937 -0.77623719182600581235 -0.39068371781396843412;-1.1509167452061845882 -0.15601547306727731046 -0.30418486066112754296 -0.45024960186591050926 -0.28887184273922655864 -0.13683267729234258048 0.69433204243097157438 0.61929190386690058379 0.80406828061722013246 0.34856524207121086789;-0.10386691015700635909 -0.81978254430958652499 0.91806833206663263081 0.76498618414770491736 -0.43304814262136698266 -0.82058640405599703183 0.21424778126284757529 0.064151795974478065254 -1.1592151300017485838 0.41563066720541802512;0.39410514298611631911 -0.73647952738110766813 -0.1543937189074512939 0.18976841176474712469 -0.25838952169127665792 -1.1061290105550318774 0.1458143562517181524 -0.27671840158651078712 -0.40478542395179045732 -0.089344307969435182715;0.54088808067215088382 0.44838061719441968389 -0.58288316129886819095 0.75262556774193867248 0.37234468903615347557 0.1913736291707413828 -0.27356346638624406964 0.44658863562117384616 -0.14931820114478061567 1.2505169865427641085;-0.42351005615766013079 0.0069584470964862326151 0.27635705243604458126 -0.72047236443062845357 0.47914337577711385574 0.18814446288495675907 0.54954725971969486942 -0.97273151428186377387 -1.081449540398971676 -0.87594096775692931178;-0.84406813129360191983 1.1052462852412012762 0.32192431137360161264 -0.80652988851469509246 -0.62433151333801184535 0.24788917943158253476 -0.57298076364886185718 -0.06702195626288617869 0.093182930072533337595 0.08161258673566601507;-0.60354267578818365791 -0.024915814641126337453 -0.76096484247225915087 -0.57846797471607513952 0.058670803446695535266 0.49982700152341158484 -0.88896761165487270251 -0.54190125201517891362 -0.80270007371086704584 -0.22079211360212672166;0.47747175284774118209 -0.79753130057750898363 -0.65319192247319424194 0.14786287149737434299 0.64197914522229948542 0.3309796842785235893 -0.480749081054240468 0.025627546859399413792 -0.88473176744484061107 0.84535573000146602141;-0.42191206247347784464 0.53783924863531751281 -0.80621504579093505871 0.1425324241560176064 -0.59321740891186680589 -0.77182701723735602783 0.80553921831027475164 -0.016203420532062980108 0.71453102888618624799 -0.56831238211103307645;-0.95832274487775781502 -0.3870888281616400306 -0.084749030152571833141 -0.15653518965075677305 0.92556062262029525911 0.057683073906662177266 1.0013629658320146731 -0.62384588560802523016 -0.39652944555029034923 0.0079854134533413369257;0.072126482585625470434 -0.20580609149058848306 -0.83998949971190950414 -0.24099140404910207591 0.040897138069918514969 -0.02383887247918757904 -0.1935315808679474725 -0.16365532868210072581 1.2363432205159943233 -0.020539066564149225519];

% Layer 4
b4 = [-0.9249562894180380912;0.25435337290659559839];
LW4_3 = [0.12684223175619177559 0.41280943685867721449 0.67970501251345460947 0.35158612431448060809 0.60652815673619031589 -0.27240765658128957005 -0.261079045195115933 0.54415101190839010314 -0.44560109596226027406 -0.8070060770268189243 0.15079961334554128904 -0.9329889949865740606 0.57025111454197952021 -0.21256268263592084655 0.49789050952087471336 0.42901877110795005876 -0.69525521633795261955 0.011418726372339821004 0.15041634333530359835 0.86093301683140877056;-0.32800844365457870744 0.31265561061876673277 0.38711396904199341096 -0.19305397634788737382 0.64331517779271640833 0.64702621872934784619 -0.36106688486083488021 0.20989104997117322138 0.20294012553730178539 -0.27393530049212727606 0.75309692234451541815 -0.86332127703770178417 -0.012810774325801426235 1.2868676142743871171 -0.62143572393992696501 0.62133313912930587808 -0.21213275421645172436 0.38869391172554557112 0.22675558765080819357 -0.69890128293389830461];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095924;0.219900351204013];
y1_step1.xoffset = [0.0999999999999996;2.40159106665859];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
