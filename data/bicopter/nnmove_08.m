function [Y,Xf,Af] = nnmove_08(X,~,~)
%NNMOVE_08 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 00:33:39.
% 
% [Y] = nnmove_08(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.14176009391765;-2.93543929307278;-1.8561936087052;-2.57890731985373;-1.53133411450572;-12.2663909617541];
x1_step1.gain = [0.522374734117766;0.298150665874942;0.578276914781939;0.499353559330748;0.65146023471057;0.0914060631117237];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.4783478525288238359;-3.0307516467039916641;2.3452133237497885254;-1.0152155769866837431;-2.0558225522820179343;-0.021341773184358453497;-0.84552456778873030796;0.18749049491893229891;-0.23273110955855466631;0.22189731938747930817;-0.26593330313518270813;-0.41856611666290832741;-0.043813632917522229993;-1.8411417590633931685;0.803044157021865046;1.4105889924636501043;1.3107324030826486005;2.1480705232958743345;-3.3355193085845256107;2.5137377225395312053];
IW1_1 = [-0.01414332313451364953 0.80086955183853669737 -0.17405901660272060649 0.099644898251852645488 0.35245082764965229849 -0.28299074685912428695;-0.2073256487420517824 0.43067638477429354138 -2.4454848664471691144 -1.7695983454790715772 -0.87642246470575535522 -0.72311097130194557092;-1.1697210345583664015 0.5449347387859406755 0.53548984505090702068 0.75395641641739297167 0.68087001823000681267 -1.4306845994946275624;0.53741162210912352126 0.75791420553324939657 -0.79405162539613061146 -0.008441375982547441939 0.12973362142785618834 0.57708481717732684757;-0.565291632567822111 -1.6950947305618937477 0.84763848634492755529 1.8290406002017514098 1.194165152079568637 1.9002122450055984881;0.18505365394351369623 0.30534419381392885473 -0.71228072465456149231 -0.42698604402959150494 -0.86610741934103063766 -1.5768319326209510045;0.72982986321525677997 0.53267945979125752576 0.55490860747041304002 0.57549041242857468248 -0.65680348790301712469 -0.24953241394538319686;1.3717773913463331414 1.0125086817814361595 0.59738399744218950715 0.77315512622702420309 -1.1819934028494847311 -0.51916852376474309505;-0.20286299680597119632 -0.32151387124625802061 0.16636809322909401621 0.039059097476183045339 0.43396843387006739379 0.52082432676975320973;1.2348410099338986701 1.0596088441822009152 -0.63219693150472078269 -0.7170826573996122999 -0.58932080760011829046 -2.1368919016221048501;0.29016372474245194502 0.18649664818464978255 -0.33632934957414201138 -0.16112166100853833606 0.038240801962030182559 0.58607079681596352394;-0.019477406443935849079 0.091629394409221687212 0.25149736359592106405 0.17473347610836570398 -0.23511406318331759535 -0.47320311809451254259;-0.061817094677342240838 -0.029458207646775255023 -0.0075162355627748653544 0.099436761677684948335 0.15848986334998343972 0.26139025592608494675;-1.5025184156432700444 0.16632134761264141809 -1.0225111128570207875 0.50080385973528784849 -0.60396643169271568841 -0.98092138197717182457;0.57916416704663187254 -0.20551264436915334111 0.66085976243712929445 -0.38431522258795569602 -0.92469027088208910481 -0.2917079803919577774;0.18179437621275945647 -0.67204337147385750928 0.33348767735383882949 0.92790491482879267071 0.82530942254287453785 -0.11964393585204591286;0.66034273187600400767 -0.43757939940527573741 0.38514954425498482138 0.74688224621082743848 0.40823845612989051457 -0.33242843739712268913;1.2206140378398042667 0.9325505713468908997 0.68143595235415010958 -0.62470536104934104582 -0.14516570695759356546 -0.89720125884768675562;-0.85160423436771248706 0.16930131924946822952 -0.3114290657988829647 -0.48993311736068367868 0.70648365327703854799 -0.83027810013578462467;1.8756782962885425459 0.92446833177281206861 0.80457497109960385284 -0.71202966856203231405 -0.48700672879320566766 -0.75723039483464327226];

% Layer 2
b2 = [1.6127676969487831915;0.55820907957142962275;-1.1344310148590674991;-0.60739482017012669246;-0.10163746560845736411;-0.16661920222371678912;-0.56323678632710461045;-0.53208300993173363036;1.966901526282338164;1.6704672738768231444];
LW2_1 = [-0.16276490667716028704 -0.65031168360601487866 -0.51981638937437046888 0.24796189681392094561 -0.23666667052796605542 -0.57937359756596962246 -0.89720489679979997799 -0.09676823181127801321 0.39285327734780167708 -0.28494830629162487545 -1.6434042175308316569 -0.32035488385211180473 0.60153064182728477327 0.85386278837769702399 0.020020981414706970347 -0.84795924721867932394 0.31756515279371533289 0.15626342548734870053 0.001032719791487263835 -0.06135308386842142081;-0.71981978491058107306 1.4461810043868612574 -0.1961554486909072581 -0.23980664362997380912 -0.072642054219513349511 -0.68412473607416723898 -0.8313123544888454397 -0.29674731277117366579 -0.38166459723474849275 0.27186974773759686741 -0.26610796806295511363 0.32619282062296345304 2.1260038353146732959 0.099515439677672692942 0.054261849530363080729 0.21701458363243855687 -0.034222192041216133174 -0.043613491950697837185 -0.093708904356514341472 -0.82464297050412960211;0.39103441206611400105 0.14677587963913740765 0.21973280286330687527 0.37779739983201615638 0.23600827475334709704 0.48695998414497049245 -0.56129528932328620616 0.3248384909456176195 1.0841902016748956594 -0.19885859269268932326 0.84479187073293071641 -1.0438036701695583286 -1.1648416125688936251 -0.19599899359688638389 0.33332041035324172507 -0.71836573890240507101 0.52603673393126437752 0.27963706477804856076 -0.11532068406917636572 0.12323983535625163133;0.2747266109170289905 0.084773372539035524165 -0.31718745722892516259 0.16021511375265690136 0.12912837026897425186 0.40562840168651476125 -1.2579871029980802533 -0.9505630804599261019 0.47308399274669543644 -0.11977609162458409398 0.2765356397346895867 0.0016769421375323575237 -0.16486408315229500454 -0.020826234508072596907 0.10431799388678086871 -0.39458299553045417252 0.2307538930807562505 -0.55484862618206676199 -0.38138649553769632394 -0.7483091264932463238;-0.56508322534372212864 -0.33965768740208379661 0.018900400662457531031 -0.034514956004351039776 -0.0049068434093364546311 0.032355298670512483428 -0.18718989755371309713 -0.0057895956039774754825 0.50225455092399973189 -0.010733795312673700267 0.028595532406325410713 -0.52799578861632756599 0.26453298001580571874 -0.098882742169941736932 -0.025623682851823714052 0.04179174534087962134 -0.016472299207725200898 0.10809245907089345962 0.6501687234179306385 -0.22425444190927004695;-0.11981923151628284807 0.12092103449885109601 -0.29315210616549453038 -0.12092254449306481801 -0.074487064385098347707 -0.59210555969700739976 -0.48547687297289843222 -0.12558237246662343201 -1.9100029880779665348 0.1568751780171397936 -0.35234168613474015075 -0.97702273842705744666 -0.46137743242684930989 0.44123012384056786717 0.057380167284131929073 0.040200779823370322297 -0.11519666405333690851 -0.47469153226281324276 -0.57724874673269155334 0.50394479297851046962;0.18262011465312941172 -0.20414648009155911268 0.0199598181011416409 0.031072811963710474797 0.0080033327102217496213 0.078134662252297218399 0.20288812370010633757 0.076765623887331158048 0.95983390199588625169 -0.033837206649162614169 -0.10900432972422424704 0.20236699347444703223 0.77244541623266427255 -0.030593596374691778284 -0.0013477445957900281021 -0.033103718420157107749 -0.0010295721155848345379 0.022896490951670112751 -0.67858187197425223758 -0.003343312253762986512;-0.53876733457645809011 0.43801632046332789061 0.054630328147125976901 0.40617237615677542761 0.10038973464809385072 0.30398503864177500722 0.480541472053035712 -0.12318016556627632563 1.0529973835063597409 -0.062286750929002245025 -0.10149484855186330368 -0.74648474482880089464 0.7700417357529429907 0.36922496772940088805 0.21795319638375026949 -0.52167434159246917069 0.32027943027504346407 0.035425289887978987646 0.27624996894579317841 0.44841099208364548767;-0.18798799614686928505 0.29231482443976458674 0.065407995119857342825 0.2100792580961133027 0.070689730185665183848 0.084656994119482006922 0.20459451366559747165 0.061066176124175065854 -1.1499212720262956822 -0.017185010221159528754 -0.05629660122491931401 1.5274323533351616966 -0.93717828090798427354 0.01892562408804108337 0.18188360621334689893 -0.38154593300846750825 0.2790196366675476991 0.38228902508548734396 -0.38995850653754449144 -0.71818480496375747268;-0.67508477855918991306 -0.48086945445757439677 0.39985337107861701478 0.94122319427314371509 -0.20396989608758714363 1.3650313156772537759 0.92547866326909900003 0.45434139851463323234 -0.23189691929308678398 -0.3654041546537772911 0.15970115720599342701 0.98029608482497210264 -0.41706488131633479011 -1.0621914478417628924 0.61513583891220668942 -0.15725505406964468413 -1.143015074250594898 0.49430971839648768507 0.65409204277318044873 0.4392378293425518998];

% Layer 3
b3 = [-2.0154323058510215105;1.5026261364551996014;-1.0876127118487519674;1.7685421587978529256;1.201235605233152981;0.58372489489477408231;-0.54239403013083209437;1.2193829370603745943;0.4949639610243767307;0.23451328395539511318;-0.57272708467125199583;0.022563815775038166545;0.55881025165836795132;-0.6539708068101468541;1.2109961898254255619;0.92944878239295891653;1.6025729550073979368;1.168653956548863837;1.279055363441288895;-1.8821731783227142465];
LW3_2 = [0.77810545235087191784 0.3046051888020092635 -0.73741760852368587464 -0.23394552434919560491 1.9613680027786086768 1.3272702402095293284 0.97956766499441583207 -0.01462180166940602391 -0.038103733180233988198 -0.98132690905920172408;-1.4506705393109040614 -0.13508640386305703629 0.10442633120813922532 -0.016542561018269036355 0.22393377523004109886 0.19417754978427190227 -0.25303282780739438929 1.0577924069959034892 -0.032150630671760022095 -1.1728669655204613242;0.12715742704387381079 0.18336400930767426942 -0.34147079080775644133 -0.10979592002673316253 1.2742830372806543959 -0.081885159732261042498 -1.2550905464275148304 1.2622886822881416169 0.1332301970656409873 0.224004494127385545;0.70904553499554390239 -1.8293043599578018288 -0.33899482583869672281 0.70087066281294063685 -0.66640119490441884764 -0.30367745048678962405 -0.5361193222685066706 1.2436728510075600873 0.31374547532538332728 -1.4123498055237533322;-0.24040256066427237447 0.036403669405190006159 -1.1314593201996496763 0.076660899270056870325 0.89784488520162952785 -0.028595681149895472301 -0.019586288095527128184 -0.70153249357052915869 1.1055812854628150887 -0.36608879708429592492;0.035800667185775070234 -0.29692556851065660117 0.021256164731399334461 0.2117425954727130688 -0.33262980707516731638 -0.12214577778890801929 -0.68779284382525984753 0.78514800967097775342 0.93310226746300639622 -1.0736078980541099437;-0.92023116211109057261 -1.3517676263119859925 0.10364683381713730992 0.018225933606293778788 0.91684590064738780146 1.4868405916459326299 -0.017876418647644640864 -0.71061188649205131451 -0.5496882373913105635 0.40356475621927612174;-0.63364011094897809695 -0.79513558231195313741 -0.45520289861609386506 -0.87345648558302402265 0.93817781841018021982 -0.94682098016134752516 -0.41729222836275364772 0.61550081109145726721 -0.81706922472887810738 -0.34065162985801350493;-0.0070013985065035550664 0.083721051516631866951 0.11784354204520967879 1.066849309488141051 1.5256811656115454312 -0.59455121234494368032 -0.18268073840586401824 -0.79718475673312061414 0.71684169956548993152 0.48403157385241729616;-0.9632659099689108162 0.61180110655283614918 1.2099911515108958682 0.49402937271152269627 0.99583117578857582863 -0.044023918744197310104 -1.3706952017648175168 0.51033065349077744166 1.1002334480243547432 -0.081547963342626095251;1.2161665273792174879 0.71254848981868545987 -0.34775778934698092781 -0.21910196848333104991 0.14413862498844354221 -0.38643544891055275903 0.61482585742766937553 1.0942834197290240983 1.2384903952581989284 -0.15608857429417030693;1.0697005698775101656 -0.065625347629198846344 -1.2751837754784436374 -0.83845770076606795929 -0.39411020294415732845 -0.11743566960209661509 0.19583073874890841171 1.0115807352239278849 -0.83932261700933541437 -0.27835571383310220295;0.50842269792936833905 0.36863391967102693281 0.26057202186051825477 0.0042927116585263994791 0.40019359015341687824 -0.34503593316273545311 -0.60165090398921272641 0.36932187023421875205 0.13810783653631356072 -0.35739151857705220294;-0.68207072698884574358 0.94953000936540776777 -0.83617673362332456399 0.53384735233454994052 0.24724438002235574197 -0.24773466499351246006 0.3968392917412184584 0.56304790484744127177 -0.21696468214939143571 -0.66692469105982843391;0.99577281676593698556 1.2450797676557878724 1.1050655770590609439 -0.22488440277874366391 -1.1853753855357558322 1.3525768257563284269 -0.075708473321028021963 -0.36305462509385494352 0.37056334530206919142 -0.12543030667211066409;1.2755044194695055459 0.041174908963669494544 -1.0139774190245920416 1.0596877752198661238 0.63013138933810053377 1.0499602756867558728 0.39656437511300424159 0.22699470860155473995 0.17926701947784717817 -0.13157196441876939375;1.18289318015434608 0.59973120612525410156 -1.321603997102065442 -0.075060300712447319826 -0.30709044224429210557 0.39472949508409294062 -0.19858377573251859149 -0.37036789164823541443 -0.97934133529568523358 -0.28383455253307920962;0.30360600149507616097 0.64440544787851317121 -0.20118277515852373005 -0.041574261230801823341 -0.34476538483054436357 0.033115394075907494953 0.29506434381242430121 -1.0431735825737642465 -1.4341510033456648099 -0.7404880904670192443;-0.15571380043436403029 -0.21238815799555085806 0.10620185101051998755 0.4696290445231256494 1.1319221406517570028 0.7032000440872420155 0.81196507121847694144 1.0318900714244709782 0.0022536341293370024987 -0.23464250773872633027;-0.95373036603124705657 0.17470896618175552062 0.59257258122970613012 0.95414313364017766528 0.2713077147318886384 -0.24734310197028483436 0.78954596789891984265 0.45265868271465997674 -0.43534654787989385261 0.49281336421723886954];

% Layer 4
b4 = [0.29062164959854136503;-0.20303990913237915383];
LW4_3 = [0.2506708834206434755 -0.71853492838936650067 0.92003471616205001471 -0.0078419080925709368918 -0.18132802362930408591 0.82138945985558020624 0.49790331032606355288 -0.39574547352146444146 0.34846374171446198309 0.24267208540837598152 -0.94132678894691867999 0.40320848416134064118 0.65861472843807133959 0.25415562228327204242 -0.39407086982045319568 0.044635805906684228317 0.87977131098786298669 -0.38171746834059477882 -0.76452539559217091991 -0.2638657058379215159;0.032472860122697858043 0.0011729954161802456751 0.68610589015031664406 0.024494183405866686715 -0.98848904203378762379 -0.29436968049520290114 0.2097082590115507128 -0.02646174897325481723 0.26692004415406084261 0.21281284053014598578 -0.4851256781101467852 0.26339510692801154645 0.83679464520387314419 0.56400622749939977041 -0.24821965727058392659 0.91951503662270051009 0.15148928884461429489 0.015089381108518620106 0.52390663265304326934 -0.4438124907688205667];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095921;0.154008828929914];
y1_step1.xoffset = [0.0999999999999996;0.715060397219156];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
