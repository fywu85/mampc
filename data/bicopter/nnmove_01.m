function [Y,Xf,Af] = nnmove_01(X,~,~)
%NNMOVE_01 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 00:31:47.
% 
% [Y] = nnmove_01(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.61717502386496;-1.07315448317328;-1.24295645345096;-1.79932934706044;-1.53133411450572;-5.96399313732134];
x1_step1.gain = [0.605311482852156;0.642903681907848;0.702910242784975;0.764652309399825;0.817033208121978;0.12838627801464];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.2981888090217168497;-2.0435603422716126509;1.8400056867743876943;-1.5362290322297154077;1.3496664082798688344;1.0699815794515232792;-0.84152650379020432769;0.5352215345033111138;-0.27235021786404922661;0.167479472149900388;0.090028205911658831795;0.49963067331834420948;-0.62726233751689763896;-0.89804781525203558612;1.2231097188885993177;1.487904455450568042;-1.5955857170917657761;-1.7930021498235144684;-2.0484330039951244018;-2.3651048814534347819];
IW1_1 = [-1.2632859467812593834 0.8983259985847056317 -1.260806403083865046 0.0073075751198749365478 0.85332442606424874221 -0.77219569816318545108;1.1587629734358357858 0.032284340760426258332 0.86758091106417856153 0.96589714236589974128 1.1222204018555090865 -1.0317421033510072448;-0.13356240694834084493 0.68916934695512765963 0.89519971515034701959 1.3601955761756794328 -0.2878707058814456432 -1.4145377466114916754;0.99596656058241650467 -1.5464558632194655985 -0.47526038269068093811 -1.2242958016436653601 0.25456149016982831945 0.50052280945206006901;-1.1784619659852835216 -0.70135976035903169201 0.71993855859234312522 -0.91550388203006727306 -0.70314806289782005866 1.1682915195195109348;-0.4305895486626436508 -1.2927072243632429238 -1.3918272678861811631 -0.0016970723112578502134 -0.81097549962815662639 0.94408663447605756236;1.0824489223284134987 0.96856894187533271179 0.9295090048400361793 1.173317810191666366 -0.80405742040166994222 0.57945641418855220461;-0.99042977327790759912 1.4640877938849268247 0.15003664728258825356 0.33335438745401702043 1.4155344793391464453 0.30470658641416054069;0.36378573736732744415 -0.32844220043404975806 -1.1716542154155884514 -0.51625390776710311513 -0.82279841360581862375 -1.7463153065855983037;-1.0408322012337982709 -1.1404784008682520291 -1.2064494041484827846 -0.57572142661034964028 -0.67659296271159241609 -0.90119378659809201704;0.021961282508196032504 -0.92836938284889869433 -0.42378184458810541635 1.875453192196569363 0.29780832499033699223 -0.84192888723473002788;1.2121981552321274833 -1.2685092225225576001 0.046802466775473131055 -0.62461736973344539336 -0.35056275251182378305 1.2008261804161564079;-1.2191256965298424841 -0.50945003673641064967 -1.203300361249530992 -0.072661975476019380338 -1.2561118717263048961 0.29683523283681284566;-0.60392469266818571416 0.51706071167782752251 0.9471138942564675256 -0.044102870635658764087 -1.2562761161420599176 1.3933173563241154636;0.8585461015506942184 -0.87831462430271822761 0.90335268113827382752 -1.1453510595026594743 0.63167163540921222875 0.7532969617071765267;1.6661566938493730383 1.1852073146291981498 0.59985767970202341637 -0.69702729139545704928 0.089412437054332716269 0.13921324800680609513;-0.48257552722885688201 1.0049709621510829471 1.5743802862526334874 0.50864549509137113592 -0.14245566718491919911 1.1726480834462313929;-1.3868400962135332133 1.2416263437137089465 0.57352965913243592055 -0.082902149508795958122 -1.2248155571211816195 0.23616633609713916231;-0.61143157825729899102 1.3018135585247363473 0.070022713210205769774 -1.1690611021108765488 1.3693580425006595114 -0.18937189110027285999;-0.57620076056206759318 0.68851476658034505007 1.0089917051604766485 -1.0788810429628648002 1.4502728928140107278 -0.20797682473615194954];

% Layer 2
b2 = [1.5770478028815402283;-1.1969386866390965274;-0.83359860120817119711;-0.50922382597344806321;-0.18240171479002381671;0.14571349909376418719;0.49485187757645188178;-0.88135915438239265107;1.2033186303763374614;1.5719580008784872494];
LW2_1 = [-0.47218859805506868677 0.36702558464416312756 -0.1626663738081678412 0.23332775479003292629 0.094962530131663752675 -0.089033621232913695565 0.04412560122276021346 0.55977831219520290951 0.21336133418382396965 0.14130762687636344577 0.34672164546981248945 0.43138611561868994704 -0.26727340109674185831 -0.12546414921888560112 -0.2767862426560895317 0.18585413214580356889 0.67747740166353920266 -0.4527215084093487163 -0.002910507836965361278 -0.59009642249611549136;0.45266081724595558233 -0.55084664654973902742 0.057143280843414051562 0.32901780520745238512 0.44556428347927173883 0.3321799601315561512 -0.60251490112858663295 0.14627618237596204387 -0.086836404612758877342 0.033105425807652272274 -0.4049183085682307448 -0.089985301697057956671 -0.33388118349530127027 -0.41129071643353820598 -0.51907041823279076453 -0.35068907449794395337 -0.41456905100177227075 0.085379642173637290692 -0.046049783432959429108 -0.31981807018928493092;0.097690338708945084756 -0.018816119892751670406 0.52148519460499587197 0.21186631477566664206 0.37146939385857102867 0.35432468076938411494 -0.35313078264399799799 -0.37894365832764476121 -0.44290036971462715121 0.3046910441252732582 -0.5354381052394550089 -0.48533346936636317936 -0.057765603332410014881 -0.5021680010550406692 0.27778763916967508241 -0.1573046434490473211 -0.28038435678759876524 0.29546651934525147709 -0.21000691315263600445 -0.20806006400993809491;0.70166121245794954575 0.24575617922262060766 -0.018857689296846284061 -0.033057631172981938317 0.37399008080833040513 0.04481169546369378337 0.064302254441858913703 0.054208328361154023423 -0.50680721495208025384 -0.60761749717909274704 -0.17143426651742860178 -0.29483908871390873685 -0.33576657397943615591 -0.13714211022002520401 0.022665310467747473711 0.46497031558831780629 0.4005914447684377766 0.20140358423393256437 -0.2367648876495842547 -0.18523590137344916884;0.1593882781886896971 0.013676399226020988925 0.01456245532636633172 0.15291449866893974674 0.049552572998776078794 0.3731776234795118885 -0.63163114270129561145 0.11261123076026918755 -0.62853682601004345898 0.017979512359909188834 0.32503153568365045212 -0.3915499077877081513 0.43282128010160286768 -0.3911076435615111202 -0.34723569501814099958 0.57260730060264619645 -0.30863498365842573223 0.099459338656583268223 0.49877568894787227549 -0.0086717324167672159285;0.48347269673241066723 0.38442684703970803062 -0.28946395742167235765 -0.0093096008382378310497 0.096953520330714026976 -0.42333422498944001111 -0.21582726429185791761 -0.18792394339178597473 -0.69200328771352004331 -0.038057758365643859499 0.43983402220050527021 -0.11968405323158670672 -0.43656289036197554188 -0.0686283124156619323 -0.25521348017613987302 -0.47580981709166891847 -0.021650275166638040247 0.48072070090040897039 -0.3210729135896080999 -0.42952771401837741561;0.040083969153998255663 0.0092691467105261143161 0.38904754598288854295 -0.22406131749864591218 -0.61920743961231927699 0.6296322267938305739 0.34451046636379673016 0.33456049180721469938 0.57023336347874653551 -0.28536982420856571441 0.54009463094164678054 0.37128877205388338689 -0.12979441813002801087 -0.10664337238317912748 -0.017517268581880761358 0.52091739391306035589 -0.35273865884929334058 0.28217246777750587539 0.20481174831174303597 -0.19421879191841595613;-0.42848804586826350072 -0.002447470536302329136 0.20242006141401372443 0.45704497949309669247 0.24894824218603273103 -0.324102444763069375 -0.51795333766660922592 -0.06708441802533371412 0.62473491513058099223 0.36059250470750231488 -0.054405485382522857096 0.40636520183055235833 -0.27694989816897208623 -0.51351851958096084161 -0.4902427747599778507 -0.14366557420023434721 0.43167267200448988795 0.206326300659837647 0.30309464331725538555 0.21984958176082849968;0.18925219624967667964 0.042982367690006309524 0.37245216194331515203 -0.3625694457533758519 0.51394794733682280796 0.31393705071507926885 0.31568974464857219031 -0.60324248376590694498 -0.06189155407023100991 -0.4371755518041609001 -0.57569580243688578403 -0.14067974747983255646 -0.021470740469749966667 0.45364127238081258797 -0.054904281419753765692 0.12980884577532342261 -0.41567865348838778372 0.56562050136806130141 -0.29817381180740343272 -0.16175333299373531593;0.46774838656857559149 -0.45178581007355667065 0.19351666172638484764 -0.49161061830313595999 0.37503235420553165946 0.47930979827105679725 -0.48623294667879568554 -0.39814284521210463463 -0.29475714020159060613 -0.31867648804907416915 0.16285280118798522997 0.042885296731080845001 -0.2477395866658013146 -0.13663560762782711588 0.23905506992156830282 -0.10823247607181726848 -0.44300405795071207127 0.43369736935142094714 -0.11893051585444913698 0.48751197198360007867];

% Layer 3
b3 = [1.9104971759601592218;-1.6772013723190328793;-1.3952018670925603328;1.2419267733006316146;1.0831092848863788092;-0.85188728347881059744;0.73455351525530154788;0.46318361772817706612;0.26284724019584881916;0.10714525117762641049;0.11026737697276957351;-0.29586349200845157847;-0.48278815221205956254;0.68836462847309110025;-0.86554367754640981758;-1.0704293925063865789;1.3023220972763493997;-1.4912598297544528148;1.7257055308392976745;1.8807302498345785935];
LW3_2 = [-0.49413662837649729997 -0.48450609860309745702 -0.30277870817344360033 0.017876902972754678961 -0.65261807264729954081 0.18973515931488835196 -0.89507339533210972249 1.0005482899989124324 0.81252308820216223584 -0.031174699201428953538;0.71614989672013618094 -0.21852161852291557276 -0.28373111493960873064 0.9152301863581268071 1.051009338298553919 0.23143870720508061267 -0.30872639210181201941 0.63030781367879817889 0.12950371948684133439 -0.69438473914364984285;0.4465242101663792762 0.24465455650177664326 1.037795774205611643 -0.52456096963479847961 0.32032735138420359577 0.61225136952204750607 -0.4479225656782591658 -0.23738047186874605687 1.0896286339351302086 -0.013864516073065089041;-0.96312720948301377977 -0.85726796099562141418 0.8660725827922890474 0.41245225333147594871 -0.25253311773718228883 -0.045225691271925910764 -0.89449167634486093093 0.075466812816528477947 0.52019022438246376172 -0.0011644776270973294929;-0.49027341206446278798 0.19098745831827390607 0.67571654506529743589 0.55444003734757707491 0.65526003262101606417 -0.80740743823963090353 -0.50339129207682575817 0.77038605163084517002 -0.12792422573212045012 -0.58771352497610074295;0.4994014296926896912 0.63543730631908024176 -0.32634824003648793544 0.17700713181723146117 -0.67917499857848850908 -0.86037924774918383974 -0.43364366081622623961 0.038894735993558561538 -0.45365087500556866562 1.0776401226631755481;-0.47817969235684043561 0.66265879033207630844 -0.62850443350119766794 0.20649618106787842597 0.31518911974673496923 0.47515823013051750046 -0.58675247205152469832 0.77007665983565276591 0.273803839451829234 0.93225995004332440352;-0.41687273697245913473 -0.83984077430844661372 1.0770998758805048201 -0.24819616811393627187 -0.2402840604415409087 0.72232835856701027577 -0.88745873416466325434 0.11614303588692051483 0.37399778180989873277 0.17498654801526306035;-0.14222145794893983894 0.89879008677164540231 0.14495579658089061126 -1.1468734353178680063 0.20245747918733200676 -0.21868641354790691045 0.36114459887042921205 0.66917202016124710529 0.66454662789429630454 -0.16413433332160751177;-0.096187718076007830414 -0.81432161656712742648 0.31426957902691038393 0.34848249958080468325 0.66893900412726037263 0.79945522637257582232 0.80143026742830159037 0.18843977276903836615 0.17124907532672001276 0.9263601698048090638;0.60653734521116597911 0.067348545009553353879 -0.9127481069791852919 0.23748261365006767543 -0.17654185592446802744 -0.2206944180334040051 0.48389764196646978256 0.67228331106778771442 0.30294670576061999423 -1.1843630200540482544;-0.20646461008466024389 0.24490038422896975856 -0.39926811374236204077 0.80452462374750133289 -0.58796554079035789897 -0.50655519875701238153 -0.82806657733540489641 0.97967475985180751952 -0.61524886089892072416 -0.15774693362030670074;-0.95011772853311904363 -0.45663262360295431286 1.1514745226997424865 0.059266503579461130014 0.63580042993561836084 0.1800609315163891333 0.43611382963445372019 -0.23492442673816812948 -0.72389636901403231484 -0.17695856032216605858;0.47129994679378273137 -0.75211645515907021853 -0.56144367939671391277 0.80341492628613020432 -0.013644240610566547162 0.36312279041566281057 -0.63516410889881946833 0.8574528965383760859 0.05780857422256230338 -0.33550784441656200663;-0.35283638989124338492 0.53040047288818148452 -0.65834068024940184394 -0.79644279610280688253 -0.4704326016250986453 -0.53726197822250953973 -0.62900271491891679432 0.7485767742429151328 0.090769113431178660711 0.80528505956628826379;-0.040454584682236824356 -0.77623141664394401662 -0.87434895613677299231 -0.05178955731028648396 -0.0097010427509883444264 -0.82571754229851568319 -0.10374908326808157666 -0.47118570587889485601 -0.91413999719252814202 0.67776803943707653044;0.47644754765472363545 -0.91844225756168462738 -0.021340753024700412355 -0.32168383540195472081 -0.6051786284798230664 -0.44272788281702052382 -0.77716945580407026384 0.84145077603200169047 0.55058158204006102387 -0.052905822095034055197;-0.46266732417378397813 -0.38593789893476859731 -0.13309665507045298494 -0.31752429234099888156 -0.37253449060388305059 -0.9907134408852112939 -0.88213069443032809946 0.034685112591420250161 -0.845275540246241186 -0.6876124800822545069;0.89698479028675948133 -0.57265120613276887518 0.063861117598561722986 0.44213550690352482198 -0.51210181194948667383 -0.69121558361912804891 -0.98491241619411051822 -0.49647662019167804193 -0.046876547163219380032 0.4697542425460806137;0.55276447714235543707 -0.29576251313714685409 0.56582306186226560829 -0.47924073935873495733 0.76557628328562443709 0.11924274692745309712 0.29596987060290058658 -0.91347659011069037849 -0.69469093651841462567 -0.78742112752618165228];

% Layer 4
b4 = [0.15951608001443867701;0.84659219204554059246];
LW4_3 = [-0.03603119860281656095 0.46868423213411269934 -0.60628248543702545348 -0.13567197914883233345 0.54241373196344122576 -0.76514840567271114047 -0.19236065939071006481 -0.14903737853827131454 0.13938988089077747334 0.14333897082671870349 0.33353601365289231584 1.0055850180006322692 -0.85289863088498985011 -0.67001436075746645393 -0.31171284515439035001 -0.85716762740510943352 0.6602839478185522637 -0.82295480922762642706 -0.67336703576105549907 -0.26166432945693640644;-0.18437354673454278697 0.92650409148132772952 -0.80031458180559145177 -0.8927818952838272315 0.23684906224629292959 0.86862287593066156433 0.59973196790471428042 0.6354179253351773804 0.5186965530728786522 -0.19086124973332049826 -0.24385863449883990461 -0.32521401497201191111 0.34154637035547019686 0.50986844956774957094 1.0112084496897539854 -0.49528341430236622056 -0.60944037560419783706 -0.56181468896426978166 -0.60556505485332046135 0.72156263536430920169];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095924;0.202501353740188];
y1_step1.xoffset = [0.0999999999999996;0.715060397219156];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
