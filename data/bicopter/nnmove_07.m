function [Y,Xf,Af] = nnmove_07(X,~,~)
%NNMOVE_07 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:10:21.
% 
% [Y] = nnmove_07(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.40432655203162;-3.05772726649525;-1.50337830487775;-1.46639144081691;-0.882733010962612;-9.39260604806797];
x1_step1.gain = [0.726937062841322;0.39800416843654;0.707661234476445;0.774842031884718;0.821005269415222;0.161198758900714];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.0834951372532177771;2.428231252678726193;-1.728129785645130756;2.0676202540889132564;1.2853643876889355724;1.0340028733508137559;0.091781811517291728153;0.91244447399317307745;0.01289938919727580402;0.7930551623492207991;0.019381171541880789361;-0.47151467462713764212;-0.45217280424281253159;-0.64938728771241127635;-1.2406822791214877633;-1.1404051183403567382;1.5653753245861417032;1.0807503554647512889;-1.5537103559722651447;-3.2334500733063182842];
IW1_1 = [0.93657663543386360239 0.56648507845071061073 -0.19500654839743186697 0.09263399670724133117 0.78431961651951631609 -1.0764713692507985598;0.37887965055787642399 0.80103524882984444844 1.3392798952283029301 1.0125488540146629912 0.29500600059571996381 -0.31928334421651571873;0.73669582473784112064 1.0228606370030404182 -0.63287836779035322454 0.021217451893071490043 -0.90554708616445589442 -0.24251807682104553621;-0.40730112900273607313 0.92871162511150640029 -0.71214139893516770208 -0.14317488944462916645 -0.73026148462896856017 -0.99914085403265118224;-0.24660913032234713094 -0.40037557097448467358 -0.77381346360219660507 -0.51399506536248640298 1.1501832475929565369 0.58600171964631020405;0.407572791960548797 0.60324769169008318759 -0.28871702541663868402 -0.18081255928998907212 -0.97173801915297697285 -1.0094122801786469257;-0.25687385655047678679 -0.18000597803422865861 0.43300827823386439652 0.13157494471760691757 -0.69003593717918687567 -0.41828019700765411981;-0.4912056848838486367 -0.12501090307676723801 1.0639438693155653937 0.33269502249912219494 0.94284982430593555769 -0.87482438761954106621;-0.26015210100279478889 -0.39904384736903675268 0.56699925104813309051 0.39601084696618427117 0.68640493274372493815 0.6527464979283327251;-0.204961698443452911 -0.28689570995845797841 -0.30131492840328139016 -0.2185433774980596322 0.40096945831631558566 0.50260275043706270637;-0.2755337760543022374 -0.30245322147800551837 -0.51513402618205628158 -0.36490778871141066331 0.68281387381932867608 0.20501304532204914222;-0.88425345869324367687 -0.91275627662227942771 -0.93479896180057964195 -0.78243609830541860362 0.67245860505326549017 -0.063509200374297566927;-0.62864182878615126882 -0.66139700675186963164 0.31464194608875384329 0.087658760287994602622 0.1257856616056647614 0.58684813608147068376;0.32664378747733130437 0.039287055681099955495 -0.64232192394926446166 -0.56846631709671124888 -0.80426886111550388581 -0.3625450167026212922;-0.32290295408979297065 0.42994553382469424818 -1.0076932561316194192 -0.88864592516879925554 -0.57246946496915884772 -1.5865113495633083041;-0.5453312023683947185 -0.053684190411608573301 -0.82293238577250860111 -0.45899590712403226522 -0.52848948544152274387 0.29175188202700386153;0.21942636327123121731 0.60738911796089689599 1.0007128869768318058 0.62732840303108927671 0.78270121820064253448 0.38322175144263459501;0.41637045275542594602 0.21208076790373139864 -0.34802416075798831008 -0.37347811900785143902 -0.67763870640857515326 -0.41353025581870717087;-0.78389792068546637616 0.38224118259298883737 1.0550238899155335304 -0.83586652890556112361 0.31378070174476052623 0.43078115797316302027;-1.3059285681926873224 0.016506161784715943364 0.12658647945419709835 0.61060361359630632716 0.18365204309817068085 -1.2336318379904216425];

% Layer 2
b2 = [1.6639642079834866539;1.3235717035315810453;-1.0008068428051519749;0.65061890910428199497;-0.25466868133665720997;-0.098987027018586470906;0.16111265690743722945;0.88273810132516927762;1.1646945104086892098;1.2775279428857735375];
LW2_1 = [-0.66623684139951078187 -0.05783792305594846056 -0.23776784011854024126 -0.35460880436680353167 0.47365333737912984624 0.0043028589131781239466 0.30958833270838997942 0.60526855391795209016 -0.28141984124042401794 0.20138582773394653191 0.26741656785842105037 0.20054624175631943772 0.53708225410753129836 0.17082616408977013833 -0.0020268919865455647077 -0.093944006035893729001 0.41896773782311913514 0.4792595158695546198 -0.02179821773263043716 -0.32066989864363049101;-0.37531059326889415484 -0.33583206547166044587 -0.12039107869245764537 -0.30713885482800007409 -0.023877104968913334671 0.47862735158051766815 0.33772081404926718173 0.047205969948632825473 0.31703293061303805533 -0.34705891660963922307 0.13560619627339631776 -0.32775531059849927207 0.49421141421656855641 -0.0032625627331311752265 0.0032851735793094569149 -0.12904719574821527095 -0.063229482716437815371 0.088685251506445364478 -0.0059212857614181395663 0.46427057675921479252;0.57961830060487573579 -0.4958466762058493793 0.4768030577776826151 0.080202023942410730073 0.25174942163564489883 0.17100775227863160288 -0.36381098633453923252 0.30443631347132327214 0.48974744116032425945 0.27739349713663841168 -0.013804856285963592114 0.44079390862934136885 -0.28649002652280575187 0.55561319727852065409 0.46960695195663215706 0.26941655373527229056 -0.55319324619072574034 0.024995251537787324669 0.45785088141234253634 0.41630413226516405079;-0.34007259313862409078 0.090169247860140480655 0.11081344749941597627 0.19132727160301069014 -0.20664337299281496096 0.21589295149590789769 -0.23833073794503575882 -0.0078689433756581172313 0.087558123635431930887 -0.68866286687486066853 -0.36268396301610378307 -0.053708021473401153234 0.20920471258890591115 0.047742169455189373273 -0.085078725161120416498 -0.052867079009482328966 -0.0043698922229714869808 0.29249090925251253203 0.011423441745742808975 0.30752002646870879587;0.19591377033209983471 -0.072516596676482053541 -0.029770757208144569411 0.017461871732417484637 -0.10888661599576011929 -0.37378511104344575022 0.088563443994681287363 -0.012365437353387151095 0.66489041684669325516 0.0080259501702087780728 -0.03169785858116516003 0.0014121731395464005507 -0.03959755532618310786 -0.04542355882297081926 0.17811421290398055106 -0.019457589631688032572 -0.07840115426357129047 0.0062353743267188760369 0.0054100115489740720903 -0.062406947438504729864;0.76751138838480781335 0.016208263000912763452 0.78291730592816444201 -0.35804337596293600576 -0.71772499418356006107 -0.59358468295994493147 -0.40777031132067281805 -0.34727927315768802874 -0.29959942444655046634 -0.35699271002904758854 0.063961777211304748914 0.59757660211259677752 0.03278069998276789826 -0.35592491690221622624 -0.24397719749378640741 0.066385953778575063078 -0.38535749138183472695 -0.11203456697008350174 0.33728991764312710178 0.79220971158601738438;0.73198745741655524277 0.33347890357394222027 0.13723426060345192412 -0.05039720393584044833 0.22302793168627818576 -0.087788838208175706823 -0.22112250722904835953 -0.087407476733537881053 0.60264018112237871527 0.92881202178806498981 0.13483111768550470888 0.069083437097989641718 0.11487662356549796505 -0.13782113516081406779 -0.1781086136031095335 -0.068629007171964059864 -0.2491644503201090044 0.033342681976870604255 0.03398605570586513136 0.94918994000539214095;0.30845704668645035351 0.2159944416616124685 0.34784533691986690984 -0.33815759306706161258 -0.1008832242458949785 0.0075587811322939957304 -0.31971411432359536642 -0.063085545940547105292 -0.039764667461479205612 -0.12855654712176908805 -0.46822846128144846034 0.59288499311979725448 0.21913010712592409512 -0.57388938370349007467 -0.69146909902841058315 -0.15978384954058966194 0.61573744973712019046 0.31549811193693549916 0.025933800741120029837 -0.041477601980252208624;0.47773773865147961537 -0.19405568583594987042 -0.086784077042719523498 -0.043748776786736401356 -0.23433266303070973691 0.67647203789106191696 0.29608600625190462097 -0.014109730925987924374 -1.0482683024179668685 -0.83764028873669882369 -0.094556178215935801634 -0.078301029109881584156 -0.20884911453861965125 0.076255878092689952097 0.24771808899566730156 -0.0047578298715008444583 -0.14866054693043162516 0.14690812437405473267 0.0039679940397697108234 0.36203741138380246545;0.55078870593912665488 0.26672062846324628982 -0.23453417298587009299 -0.48012033630716388632 0.31229518466204542193 0.41850168039231722128 0.5253433258766033731 -0.0040595735988380064405 0.23541580529000327715 -0.93291703245971802083 0.35920431196580804301 0.1485056913650658339 -0.48620189200314650746 -0.16343974410998710067 0.0034996255100651343581 0.090472393060354747152 -0.14984493168688789444 -0.81998323885232204944 -0.015173457519663416035 -0.10024352796937863186];

% Layer 3
b3 = [-2.0439303378362105867;1.5542779864972207093;1.5022775192941923983;1.3006636759806102788;-1.1104157543633854655;-0.70259004404573133229;-0.77967744499492119825;-0.53256867350362369073;0.029674394282056735378;0.03059361231850191154;-0.045147255851984174901;-0.20022611643640436663;-0.51673596022840151409;0.64259142184849471491;-0.65823701679463741954;-1.0823837365092308094;-1.2259745405143436248;1.6241838949066242925;1.7934745150150279702;-1.9347834523358251602];
LW3_2 = [0.18008659951816091693 -0.57804140476941046067 1.0125543560269791854 -0.22956912857120140292 0.24971060297229605296 -0.13567729758444244115 1.0138535764771161585 0.34769564125434981872 -0.607018654295013671 0.65391293993370658288;-0.45386857471398084352 -0.92292929472103624189 -0.37048752367231485572 -0.99896651276713022138 0.14628127334169477303 -0.048362168627426649348 -0.41873211859926778855 -0.21115632420678520642 0.93963653847376515937 -0.64182416179898016395;-0.67407286668343757707 -0.86640949279450119036 -0.43245220669809047997 0.31936954577935477984 1.1801453711027554139 0.18284309650109017986 -0.049948520606475935169 0.98873849474413566529 0.29484326908145547241 -1.0750160999023350428;-0.41374752676755788272 -0.68823500310000862434 -0.52291079488446423618 -0.083423584538964049018 0.60436985297303180698 -0.40868579242294011955 -0.63097253143584497437 0.86900555963044090468 0.79917148451782404894 -0.21068752944961327556;0.40600412701727589537 -0.36399082017492145891 -0.51202897090868970675 -0.52684782830635301654 1.5003047446227606443 -0.44791296035427996536 -0.03596985248090509707 1.1984053831937315771 -0.45192645121566155098 0.070688251549439889976;1.0250378259423482685 0.64655355532511182837 0.4245792058418152437 -0.1197753685523019751 0.29807989823637059956 -0.94880562817395686093 0.58791425473755443143 0.34939568123262126909 -0.5554423588567506398 -0.093754570217589802694;-0.010084556921407455271 0.82492042978405311082 -0.61387062361876554295 1.3058457856981480205 -0.094341612759892598539 -0.52528502871792537299 -0.36070070151895444743 0.39878967646394802848 0.2428666517608799591 -0.92581458158622598198;0.94348150987089074437 -0.44229867435264208497 -0.021447767514204591627 -0.43452592989199395612 -1.224666518117729419 0.24227908661662792 0.47345843107839680197 0.14552494102404101017 0.47378916307465990254 -0.96512413834660881751;0.89805372490433721389 -0.70050163037540214006 -0.1960540223049276054 -0.98063142702767869263 0.81850314644140287346 0.32557859077950440652 -0.28693275383504424081 -0.32444072936675405483 0.15353972342733696044 0.079923781704315979835;-0.59588268420096024425 -0.53838968464170955386 0.23342904552190726908 1.1010837386791745285 0.45096679420240959324 0.94819146224427985903 -0.059137943574685047921 1.141786153159011219 0.0039204155863588174141 -0.59255990881059072972;-0.68598759165209233224 0.95554105347661411063 -0.46205276205409123724 0.62389219361557912702 0.48861031343971050855 -0.89214144087776969805 0.64070400800465554525 -0.71846819979556308944 -0.17045606995818163298 0.12279890897423971496;-0.59085939717822955064 -0.29997561888518475826 -0.51075455271390624024 0.0048459629200462133597 0.91914610065633939318 0.54847157971897542161 -0.62290281727759200248 0.36964134660533520815 -0.11059701948116079651 0.89182121354693388859;-0.63833855717691878606 0.32873208888150012852 -0.61944536779556580441 0.27824658098362747838 -0.72961643429499589697 -0.44771649119587253463 -0.29028251870877835872 0.49592442811267323233 0.66592497044742138268 -0.075963926021194227989;0.21708806899644220167 -0.15360816877700855798 0.3811134394804943093 0.88646629137553267785 1.1467051424828003103 -0.49790356208919306358 -0.39956565693711776355 0.027890992308534617861 -0.48528561165240075015 1.1565155822362604976;-0.27648304327792316837 0.45638067031240137084 0.24205262857385181907 0.26347010121538660954 -1.0586940654931493722 0.55174796278343607447 -0.33356197211401727998 -0.65807159138426485345 0.66216587546578342671 -0.73064854986651028845;-0.077108592897286318268 -0.73056352552047088 -0.17756696945418154465 1.1930321257584304284 -0.45165614267624448752 0.21512793529594403941 0.54070456676055755896 0.46817901014115353986 -0.75080617507873115279 0.35683906294082812227;-0.6270453481097352233 -0.60292623696768765651 -0.9644893363375143247 -0.45738508646964298743 0.020608206434440508314 0.44681772117334284111 0.75458759076867554239 -0.31347906554785331945 -0.78007739891100191798 -0.061793099552906974314;0.77800976057734605451 0.74051789403424606029 0.47159603962673268818 -0.22845392643988454706 -0.21595848649847965151 0.6177026359908154296 0.44487701369136295471 -0.45403315172125974231 0.63026437533062507068 0.66306957478387407168;0.58440816461200817411 -0.50530515012573973266 0.69873768236718758473 0.134192058768137501 -0.52011163166258123081 -0.82549315527574862461 0.16359632483784672385 -0.71087228575680383447 0.36421900028096482194 0.6777370586513545847;-0.3716418101944937713 -0.59862670764980518978 -0.67105065596382496018 0.61863685304184024005 -0.71545403281983777077 0.6308535273338763405 -0.068728452802375272768 -0.58411872537169329256 -0.5226466266125642246 -0.89700447856817044912];

% Layer 4
b4 = [0.55542890323477212;1.1604012829562913023];
LW4_3 = [0.29997710867315130479 0.021339814881965686599 -0.35043244158127756505 0.76768747903461809212 0.26625350837561911899 -0.9748753112866570536 -0.93939587881826935867 0.25066516053624898763 -0.78234962115267003835 -0.31978106383056614792 -0.27738105381903710445 -0.65514812017783985443 0.88562127053675399058 -0.4082530592653213497 -0.23813942584409367176 0.016434768354302221882 0.40203337478264750127 0.21442218001768592606 0.17282509288263200875 0.57533254546361389803;0.14635777090506502107 -0.033352623144437112956 -0.4464768320173421734 -0.067165036725865281952 0.45206593704671632628 0.27496648745068419384 -0.29644316467089626421 0.40490840986725945561 0.14299823845724135563 -1.0068900733210239817 -0.27919172813666015553 -0.92197077782043224126 -0.36654270634184937805 -0.99253750451311162362 -0.57730562197941992508 -0.18814137125001284545 0.51428920648707043828 -0.50005384979953515501 -0.0083167323942448315166 0.66890102958718622439];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.220818796095924;0.228777186864254];
y1_step1.xoffset = [0.0999999999999996;2.75448934286387];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
