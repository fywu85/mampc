function [Y,Xf,Af] = nnmove_02(X,~,~)
%NNMOVE_02 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 21:18:59.
% 
% [Y] = nnmove_02(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.591993057816088;-0.850035689149092;-0.498343469489469;-1.39482063568896;-0.444470319361263;-0.152808124665803;-0.395815307159271;-1.21741074482007;-0.43036805038701;-1.49689082115881;-0.670619673906455;-0.204751776761318];
x1_step1.gain = [1.78237772035698;1.15573492666816;1.53052509622973;0.846308525579566;2.58566648391193;5.55836785324426;2.58664192768644;0.623702674186829;2.30043211338036;0.602999004044786;1.66670643459339;4.31891223959037];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.49718344704405526;-0.66693356416339732995;1.4248412898041673547;-1.3708195720493616676;2.0589770557421935848;-0.82012223710194831483;-0.36927648452368444509;0.53844875463100305701;-0.067193367422553662571;-1.0651303709756556604;0.85926906236418409968;-0.396011664335972291;0.15333415489064405879;-0.97122439516569791795;-0.75619481469496208081;-0.582114594728672885;0.6427659856242141645;2.5002868346073543471;-1.7096989985008235191;-0.87125427432181479226];
IW1_1 = [-0.82725774510031924169 -1.3211473123311696654 0.95806070595841352766 -0.072864783062142737813 -0.22109745165601552008 -1.1216734974985198559 0.32184517675900320421 -0.68504258537037399091 0.65164384242519934887 -0.041200414121398055978 0.0004765373269838522885 1.1024249614737684499;1.0247151346715810405 0.7402228238169207275 -0.2468592584089192854 0.24931395887607596396 -1.2068665002071574666 -1.1664106249135615112 0.038328176772123037641 0.38494837721384089768 1.2437903996461225908 -0.77822820505696876925 0.47842162274897093166 -0.44477265769671692208;-0.31184825110077168953 0.065598176620593293129 1.024798945640424952 0.33160239530083834847 -1.5443857639162141826 -1.2668838163326812118 -0.50732485528451043422 0.79692915532001362688 -0.3905693620415077727 0.049300719194488556996 -0.42905282045828185833 0.10617145893925411526;0.49155941004175013331 1.4735119808082208781 -0.42000262008510036438 -0.4813732759958508356 -0.34400310563649061368 0.18598535526092971337 -0.26176830185946664553 -0.26083990332524570332 -0.95924988561900359496 -0.78396054007472426584 -0.42359961691940978268 -0.072472345084339168109;-0.21913865501574775196 0.096165046498385350904 -0.47270996080980637322 0.25011163754821519323 -1.3294970346217016566 1.017868760175664411 0.58512020751726900869 -0.2199752888722126265 0.090799849651852435062 0.70305803266126076778 0.46637176970891219829 0.081469169593486046033;-0.62190442019197056389 0.020481899056957533767 0.34449856581249693743 1.127244385215432132 0.23921525348237307473 1.5967038417473968792 -0.011194196639827201645 -0.13278251510118652123 -0.68553308056319262054 -0.42290447916047346766 -0.75156311327462665961 -0.59773499982323952118;1.5777805816941701256 -1.0888446615279423479 0.77471891510939472347 0.21602429768316477876 -0.41854413191417305651 -0.74206229021960001813 -0.43162681533441676907 -1.0292045429656007105 -1.1121377567981960421 -0.84050527033874045113 0.53235832923230108626 1.5471675228015022707;0.80161539168244644316 1.0162629792611168611 -1.2594292705418848044 -0.13892614603656625039 0.18982657447725484468 -0.2451602454390309771 0.5429473759477159156 0.082126092230641864478 1.5679927497968570993 0.89406732705832736574 0.1888643618337619845 -0.25608416724880234128;0.16031819391786131246 -0.1826275694000507599 0.73867698941223369768 -0.35565938782688810704 -1.1102445079226566094 -0.0049356575055164754462 0.48927180789299595798 0.37841396668018068006 0.22522062113861154864 1.0621807004755783321 -0.54061826054227923866 -0.26589648158580569959;-0.95730133323215949037 -0.64696362771926729796 -0.44298474348482247409 -0.42375392977026332675 -1.1350117036383027269 -0.20831089882828768278 0.16750884618193653819 -0.18222899911047510391 -1.2955204683613286143 -0.91428347205587801039 0.097801311030069587593 -1.2412729949760525905;-0.13780750208351674746 -0.30558028791359781451 -0.8507959493930143946 0.30629724802298108344 -0.25377468983496170862 0.58748813674343369762 1.3087779020355270188 -0.79613475248266440953 -0.27258467322096058272 0.65676212992010718494 0.75069398805180076462 -1.3322577445707135535;-0.49388219202444216815 0.19203464623481972251 0.2065151782117879975 0.28912228559073838152 -1.8577602653941824862 -1.1821466692904150086 -0.24576988704903859895 0.14189832432120913497 0.38420927213228173169 1.0866727584406281615 0.31995505110148003691 0.32447491032318115378;-0.213900424394607519 -0.33050692254079055976 0.58762387157634188295 0.57114261954016232181 -1.3419645716489796428 0.45671369366531516798 1.0969928968884574694 0.01324730319150917851 -0.33590603707360466856 -0.29104543466736337853 0.28498417076187215757 0.73349120828567637709;-1.4511823114416129155 -0.96138221977049287403 -0.98471885593274544046 -0.20914279863823545536 -0.88308896543601422824 0.58931768110660820437 -0.81802971406527424936 0.34143701975534296311 0.48258090117153401577 0.27700550241747989855 -0.92930512270251286466 1.6169065089485701314;-0.27961406097254937198 0.30119779952365299813 -0.05609802799864596623 0.3497642714987005963 0.82207169463172291568 1.6775606750937059886 -0.46247642705226355009 -0.25502036950155665407 0.37238371786082619108 -0.32119875963964922283 -0.82830703519263804147 -1.3257859241419553964;-0.28162713778791592656 0.72082343154606631774 -0.11326607960205636871 -0.65506474512791135201 -0.84275587017450326321 0.95209930018125521478 -0.4346286069312607081 0.79718086528005671632 -0.70257335639582685349 -0.26924690502493137112 0.0082295582220744487728 -0.18726738422660280103;0.14810511656013586324 0.20886645955297752919 0.68666754590157574878 -0.12147471521539782158 -0.16771240947772425578 0.063454780573683894351 -0.65828305524157093576 -0.43619872543528703801 1.4036741046763183682 0.57552301279670803336 1.4112575114764600581 1.2185345433994876352;0.81049997418576846808 -0.43848602912448081392 0.18329986671700634893 0.070298974620249851664 -1.0393606965450219448 -0.67928749032706514654 -0.4635841666163271757 -0.31341561779425008982 -0.095327524357855630832 0.02763807845606115754 0.33546252052892305828 0.49177700498920645655;-0.71845962028370990993 0.4283097013268039599 0.9587171576738852119 0.55906773373266516192 0.64217505185195666861 0.12264729078336873702 -0.19756336925675266336 -0.0071421449938157115928 0.48380644289853980133 -0.65364726473933898454 0.89125140519615886348 1.2924209593718083422;-0.12081423190874818197 0.016891679125295343267 -0.59734188226314588466 -0.14607195023276800527 -0.46495605136123990819 0.12794194890045851309 0.53921539297426568371 -0.51681370313572494446 0.21999759246998690232 0.24234737237509831886 -1.0756782367831498881 -0.80030070195941016564];

% Layer 2
b2 = [1.8271930158554592349;-1.5931306828706319756;1.7272953497613510176;0.84000248374175190413;-0.14392969272058009356;-0.30886905118416324578;0.3693551175274870646;-1.0726391101632433145;-1.261704358857162811;-1.4402141849447320787];
LW2_1 = [-0.58806026224204299702 0.76861933686887629058 -0.0040114706355184708009 0.13835411181162746153 -0.65131347755400348376 -0.63942531600791330249 -0.050500063073364923061 -1.0112869099339716339 -0.61609570020763304576 1.0274721061747393858 0.029550521204238979628 -1.1778172800687598532 -0.41023022027884453733 -0.86145953023583454744 -0.0089191776568593242325 -0.42651836873206838696 0.41217247436386922343 -0.084890083202883576119 -0.6907179023262783879 -0.34566511538611138787;0.6463199727137813877 -0.60171238450311215207 1.3020365104113305055 0.23865450032929361179 0.33766914779812784442 0.52489485318162465433 -1.2095182322004480735 -1.6186477365246083604 0.18273282930695824988 0.62626728170858048106 -0.36009559057485451827 -1.180592404771668269 0.3109530783431575518 0.33004688993990111134 0.81360395018832554204 -0.50010020901668394977 -0.88410575252396639279 -0.43123502467231988877 0.61534630077146967864 0.3299046456203397204;0.179728195287314374 0.15529069202639542158 -0.47310060529118630468 0.24157808139691538951 -0.17668436457954123098 0.26652982776890338235 0.38097207055683035559 -0.28798414355272339282 0.50988245596556169836 0.32814954927887540759 -1.0008581857986773578 0.20196534370381030721 -0.57688101447067252625 0.04047652156135765622 -0.36785917881522162132 0.071196370674426995295 -1.0749025014633444286 0.55822129291025834874 0.80156733740111407727 0.51459663755763740411;0.036725526053782736602 -0.24331581211721289848 1.4868782073831710022 -0.41654785394503834883 -0.12165078767424873651 -0.03552363608363560965 0.3620730345265932848 -0.089525394216309533979 0.44101351564264590355 1.3863677721959162259 0.99980862794109714997 0.80331991978499939222 1.6386906205724416363 0.53800502520486814806 -0.11598631051951616144 0.36762802195446603326 0.49448333265783761536 -0.18595576191882426387 -0.60982595750064649831 0.029714415862684258329;0.18192738178910966562 -0.055136860152280836589 0.23999073311619634197 0.19190200263384082913 0.081301978221462886665 0.024991362373680367504 0.31774199949431414236 -0.26796625080775648975 -0.28603137322973992696 0.16741922047778448612 0.71315806184420782454 -0.50424609027505096215 0.34319394941674774557 0.096349055310068654201 0.2067701828288633914 -0.22605062209436116438 -0.17437216267801258773 0.17865916468738890499 1.190050084463066371 1.1542542759134786223;0.48394512604178119286 -0.35374127138895467004 0.35467894686743517418 0.16832289411076128971 -0.071780485467520555032 -0.40112896999923058905 0.58627902486907945701 -0.41815149569321774514 -1.0814870944826875387 0.55469160504636361164 0.62569448997813936764 0.69283388774650889186 -0.30058624781560733252 -0.24220208234803392022 0.80720214021136882376 0.80797728162537063579 0.34512513147993784113 0.32661166363955790315 0.94920010270729626711 0.049252029757958157297;0.38790638902862850657 -0.11998222568761721107 -0.98603470826063499555 0.015400283865837735564 -0.28310345434332995218 -0.1778434152880666308 0.72213867691416677719 -0.67003479340221716587 -1.2857926135056299 1.1816525871113741086 -0.26953988336848871965 -0.34224527148806865862 0.44701025659553833558 0.18517303091169823315 0.16271107550164909394 -0.14268739795876916876 0.009310616019803576171 0.92383698700685423777 0.23264650440424963773 -0.72120247610925480863;-0.24547264717055888861 -0.57945762291139046862 -0.017482327017655618917 0.33095446959925012287 0.23087406828463244435 -0.4902072466436094289 -0.17224610867233064448 -0.10128436028340076502 0.10120137317512678532 -0.087677591413196240278 -0.28370397092628807378 -0.030650673697170810472 -0.58120785923121143224 -0.28933173668884054619 0.45501300093852459216 -0.65549790148332753859 0.055438783688947022854 0.98804427386961046764 -0.32715094584190818061 0.53110449258096237291;-0.2065919292080095615 0.18973898210504411277 0.32089967745362268925 -0.042680670521615671209 -0.0022980175668521809346 -0.48621846289133574537 -0.33775011113768532711 -1.3322849603221695869 -0.34327956699638229043 0.047223068897096022456 0.60815121967789886881 0.040725816256121677439 0.045632521195940106695 -0.51533773725261067256 -0.21267809625951683561 0.46278966016195338673 -0.11710814201601396634 0.52321603856342679961 0.25560500701055233197 -0.1312400776267700353;0.21895200640970483019 -0.43272828716188604936 1.3307573741051650362 -0.1075060251822075319 -0.26950906841798810687 0.3939663015686709624 -0.12347161456851488137 -0.99123061991234939772 -0.33923598472487104249 -0.14688476902131572532 0.1826755018486509452 -0.69481875803827408689 -0.48157315181776555457 0.1615669788887014735 0.45657937391228675672 0.45259656604709463945 -0.27103636691072824361 0.11375301442760844817 0.042334283358362215233 -0.25409255358991034157];

% Layer 3
b3 = [1.8536248228699274687;-1.7442154854103415484;-1.5150604702084096154;1.0711817951241939806;0.15901256606949989991;-0.76170065118436747209;-1.1016648853525807805;1.1401680786705770121;-1.5464529692970310215;-1.6650078876808469541];
LW3_2 = [-0.35031482874865327304 0.50661512416605047893 0.54520655421473851465 0.37518643581366001305 0.24740077738424420817 0.44324009649718981718 -1.0327832983271789669 -0.32640631674176295851 0.079438796571589975759 -0.40606770111273565727;0.46562714995321885514 0.32310886336989502743 0.70329710233371978134 0.53286543342510439558 -1.5250310655868455356 -1.7911075278275760958 0.16051911868210094747 -0.20378202302967621251 0.92482800174755908085 0.068235375067883921596;0.33062877380398464355 -0.67425686797412998086 -1.0391961235406674824 0.6378577646912721999 -0.10942323693565900178 -1.509717737380405822 0.52928990417415111569 0.54399614009778185508 0.86626325681173166338 0.49354383900289133802;-0.5464662559689501542 0.075100612873195429775 0.88702835131137569569 0.72136972711633240429 -0.59460612309324867297 0.12882412436141968404 -0.7304994761048455576 0.18708104363773500611 0.34592295176052645367 -0.06586040558226312347;-0.23731179497829085756 -0.82028625532394716657 -0.77035891756000429709 -0.17424475119028340342 0.7495288477261268234 -1.6540318793849522194 0.67390625405582171847 0.86247215894560780303 1.4903295989798610588 -0.1915152437407880992;0.086247205948044788903 -0.41985050200255957797 0.48337675368637350592 -0.017995981690923538304 0.81411388131169293292 -0.20971537595919786945 -0.37506392715124525772 0.34853958306582272231 -0.53933896050930607569 -1.1369142530112437139;-0.39267288423506202522 0.54070611729869333395 -1.0719572663059202533 0.135711793345883458 -1.8178239517371621581 -0.38312162413114897452 0.40982904942538900261 0.028652931052643923482 0.221058581963384293 0.22144068372449243753;0.43992816248974581095 -0.64934627819769130674 -0.18330014864734911484 0.94903130868955598576 -0.27724651158708846221 -0.70032831148478158489 -0.51170424299474104313 -0.58205246586292669342 -0.90333690548558343014 -0.06412595448972133183;-0.74797186985588215435 -0.93143316579324542115 -1.3681451477844703835 0.673900880643895972 1.2811293789330255866 0.65927582196547740434 0.037157403570782218671 -0.34962145385335252623 -0.022159736177951916414 -0.6177509343044985668;0.55614459374596547647 -0.59475944825980409103 0.14419653871372220544 -0.45501542158250779524 0.31681387459166165943 0.13443572248421781223 0.92141209687126557348 -0.032260978959144495648 0.23789955725338166048 -0.60394232380843015928];

% Layer 4
b4 = [1.883411325059922703;1.4213139785076098764;1.736065158249863849;-1.6605392772757994191;-1.4061369267873187194;-0.37636971921862133472;1.4830417243843188047;-0.60086893729583479296;-0.29513478547794075313;-0.3226840742824582664;0.10820622561923586014;0.80087415876240120038;-0.26902531128641388181;0.1969753824246853191;-1.7477674919401469111;1.6095646576472846245;-1.6951344090847633161;1.0741058587119673984;-1.6505202692897542605;-2.4967992443062270169];
LW4_3 = [-0.017561650171080425697 -1.2218632003098639505 -0.39415535135382556708 0.71965017781489026838 0.8135545478054462265 0.15999708515947363985 -1.0020090486275317065 -0.19767826041812286419 -0.29680664911852278065 0.029906983972139429551;0.0266961920856544771 1.4304762656316509783 -0.12752313061625686341 0.66518483594444999252 1.6287816299913975282 0.14564459940671919957 -1.5929626495059798774 -1.4298286700751030587 0.25816822992217708377 1.1805987168602838366;-0.80026922066801398081 0.059690336370868485316 -1.726294600315555483 0.20078866594190303285 1.1566996778044456029 1.6385582726270675469 0.25063527085049197574 0.090109639644313094253 -0.47035553160951965035 0.24008771776974335843;0.055965144855539127045 0.84332831063409496863 0.7517492141821224827 -0.46574174842157234355 0.10379601483538127005 0.41018444030925349519 0.33393991643890241772 -0.92089758067980742595 -0.26207685922579598836 -0.62293687084176052604;0.99348563952790447384 -0.029203300451304828322 1.595295898395546752 -1.4434842802242981996 0.62728334968346599609 0.18830036440004327414 -1.5618503784864978812 0.43022187495697650217 0.042051596747474495608 -0.42560150309121747014;0.13727425395850123557 -0.1117161770115927405 -0.50381199630001671785 -0.41984723993657091512 -0.15237540358641560312 -0.48983340163627653308 1.0610685416465468478 0.8625676520840235284 0.10256200184836242184 0.47994801874718601153;-0.52517114362951078377 -0.8763311857074073119 0.3418078246937523712 0.62876412089716926523 -0.48290980549375445152 1.6056349692934734907 0.02548143730577609456 1.7967428113534311684 -0.46312961328691309992 -0.83251684438103568109;-0.42597150606545397533 -0.29361867119625617573 -1.8929920885747915094 -0.17362695701862593256 1.2340456667991124284 -0.40546252671393501199 0.12933757692406025464 -0.74897805095349545557 -0.041058022188136165942 0.29860507482834114379;-0.58650226666097160511 1.4538422845284286744 -1.3537626271023575075 -0.37705631225766689241 -0.010211765341480926253 0.91779562164192696194 1.0542039000219407541 -0.66505458767160741118 0.42282800683571497569 -0.94856108509404890583;0.39710388897624132598 1.5312455132424089843 -0.35574957632800552343 -1.3821403584358269434 -0.74517038280232095193 -0.3151359104192477667 -0.51410454655607662477 -0.93704955744536488904 -0.79912215100767924891 0.13392514103282962545;0.7776091098407296176 1.4404561546101524172 0.39740577788481012966 0.39539663689139520342 -0.47828810944521482629 0.44471443822901002285 0.23397046530152337818 -0.24584357845987278579 0.13036784063396034128 1.4110894049570461561;0.60474780839918418351 -1.7565334689247344979 1.2174378948348107965 0.62952505457058338667 -0.66438572939960360841 0.61816425358958027036 0.7583081789515666582 0.10852977020467380331 1.1609519483087102909 0.92433726227515156104;-1.7563830598305651964 1.7778605459159169122 -1.1043667422083851548 0.57396842160212369066 -1.4959760573201701384 -0.69569407191400045587 0.036282769302046304072 0.016405895432054250216 0.9708216786653801611 -0.06998899166118148496;0.56256887859637294547 0.30825750112707683837 0.85310133237425167518 -0.09873309736915618362 -0.57333136032100928681 -0.90408304476486633927 -0.29954794874300449958 -1.1326347784499373184 0.43455719862679587084 0.094031783367843652099;0.0069372893086935717016 -0.29825698091527458322 -0.68902050968025940758 -0.24822334593546058201 0.29541532011631194132 -0.50741007171602281467 -0.24484113701886039971 0.030184039055523463613 0.47419181037613222784 -1.8911400054351958921;0.30771207300120106964 -0.53081771813606248855 1.1392130174455967762 0.79052650414225911213 -0.99304812221589744414 -1.1997120198512225553 0.028997945590269601224 0.25167524809691976806 0.54166891168326558592 0.83302401691360028479;-1.2832361616087049061 0.16010198172877324052 -0.41479850321271616309 -1.0649617407527089963 0.020532987171091636458 0.81998232299948581314 -0.623153297249449456 -0.76414199206982313939 -0.26108848719401089866 0.19577611198742994603;0.62389240966760373119 -0.30930218159916134102 0.47863260981805638705 0.55451211882224615835 -0.6541919163423079997 0.99146465319152499163 -1.7544408687948098713 -0.99257751094626056609 0.96300442117661999575 0.34128571792975254118;-0.089022909407827671702 0.010883566326929758339 0.067504998916081151994 -1.0677489264822142001 -0.034116225026121688169 -0.49498488874893187273 0.08714095880050100329 -0.49751034190958648429 1.859946292415866731 0.57125919053451801322;-0.66594649441098752174 -0.36754203782168776149 -0.75173040238509913902 0.28318783232279587381 -0.088647528779164305734 -0.22152970105793051703 0.42095245163906630514 -1.0055478792830589985 1.8295484179035594874 -0.73348511261234983216];

% Layer 5
b5 = [0.32185401351696540928;0.15076181970457386283;0.68005655060792680189;0.096553238969907667633];
LW5_4 = [0.1596289854164516242 -0.053437723134740967856 -0.12427645345112883768 -0.38568010084775022905 0.0040018478310645463902 0.047902323763179648075 0.43859838054779209937 -0.45257596166281754968 0.91505776878950706443 -0.13989023483436086037 0.43467771735521459897 0.34248997476120379702 0.52405661732872388381 -0.4028904989862490682 -0.001069461253717419319 -0.28599051666680697092 -0.43206333017949410946 0.049273674662535030255 1.3465843246576176817 -0.51685729496908450198;0.6243547776147565509 -0.014928197558104107021 -0.17951646280841063175 -0.71334391968523414018 -0.14829753542681831102 -0.37143312233392922206 0.26332271139833379747 0.55473575916401796082 -0.27116762270959082759 0.31220470251904730574 0.17579972858630041332 0.3076121428695127169 -0.051948050757941136024 -0.28207337327286841067 -0.10895577181626796281 0.049628773273995514803 1.0430935651794930319 -0.0043552637815906722341 0.31691004990952859055 0.29696300168344114123;0.021203467361600669694 0.032069120115603255705 0.32721855989078862947 0.34814317434969721532 -0.1540152981352972128 0.041249086629003894888 -0.34504299553500250575 0.49986823643153743824 -0.8362349575812636493 0.71841479671315011668 -0.018392706097008687527 -0.15011172835487934796 -1.2748940151216394678 0.94869871892244495015 -0.21983372383594881883 0.18950656455573616777 0.52004588406075824558 0.027445011367104244632 0.79516644473396569381 -0.45757873226770240382;-0.6013469604533956403 -0.077622363723880261066 0.14286078552611167214 -0.084342062064287598444 0.025834277201911209215 -0.035381762573362438018 0.15075916983218437539 -0.39038731605785026435 -0.2126441309318401196 -1.1161430281298616585 0.15781189148662641553 -0.28147450401336204795 0.1606196137632014409 0.29834939335679216965 0.036427933676822420173 -0.58789358371965361183 -0.25411310414306070848 0.082302404270458789926 -0.43456648717639978496 1.0412656873265728752];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0435709569938941;0.0580187369567506;0.0595249297027811;0.0421369153152574];
y1_step1.xoffset = [149.917430024246;156.67765583252;158.113608099577;150.391794151573];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
