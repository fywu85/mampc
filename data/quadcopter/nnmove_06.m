function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:24:54.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.845918270200932;-1.30490266637008;-0.735770118525281;-1.8459585658227;-0.528101821673327;-0.399260196702291;-0.482903155837444;-1.85436538017275;-0.497898475723062;-1.90921670427207;-0.692838721194433;-0.295907880808792];
x1_step1.gain = [1.30953763543212;0.659138484640931;1.32690155168647;0.630893986156085;1.96896808474155;2.96896242792547;2.00892073895926;0.504314799844091;2.03919466078945;0.52529696099827;1.37113599420363;3.53003320431012];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.7367476249568112312;-2.7107104751172976798;-1.8399989207092619647;1.9664855395728311205;1.9243166654189902687;0.1304660801453589869;-0.18365808465784885795;-0.47401808979638931918;1.0921453555062643481;-0.1249749373212912934;0.12548472884897815538;-0.12533941131677853176;-0.58816198973782796156;-0.54261632491154898617;0.88805325248930433446;-0.71799971424930342234;-0.92395607804394852547;-2.0587839382822088474;-2.3376072750804315348;2.9186370064595652529];
IW1_1 = [0.35661187404179367499 0.31505105983899944766 0.084142639486503925661 -0.46538942258653986928 0.36296826705708973293 0.30567273555483270853 0.098298946167932027551 0.4939213734706562331 0.66763344451788420031 0.62750759042052373093 -0.30520299353191226999 0.034796868039292161434;1.6568354549056938385 0.13930794333849808031 2.1864051928354348853 -1.1209470480233290068 1.7184724334733678663 -0.054393376330126641527 0.10592340108732849202 -1.3873841212835318348 0.51346967291341394368 0.70782250113831757243 -1.6524785455857040617 -1.9957943082962388281;0.13128387805771857266 -0.29230144709705602191 0.59507813902789785665 1.4278634411377750801 -0.71033624727369093499 0.010554811673854760934 -1.4058219347893692319 -2.0886798310105940679 -0.29395316730774434522 -0.79905878125127438594 0.50080027755531864031 0.36542161737917466802;0.16489896895719488579 -0.084079112364035840654 -1.1213043321830045151 -0.57766292319843914882 -1.4446567412898891902 -0.78016549191067219304 0.58639064305215327089 0.54735342075496740133 -0.10134828471897829039 0.39159699321388757864 0.22597904152789557997 -0.11832629341550002233;-0.78821136895720678162 -0.78219074598443349977 0.98669353938764892131 0.80951331887446731361 1.7211069669754632816 0.4393243560703079531 -2.1599069282451877072 -1.1229367611033378438 -0.4862425497994466439 -0.37394341479391407512 -0.12493335238762662276 -1.2700618480456287163;-2.3909804961216485353 -1.9092091990692106052 -0.26366046219748240365 0.15314337749240833353 0.892722474000489985 -0.56559262984788760686 0.0054988232476385762171 -0.69745618346465398929 0.38730342801630401883 0.075845028336853942408 0.55809469896246188814 0.8203837304189598445;-0.01688392389485698919 0.39831217220581788263 -0.058425369472397785386 -1.484927141263078898 -0.5105696093221983034 -1.6011023939843787023 0.93254769994740560612 1.4158020593419442523 -1.0779107168213752921 0.10299914315701755307 -0.65066130432351698687 -1.2215676312770080703;-0.076342054067580336629 0.71014715844280262846 0.10096518244679764109 0.99086702539815574298 -0.99490432203965328828 0.42623252655391391519 -1.1002510965070491089 -0.71357068218717623065 -0.42759110995502253028 0.55857890943473476053 -0.96264725990575295 -1.249892161700943527;0.044775016708349879568 0.011436857686625598318 -0.43458300118585685423 -0.39513169104194328929 -0.8139427049353270549 -0.46099628548865978495 1.6138813561641682792 1.1448310298943937813 -0.12033221596929570552 -0.31980156928955466578 0.52152460565710367923 -0.87914150529790102695;-0.40853907295513625098 -0.34768518282739030445 -0.07721844873357604222 -0.21814065525615244923 -0.10326932257075663313 0.21795406269651149134 0.41862509739405801001 0.68919523153841966145 -0.1317380592462334965 -0.69659332760243819482 1.0125686999647436348 0.42798550699532866837;-0.42694170427590433237 -0.34986673929158801366 -0.089641571127392669083 0.42156972201119041754 -0.88315998384788851894 -0.66971867561917242107 0.50577436943677622772 -0.22190513271138326279 -0.92149872869720372837 0.40112439310375497259 -0.28764031246938054354 0.10478794381358168264;0.036058391601101108526 -0.20337046153608487331 0.55971423209272430643 0.60702837868557324441 0.56931346599008603171 0.2520275666131823189 -1.2558591668474878844 -0.9365698199171544891 -0.10800558435121709877 -0.60420027482490135107 0.62520316432776512627 0.20198400628179746796;0.0095984446977054882488 0.15552416610236174943 0.064647498097498451441 0.10315347004429339939 -0.72612674995054526939 -0.52459484501832109871 -0.10443831456685158388 -0.029036953158900511568 0.23532283768268982826 0.22462894791930249072 0.0075746627967341051413 -0.097457227400597798428;0.33566069818049931728 0.58329384848130316765 0.18835909519701490855 0.86665422864569430228 0.32835679721214483529 -0.024945874145511456876 -0.58106368637676519828 -1.2482560042472456985 0.58397997307651594578 0.86045409999789734812 0.47162068416547625604 0.25979585306610081252;-0.029110347074452459781 0.30240570719348974782 0.52575453901959734448 1.1588489510502399948 -1.2609018045467383917 -0.73229166217473040668 0.23542439346649390863 -0.26060589687269747339 0.17577013746452835319 0.22658640065916976769 0.53614485598912331454 -1.0627093500144970672;-0.23593428855752535123 -0.20994928557387218526 0.25903479276350582783 0.65762857661564000367 -0.40065726484848773747 -0.32026714363997021984 -0.54512091356077296833 -0.62324571333839740017 -0.25306437668210540748 -0.33700911938019217917 -0.6160969216404479365 -0.50447566236702490183;0.46099232146243679376 0.16491673147541666133 -0.63732079745296998929 -0.57152735185423564346 -1.4536897094532930108 -1.0140668819720586313 1.8715242026273577469 0.84237761687566703461 0.6048602608146851356 -0.30582366078059491921 -1.4183354065252080645 -0.22524117169371088432;-0.26171294203224293451 -0.34780834908392754823 -0.72360768832028776743 0.09760031824161838343 -0.75039592180323189119 -0.74661884232319597476 0.91598248487547651031 -0.52439643890872000842 -1.1715461110061617944 0.25675202459505114261 0.82021871271185409213 0.84804391717310134702;-0.4985476739802859325 -0.4884518600169966418 0.33734466179799993402 0.51768094827570143579 -0.44422773752325839247 -0.4961378912768658056 0.11763468889907016668 0.1424883277111940183 -1.1516818054588955356 -0.37697561769627357942 1.1853573428153345581 0.13821789764707398396;0.022449138379224239243 -0.24735441909194075261 0.16557573482705312262 -2.0745327345625099724 -2.375444465232944502 0.16452067754233554164 0.12114885369034243678 1.1070885801741585652 -1.6697715259913503694 2.0487996928219445181 0.65422552409123679862 -0.54064691292385380628];

% Layer 2
b2 = [1.4114637181226785678;1.1647035410812618395;0.78988033668426405054;0.71924372040782613702;0.26421172485768162908;-0.11873137270926159559;-0.28023868066773721663;0.97859423984504834149;1.4482915589062979045;-2.2838733446859120768];
LW2_1 = [-0.62206170032134289194 -0.019257843731508968166 -0.2573961530783770435 -0.70052159703194483154 -0.077792886125265636732 0.033125068568565403659 0.021988748814161924311 0.011982254778429936304 0.40753694259912282005 -0.13578465195929861897 -0.19349193855925467256 -0.50183240667379480637 -1.476583145606359615 -0.39481357723054849584 -0.46968825319094953397 0.080424536645212374442 0.22958971329486776991 0.04557584386475358601 0.89822100203397747809 0.068815834229704400671;-0.66479419490504487733 -0.22707979078550874497 0.013795902331828389931 -0.043197055787543452154 0.53982510884123491302 -0.022623188370163211519 -1.1000527764519456575 -0.13895910612574269294 1.4025121505607649475 -0.97748740136643386123 0.10433577954464416659 -0.92083123008826706091 0.91374400601856120563 -0.17055969465799256102 -0.81215087295015908619 0.47855101617025996852 0.17540567691993527721 -1.4988325846017991338 1.038256733493460926 -1.0569060553741500552;-0.068620520267295495587 0.069724813770364851839 0.4789792445397910714 0.055580204703064219063 0.12019797524266294386 -0.088120580363764078324 -0.1239643262903165899 -0.23425839948657362077 -0.11603991876935006167 0.060384436343080084841 -0.30299876263549241351 -0.35638249726554088737 0.81088290180030697663 0.35666383713846472325 0.28096244401128867008 -0.16398811058658624429 -0.28872509767544962678 -0.4848313086689760576 0.33472004141529543286 0.033783449372024605684;0.13134049349222312597 -0.22432420063330651971 -0.6769393029490358149 -0.21752764524267045876 -0.19256648650902383202 0.17206654474116236941 0.13417869149894548486 0.3182324054127966817 -0.11506886860395328098 0.12852502244164729084 -0.013926404187850014924 -0.1728701734287733105 -0.42629338908899844229 0.2271565769857682715 -0.062837467717957881663 -0.82008274028640637532 0.33087704482073915235 -0.0039223205392448588086 1.377662192088468851 -0.039611355159245208168;0.21756690444486731506 0.089563211208246437667 -0.46715840133453667704 0.046000804001533571186 -0.0092966883704678378308 -0.073839694345070441828 0.0042811604521676774326 -0.093681833094570080012 0.46697890472858671895 0.38038799394495559358 0.49184598526198985979 0.72810832404853054189 -1.4256280138534374036 -0.29235878276362392558 -0.27928696393490426431 0.63409243147442162503 -0.15487763006879592953 0.57305236253370195332 -0.028313869843065206378 -0.011953499674936579958;0.86642947031577455252 0.009302173302107740252 -0.12372308218342512043 -0.10459196756900321357 -0.066770260183984769808 -0.0063620315213139943394 -0.048358087479617846427 -0.0061046543644081279617 0.29961130966331583902 0.18259133935511062674 -0.29529883374065923896 -0.34797268976269052354 -0.86988673508633640452 0.80241349639984260733 -0.27396396464143429883 0.28546032406061094822 -0.25771826763321420417 -0.54502719911394403862 -0.47293823644643567805 0.11613567924947665322;-0.69819760020556376201 -0.13777397549485598249 0.1721878953227073128 -0.16882143562527887615 -0.1246946326004690353 0.091566908229038498912 0.014717968298391469195 0.20048060970884939991 -0.42562353434420041598 -0.20247046200417695427 -0.10747466974209402002 0.13002052454848231355 -0.58190869824204505267 -0.030127803719321590015 0.097450292377719682779 -0.5546709763044957997 0.17984098781194846062 0.30215884283941663035 -0.16198064365136341514 0.02698961131614873582;0.31413898371900317308 -0.14386152032149707169 -1.5343439377252252598 1.0035688905975927998 -0.23423691230666929264 0.058755534696747907519 0.42639667547329257458 -0.018982771937049031097 0.82118444988761463144 0.025827057042748482324 -0.012123563668765810486 -0.42092516049438771786 1.4173055917077030941 -0.47711363219295466198 -1.3132347996089623887 1.3466850361734825636 -0.12169293789340027145 1.506838119569975154 -0.97879438581005484554 0.34961936726759934579;0.34955837860512878335 0.019797537636075369927 1.071829950103427409 -0.35950721170769855961 0.39428162239880915063 -0.041300426540375662077 -0.28278866284831799538 -0.23272643943936710542 0.31550601413865575484 -0.51075013225806209505 -0.34623240652968761966 -0.61273699374358947534 0.23929952359994244304 0.022220841251802334049 0.21019653381704095363 1.5575396148473026336 -0.44147495887067750298 -1.4013228381755871155 0.92790003539576115799 -0.0006960092309196916089;0.77163670976244636002 -0.77511088831374963526 0.88637607404676410638 0.83362030142926857312 -0.54407656730969433667 -0.23684855309137375912 -0.072207554354127290175 0.49541202589508609444 -0.16655051711862328689 0.1238694455965463348 0.34196685442339030958 -0.18376328321063351012 1.5496566946166909773 0.3143233527382491288 -0.50090300382657737543 -0.56864851785132053408 0.015328271622436032487 -0.76159987142570451102 0.065681589869333770193 -0.7682016551594583742];

% Layer 3
b3 = [1.3143892789304141289;0.42142782142288898184;-0.60294527875387915472;-0.92605065411300879763;1.069960034912424085;0.89175161961592208648;-0.70866510829041517994;0.30625216171236790963;0.72054252441535449059;-0.7705702434087595698];
LW3_2 = [-0.08428139771091300303 0.057090762449418609725 1.3634875059784419271 1.7161220341967902137 1.8425100707868080629 -1.5914061064655129485 1.6538425638258045236 0.76105065073343158843 0.99824159153826386159 2.3095133232319158267;0.31417532732490677239 -0.085583922708454510109 0.85721850962162471355 -0.59477523050874492316 0.16366797437870650445 -0.45809007835034493139 -0.86626696686757087562 -0.60710370578399597274 -0.88969931148345582361 0.27539625947516993554;1.1749721522719898115 -1.0067948974601454992 0.39882377827525777869 -0.35554490450087788966 -0.54765874728902141921 -1.5454951025900949269 -2.0526767678284203456 -0.5715741343040218192 -0.42589383430567950839 1.6702694489613532092;0.27124601752070953697 0.47925387142254510797 -0.23336357827498854789 0.77715308128315618852 1.1875417360117643817 0.14219557687286554781 0.15991009463706390425 0.20146228675360636218 -0.14094886100141978957 0.98114006062209380143;-0.025940705187367872619 0.17733527006522226133 0.14849157624360437291 0.94819310919947019656 0.68500238379231570551 -0.63595143150948563182 -0.20059255410664850183 0.14554505793982644435 0.20420692242852730991 1.568656320487703093;1.250391477873880941 -0.73720661414496391206 -0.44751041986438716558 -0.75605610427761538173 -0.38693520560202998571 -0.018073850480912409533 -0.94243243330464299135 -0.52300392945464702077 0.15380150001065451271 0.2860533952752083442;-0.026689980096801388387 1.2009209716290407677 0.32529342951038742182 -0.66303230835269411081 0.58217621413056097612 0.76264832870615473226 1.1417328130217101467 0.34166770600248363987 0.75715067039246164438 0.023955185808574589595;-0.85771032218656817481 0.24395908154376261257 -0.66510491498653168119 0.48712276398522103005 0.27503623482174455184 -0.050669921804441547808 0.91589376751269280241 0.5344716438655883195 0.54358944638768802449 0.0044634612710374096944;-0.35699714574136603984 0.3187457469201599447 0.59221859850957592197 0.99066465224977462434 -0.72013454548598676563 -0.95381639459149913929 0.19208282566433867999 0.67984217146771863671 0.1960926056464878664 -0.45416964979071994257;-0.15343272220530634886 0.73172134051489057249 -0.37835445565594877371 -0.3682100188324862744 -0.84205364089155987362 0.14517686371696253422 -0.0058073258726194058876 0.33766355107326856411 -0.47212199827049122769 -0.52049477756854467536];

% Layer 4
b4 = [1.1662453095511853274;1.55928137393693933;-2.5078716568632861694;-0.34977541578620546803;-0.93171201989203922267;-0.95398773604907805002;0.73480454924736349209;0.017131809933047553729;0.65458028521438305081;1.203963710505801199;-0.74125124129134345452;0.11186211284803135313;0.44467897732010736034;-1.5189417481829976531;-1.5607652366018731627;-0.67677448618292945781;-1.12907578056965896;-2.8779417996674081515;1.4788767243540783536;-1.4731193051431787922];
LW4_3 = [-0.042811791858598374771 0.67008285526154098832 0.54739390712362534508 0.88343175546798813347 0.12445733589899041216 -1.4525140287871014522 0.53529094265696108845 -0.91068075010207572006 1.1874190209998145562 1.5241577508417294418;-1.7876235648861849015 -0.47175671104285121782 0.28075476365706691917 -0.72323515105889601973 1.0655918215565769458 0.37217719847325647642 0.033749124574527930576 -0.22820874270010044205 0.067046289609937220755 0.44233646477919497109;-1.2499155001839368229 1.4724561301497962607 -1.2041810665349081955 1.8834047944717384748 1.1558726635648970404 0.81699313540158935432 0.61073061524513994058 2.1028570784465734356 -0.10537118311183657493 -0.90940692123497612886;-0.42516441089345285986 -1.444068800091380167 -1.2308956698624831105 0.3240659324224151594 1.1237293748694954232 0.62977238000698587683 -1.2468062890116216046 -1.6837875924186778143 -0.21342491159662196898 0.44861732498521128543;0.47360028234442264061 0.24261124552530222154 0.38450573309865232474 -0.30690979500728371443 -0.35732896185921991794 0.58211300266855880992 -1.6714000666075168322 1.1930703990584581309 0.65960976561702588938 -0.71240818821902363034;0.69124067199847605281 -0.024373953342256497734 -0.093792576796806928496 -0.010681939324037825756 1.7884631658472414095 0.48446633810545625121 -0.67346173405813924973 0.34575245437828316941 0.17098980115633086174 0.081458911690936885996;-0.40583251103998146947 -0.34833399103906992345 -0.51176887988949193442 0.62577426068691943684 0.10093723389121207756 -1.2175771777777095739 -1.1109051583653306583 0.067026362390037702577 -0.5891617988910531345 -0.30434057756847132659;0.48714774652600217886 0.12644762670772788371 -0.5172680576421238019 0.67505895557880435387 0.08020206652234516953 0.34630115995872023937 0.33253440076332579922 0.26323600908384908736 -0.94866044984030928333 0.69503268219807246009;2.0075601483210889775 -0.083891365552340668721 1.1807559741260880148 1.868765209282902573 0.084386693277343993724 1.9751125373355487014 -0.9621529017111605242 0.28514181522771131494 0.29660691295684338264 -0.28869872794195694521;-0.26748080583227507034 -0.54287337352364406495 0.72891773225037104211 -0.25188031254748233234 -0.90586751191564540697 -0.1282254294881202128 -0.22521160042274399049 0.70833977794181457455 -1.6563578794083402279 1.3684287170193107919;-1.2337824655588416345 -0.63595037583750857468 0.17408235170171076911 0.30517345836189835317 -1.4983448630872224783 1.477259634050598347 -0.90531785750413551472 -0.23957015992157953965 -0.1602702900650168627 0.70189245250041432111;0.40507675241252044662 0.15738163775957242363 -0.65355694415852860768 0.032957655126563033254 0.055565601998614974621 -1.6347568444238060881 -0.31341539070200297168 -0.079814616567927113011 0.70972995806060712454 0.64818515181494995581;-0.45569036370288301674 -1.4451261414415450535 0.83585166460838222768 -0.1025599356399678197 -1.1571448063871336842 -0.22651900703884131349 -0.59295029132592558252 0.076525710044805073107 -0.057244645867020105268 -0.24150539503879045466;-0.81632150452679452801 -0.12424100044846948798 -1.7781749379549562917 0.73158387007735325991 -0.75308853473436654369 0.19475008725161388479 -0.042558772139565617665 -0.31067505043745119453 0.27521066545875227938 -0.46611840270712917578;0.0062538386898821213267 0.02914057728369612299 -0.66658293518066669137 -0.081808017736285640331 -0.72624049641747179251 -0.62391022984231758741 -0.19545512450427116047 0.92162653900545077335 0.0074800371892336202373 -0.93275861885453825728;-0.74163278171629198887 0.21642222868969360206 -0.029114159032078101158 -0.14982699503489985138 -0.659091757996694394 0.67542625757531082886 -0.31362486363369707076 0.88404326050178283491 0.62865518985170010247 -0.039808345724689365996;-0.23159522059792383986 -0.9846931729229277952 -0.95314836727744889355 -0.5098197915581259565 0.79051066044843498748 1.1258906346905204199 -0.70374365918404635512 -0.67540261137063362096 -0.48301399532607974807 -1.6591212843834832746;-0.3756370716805146337 1.7283122187381541046 -0.0049416417467753248269 0.18274884122754364579 0.62890933135059368109 0.53567167058207054708 0.029954435815159104889 0.30575096326217882092 -0.46993738990969957658 -2.3701676856864035692;-0.28910169770455301785 -0.55333990419324330379 0.01908342524049410141 -0.48789988424484270757 -0.2214721337141126456 0.84932844880215307981 -0.32206143642359658097 -0.49348754787143056522 0.95176135691382113269 1.3789731450241577981;-0.94102013696898867412 0.90220167664309491862 0.36616486282292554089 -0.29055153912139219941 -0.61192306389911976794 0.18953497246116157715 -0.039713759293322645205 1.1527140217828275581 -0.055127818409865511629 0.79090212966925810267];

% Layer 5
b5 = [0.10416862107624887124;0.53703565524989615998;0.9110593211842227257;-0.40586124248783073121];
LW5_4 = [-0.14925004271851874393 0.19727057467012601433 -0.64537916253431171221 0.10017509201005972419 -0.19302192920758368122 -0.0052005443988661220756 0.26977681869012382077 -0.6452159224613598365 -0.10065672638169002873 0.0050352827138825306461 0.034886504695065170822 0.27339023655591210282 -0.043810330093084041969 0.089032342352146895403 -0.32140436478271311449 -0.38525999099648428059 -0.076529627635483835069 -0.045754134596267800883 -0.28114309579587326571 0.75953802307267803684;0.14564303699738440079 0.034816646507232512642 -0.35742556725846513777 -0.67951607821180359803 0.29999568587453562252 0.16373018696114552406 -0.063758975094268588446 0.43264413238502485992 -0.1738005601306325254 -0.043231202825961517755 0.41385944661168744263 0.024148796079814585647 -0.03682272457449960873 -0.47857659009417513607 0.45624772419421388836 0.88951820599002862089 0.3067060221476947679 -0.024108944176855020419 -0.45805965447077340302 -0.084065437666338935219;0.018998032082458277819 -0.50044333844219779373 0.7876451119895994113 -0.10564886453595379034 0.22008907634081043003 0.22382472812662060346 -0.33720151793513741811 -0.37221904340805900269 0.081999995472059217239 0.48615236123945709812 -0.68544882021304465169 -0.58089225160567226069 -0.48118904535128603772 -0.011817269551187177534 0.049700989603811161766 -0.083482605870616150012 -0.49495490967639060864 0.82172554421018539905 0.94156558102113385722 0.51327032259883542675;0.033428270472867650798 -0.013131373440252201018 0.22180529035440962882 0.59300171975665794122 -0.29249746667445847281 -0.021483417451117606256 0.11387513385701589219 -0.069490333116834043792 0.12159561139945762598 -0.12729528369209977545 -0.39818630064837662319 -0.19514523849414869283 0.20679106258413293418 -0.16990646080816440566 -0.55946806269659299371 -0.12694168521095430813 -0.13605368871683767851 0.007402208813560171019 1.1664806859430953967 0.57496805564003583555];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0397039958504373;0.0385819932481875;0.0400372589880812;0.0416989841712608];
y1_step1.xoffset = [143.937094917083;144.986763517599;144.540423916782;141.245908245125];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
