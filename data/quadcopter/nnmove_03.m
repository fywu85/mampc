function [Y,Xf,Af] = nnmove_03(X,~,~)
%NNMOVE_03 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 21:19:01.
% 
% [Y] = nnmove_03(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.591993057816088;-1.24063456062909;-0.498343469489469;-1.39482063568896;-0.444470319361263;-0.323105694444565;-0.395815307159271;-1.21741074482007;-0.492809137718783;-1.49689082115881;-0.670619673906455;-0.204751776761318];
x1_step1.gain = [1.78237772035698;0.897460667164977;1.53052509622973;0.846308525579566;2.58566648391193;3.77276326122836;2.58664192768644;0.623702674186829;2.14628437839863;0.602999004044786;1.66670643459339;4.31891223959037];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.8913457988700010937;-1.2458851938556823047;1.7974423796937617492;-3.1117157021190444688;-0.15217898500137758133;-1.0282653414576745643;-2.4491282597608829974;-1.216360497449742839;0.91285410980553138849;1.4583365390240159432;-0.91383522723202115223;2.7938966378620571085;1.3501477847246219355;-3.528099726876881892;-0.72683843918116852745;0.19844095615488893669;2.6487748018179413378;-3.6908482923642655926;-1.2418913926085641819;-1.7581080270982392122];
IW1_1 = [1.7055238892833748388 -0.1137853406737147216 -0.47922349812816389392 0.77092700697632698947 1.2749723607275591508 -2.6835333453434389028 -1.7875685086821386793 -0.4577139952161200509 3.5168684169168451525 -1.1766263219612242974 2.3276842619838205017 2.2312271599248636456;-2.6160590035323223468 -1.7298613265603355327 1.4131190790385925737 4.9402102521487201159 -0.25565529691218363828 -3.4695280353950930241 1.0350853582657979501 2.000879031766419569 2.6576900910522667232 -1.0772869623924332672 -2.2494699744679782505 0.70934279104275077543;0.036293986553552426422 -3.5100175205883505924 3.7787811754460647329 -3.1111392929676768837 0.8709701982614572735 -1.738569838051012395 2.1711872996150276549 -2.4696009206942082237 1.8122038914532045961 1.7516277755033258234 4.1466984175146075486 0.91740760603288817876;-1.5648946119650455344 -2.1821213269082186947 -1.1078903152986709912 -0.3432340125650080731 -2.7301944926859902374 3.2365720389392391709 -2.1712967308824078216 -2.3608974549905226148 -2.6508607558286705341 -0.66378007742458955409 -0.57034552936459859129 0.96870780749073159832;1.1696818674317275288 -0.46556548786835422193 -2.6041729200080010465 2.7961416196675838997 -0.02702219510642876743 1.9774739956035594091 -2.0397650704573497826 -1.493423386384147955 -2.2994533077471213112 -2.0014397059030621939 -5.6059392039385347317 -1.7957077630065823026;-2.7594720503727625527 -1.0123405280175767906 -1.3398729407172107475 1.1785583118720786011 -0.90823963119572270752 2.5441220225362384255 0.11958180547832795992 2.0628158630703987697 4.4826337948041157233 -1.0083877822821512016 0.6859882486020056902 0.1360670136848945444;-0.44193666417912214062 -6.7775683179134613709 -0.64238360343133604768 -0.0071853032990593437845 -1.4698021913663334992 -1.186040733649574852 -4.4387697827443099996 2.4752656613655164008 4.9890325969449582644 6.7060641932416187316 -4.5896965170802070944 1.1250994032933521183;0.93585127468752971058 3.0839428513769848728 0.21025910819612325664 1.4014242987844895971 -0.76584650774836959819 -0.10426540469193368299 -0.89795307383367717335 2.8947248630892761234 1.5617545651741011614 -4.3795102933981508997 4.5638333775954222915 1.542783948861514709;-0.97314534237430172503 3.6650964947248838577 0.82561011973449227597 -1.0981788845060069804 -2.0364701323264471355 0.74326763641862592102 0.082960556599538493039 -2.3191106858419168191 -3.9703833627010425289 -2.1837816647469017184 0.60727316459973179619 -1.2106598505700263413;0.070102150427195961124 -3.5020012702055605125 -0.69684621505716615175 0.85068446174921152902 -3.9276085848850654791 -5.5436207123773755256 0.44050954478783571622 -3.0758444999035763345 -0.96822997599729176965 2.6574056152977623135 -0.52120614856020486272 -1.6160366391975400369;0.10392412564320045731 -4.0268410844627071654 -0.2566197846500701818 0.68317140806636245109 1.0223346368382573157 2.763848192451515029 -0.46515957906104182795 0.29503540141430117938 3.501915927093024905 0.79128401212604526638 -3.3893218452408380159 -0.12114353610194218691;-3.925986393500066729 -4.3868859526493082512 1.9177313997371598919 0.72096615831745358705 0.87451572879918815229 -0.66326464962649267498 -2.9476265688219616123 1.2781736069513738308 1.3512719984291177155 -0.3368138776762789055 0.11129044367128100579 1.3882218761872953117;3.706523063525890116 -0.4875861232325490735 1.8499058210533965152 -0.93576161705281235559 -0.96660031808147228727 0.85399206028223606513 0.68068513033773259124 0.73036119490245821062 1.5055322731783535861 -0.63945458220131523586 3.0491376757524784047 -0.07676131151630256888;-4.366582186224996498 1.5741436040966982901 2.3606357780450721862 -1.9935769177378523942 0.32064673470053334237 1.5362897555070600397 -0.60176633019039871275 -0.84411932594253458184 0.1443774544846068153 -2.8271981475714027532 -2.6074909080418193774 2.9981110054359949579;6.7104824553327739878 1.0906833148232215613 -2.2692255620338022126 0.50740196474825860484 1.6902301494544602622 -0.92977018328114768853 -1.1994109086209687742 0.724128830240595045 -0.69827119606489895798 -0.81887148998234771113 0.83065390678499184673 0.16115217257601960332;-3.3638687729934417803 -0.5216556886408840743 -7.1669539853543593466 0.76221254735656673862 2.6574925926239001406 -2.0892161378032847452 0.12530790236712749386 1.1104134212239578083 -1.3812718703571140733 5.9192053180976520466 -4.1912888215110069012 -1.1245554969514826027;-1.7441344216511538434 -3.6719093457401932312 0.92665416053176863365 0.23672574079213129505 -1.8233932606003038224 -1.1812284440019906739 0.3085319325609301444 2.0556523998191895686 1.9835556599333230565 3.1464279137560815514 1.83468686473151954 -0.50397004341373097258;2.1492906103135922535 4.2060320626012002165 -0.20126253281110534354 0.43802700914619774331 -1.3456226717459720543 4.5237866800540729173 2.1271790107386050472 1.7134352900239226969 0.031377986232653157228 -1.3965305870748210282 -1.333052444201047626 -0.71983815661226002725;2.9984867656527600666 0.58830729780184443101 -4.6636670421527650632 0.19897350405087460556 0.7215059297181050102 -1.5355024651319932882 -3.79411000873598514 -0.44985094876900538763 0.47543080280556349049 -0.61241259427423577755 1.419414700300398291 1.4742582155912440367;1.374198355793420312 -0.29017047004557344758 -2.0722922067859768092 2.2186246752980451902 -1.575995683480061027 -0.43181706038735240272 -4.9525423596312867502 6.2048585351572045354 0.24277285541826207349 0.82891876253399243701 -0.38455697344305961316 2.0590962623004842591];

% Layer 2
b2 = [3.1590193803455641763;-1.1465924474851190151;0.23636794787247361604;-3.4864582506001560169;2.2837830144001829424;2.4086447400164021637;0.20161745013885942757;-6.0940356212330479835;-0.83697803047379304431;1.7456182797000199258];
LW2_1 = [2.0531295045439250657 -3.6145611530326648975 -2.2289469569732562881 -0.66062417621011348956 -1.2322655757509890506 4.4052140737764178269 0.72776179021952591697 0.67877926775815011773 -0.42394598514434733705 4.0023026610853493779 -2.8719260403183826114 -0.75109395088006447594 0.24242533031523047504 -2.8084658998843341493 -1.7370828708693970555 -2.0517162710656968727 3.0692791363374145597 3.6527395740060213392 1.47005716829187838 0.044550135080091035622;-2.9710394928616081778 2.1044969012403136333 2.3933336728570995255 3.9769631786248562655 5.5738952504673839883 -0.38429857474675471751 -3.8847856432682319472 -0.75641998496886242442 -1.9289327480354931943 1.0069868666958152748 -3.0170613794436205168 2.8373195712175189875 -0.64668409385277192403 2.8849266927608323563 -1.5773476300957631757 0.29891391380664456001 -3.5319125339112051876 0.57801247855282211763 0.11645362625931666989 -1.4014243129868977356;1.453605383392885475 -1.1917064905607681613 2.8480375624270468649 -0.21006474159614840769 -1.944990616205177103 0.14817027964874973645 0.54394767933400389737 -6.4469575836495147669 1.22635943537093417 -1.0831725654867825348 1.4085818445036450974 0.53641422168024621708 1.0606492345532037014 2.8970378178974098837 -1.6381907921732288269 -0.5352817577572255292 0.76223216751020250737 4.6630322882283259389 0.048088543216168219696 -1.1196054982535854627;2.0949588740644693452 0.49160199833717671547 1.7787411205177336981 0.045675894154077037457 1.513050683693547116 1.1836409000006160586 -1.8355654294597050225 -2.9970840568482310928 0.42684355010215324633 1.8635232547523470359 -2.413560133097564897 -1.3948994950192641351 -3.3797648503235158124 -2.108170467503470924 -2.3982846396622559126 4.7904014289216378941 0.77468101266709266106 -1.550545483457263618 -1.4363044108032962942 1.38724089053157984;3.3943064291591991122 -0.55455681218957708634 1.7692429936743330199 -0.51043650827705255857 -1.9198758597880702936 0.49398434493229992359 1.0134491808807972735 6.3589296873085103812 1.5692275673415865267 4.4743122599370881431 -0.9885765038569720442 1.3992071460720816312 0.47376245631501889832 -1.0197758612676193213 0.62284114342657992403 -4.2640196607454434741 0.24507266194677035376 -0.11447313297922709352 0.51488929750015222098 0.39889232651171058208;4.0320041991459172337 -2.8168322792676532274 2.5455719050647664936 -1.872516144957959483 0.62503918172814088017 2.1435057618867974227 2.3912355585651909884 2.2074348996614236995 -1.1174527525770736602 -2.1254380045829841528 1.2161333497275894633 -0.2924600747785985333 1.9763904478087639394 1.3367751444317670373 2.1017500108620930099 -1.7132183690123634623 -1.0190604093953614662 -1.539045818491667772 3.1842266739162874423 -1.6267223886535326915;2.3724688499196249225 -4.3376077582471568306 -2.1955308015333945271 0.80241476546416468096 -4.5087649025229996624 5.9523944756539197698 3.7735523410234286246 0.81425094834320566051 3.6249489165586772366 -0.57612175371924345679 -0.95369667043473560497 -0.75770208412396677922 -1.0979637343880583877 -1.9829720069655965009 2.7639081065798656311 -3.6677865275026455549 -0.072808684233988202328 -0.44666157473301576486 -0.79643581980897104611 1.4260813515678223418;2.3535103549780655996 -0.87422999708286908138 -2.489910479324516146 -0.81293515154871254236 0.23432297074167296458 -0.84645094840734624864 -3.1354570476338050611 -0.31210138134561143941 0.38915046228833355402 -0.49241890864589399346 -1.9148502176673438679 -1.4647122634699736299 0.32332008280444030079 0.87522331797431673905 1.5976075733928851719 1.3884032909985832838 1.6818345327207320228 -1.347721871961719442 -1.747697720581398162 -1.5545006616360992346;-2.5351292753163825466 0.41728867499400323915 -1.8828292416259169162 6.7780417612651042703 -2.6420146870001492978 1.8053208414860859587 2.8713880110151097647 0.37812416920464025916 5.1071236899882199722 -0.93785423073049389853 1.1546686064126516769 4.1130651770110935317 -2.7450428525393752999 0.18641728194631593252 -4.5214854643434474468 -2.5845119467476704855 -1.1783909405116963498 0.98733807982729948627 1.3992939320953778903 -3.8137931705390037962;4.4914623639801716237 -3.3120814270783314193 1.915157899645038686 -2.0740248263950213925 2.1059692721120053527 -1.9791425709189154336 -1.7131396440777379997 -1.5301808946439712233 1.3140110208766029309 -3.5648034173630822607 0.81542315203151283232 2.7379362885883886669 -3.0478073640673719602 -2.8723510587837366437 0.38181162760784037591 0.84581606205999104731 -3.2354317664024030421 -1.6949216364240611288 2.2216017295657630726 -2.1238311825356892548];

% Layer 3
b3 = [-0.51730086441435196853;-5.1889785364354343855;3.1412186272445703494;3.5904029562892496585;1.5729793158213289939;-5.3925072873012664942;1.0673382117087542031;1.993821795009737885;-0.44135933124563120344;-2.6981147701363612512];
LW3_2 = [2.6100488038223033094 2.3381793948416595974 -0.33674206766725145457 2.722831314863759733 -0.69100480611699277578 1.4519867214099448915 2.5058181110772523859 -5.4417228835909039475 -0.31053711064339029058 -2.6757166316536911133;0.73935466013279649289 -1.6419244751761237211 1.5706037029638308944 -1.7325575816429878984 0.39165989620693530959 0.36629981297820862762 -0.0019386336222384503714 -2.3993154156392071386 -0.91167277690068448948 0.12693926259550725177;1.1681827374288895616 -1.3737250131897105199 1.2831701429309108065 4.2680314991082379805 -0.69193800849266817732 0.62011202217862215758 0.00143106877180688985 -1.1300072968182461874 -1.3051433921510977587 1.837448533996054012;-0.3301035639869766003 3.6815578675059810188 3.7493673943138090543 2.2920248110357888116 0.84208843184526538383 3.405197195271653321 2.4222571392114691236 2.8491311425793908185 1.2608609785892996857 -2.7214554180683503404;-1.5091639203991078499 -1.8889595847856839317 -0.30358611908485999553 0.63350643384017291115 -0.38715087663607183899 0.68845390101803316529 -2.2035267750320350899 -1.1659955767816860828 1.2243407383148785517 1.5991531115031867305;-2.8969811301893884092 0.8116128472314414477 -5.4801768342016838886 -1.0066732353118859056 1.6765129176962747515 2.546198905570739246 -2.5871886165954007808 0.62492136265259734529 1.6982814598272641948 -3.196083021274585434;-1.5981856816322139725 -1.1158707743412523694 -1.435612020663363797 -0.59818405909051008962 -0.067697435421857701798 -3.2447356519650965012 3.9899475989203558868 -2.410420597761095074 -0.77827486076503704648 -2.8688847250176872095;1.1258697530027175215 -1.2399739891862364694 0.55564422283536452074 -3.8778435308157495065 0.68464052298900446303 -2.5344913053377648993 1.8918400747350005986 0.7979226815593591926 2.4143445415395667908 0.68648376147413103787;-2.377007475109084389 3.3418118820432414218 -1.5537848876953537225 -3.9958965342787653441 -1.4248867052593698901 1.1282649368713555393 1.0055507867723534332 1.0054343400138923137 -0.15541286972734849603 -5.1418880175362913221;-0.65997908732145782462 -0.67351656504667722913 -0.40896113507464237902 -0.63914293020011914148 -0.50956819560858668261 -0.30200320320410845021 -1.2981908084503617218 0.93926778662483934035 0.3628624240646649568 1.4099368115504089527];

% Layer 4
b4 = [-5.0508130160662023656;-2.6383009932650760554;3.9638420166066548056;-3.0719162442521756873;1.25487109197399338;-0.13242126125220982091;3.2129048842240846007;-7.1376626628665986729;-1.6314830126896866513;2.1665676160902194169;0.65346860493889435961;-3.0743417991697241654;-6.0960404224582704913;0.98146313906741267097;0.55571566361345792195;0.30022321323273826188;-4.0584071027165560253;-0.64351338643712707732;1.2560077193235044124;-1.3059247691874682484];
LW4_3 = [5.6988999870377785584 -0.046831727431947037243 -2.6279341471677652997 4.4246306275484785786 2.286175378911836642 4.1529816592728758806 2.8261619953323258159 -2.3347753399849962008 -1.2759774831836867559 -2.2613478600636858218;0.030597030890212234544 -7.6289307895007052451 1.3295406065248731586 -5.3427946524399718697 -4.19477716245625043 -0.11261281766180854247 0.53623919600209557501 -1.4439633453458169399 -0.62276748885183197402 0.80606820319651673046;-4.5040520124254932455 -4.2731645814254619609 -2.8724366620469177214 -0.066966126198043679496 -4.6585233850214553541 -5.5752671932281270273 -2.8251787327139128436 -4.5585574207695174209 0.068833836513858520645 0.10251999391475602463;-1.3609683653086326327 -3.6748368653694289954 2.6864487637877192405 3.3317097921484197798 3.6308156955839807623 2.9154579067032151407 -0.37824683855734020366 1.9631651367970270883 2.9518553851329909499 -1.9571668757553812856;2.8410107788048670763 -3.6147720915088781268 -5.4083509033377286102 1.3658907422989710057 -6.5534755934344888217 -0.60686727233327708575 2.4764321934611044362 -3.0939031239615384372 -0.057853497440577349165 -3.753324906391893645;3.2226052083107861179 -0.9633070029978513249 2.0263798815384803653 2.8155459528966568783 -1.4945150101460624725 -0.16962011744863914053 -2.9927417726765441763 1.7621381489694856182 0.62092900906587944476 6.7313127517290531898;4.9424830024623060964 2.3740332969032498234 -4.4544897139219452598 1.8137171670268552592 0.35835109928295316717 -0.79648883481887755575 -4.2887412413690677582 -0.85587427373106517159 4.3716715797647047737 2.5649518376951996323;-0.73632606396513655689 -5.7584856702659408256 1.0348212086143298016 1.2083788008423357319 0.83262637071167466818 0.10817100816530969554 3.621410001923879296 -2.4319258424744636393 -2.1790192103562926462 -0.0077204057409366033671;1.3002235367994472437 3.9315546901666573731 -5.0704013821644888793 -1.1986075726044334022 3.6627625319771190959 -2.8744385116494202137 4.623565488208170926 1.305656284465409378 0.44032982908604451078 -1.5749039799596440403;-3.1696564857829967465 -4.3038548064217430067 -4.3989856548223080779 3.6769011685875754303 -6.9281550635395623416 -1.8977694481119156134 -0.70229916467632225174 1.9757860388091146309 -4.8801841692140488504 5.1802587871001515296;-2.2378037256551013279 -2.4055992537036532397 2.1914210230965656123 -1.0753051378010614059 -5.7745362700733569028 1.8992424132117557978 1.5653420983810402145 3.4055608472722065372 -4.6281832253174410852 6.0337074955393736886;-3.0814653589250355914 0.30853143400350241388 0.68855072839257824846 -0.40257456767719768109 3.011333028665932332 1.2966322867639730188 -0.49410528599289554874 0.77303376992721517524 2.0640521405276932576 -3.3689842665521605447;4.0840214688105280771 3.4026600155543920145 1.3421223889908859839 -0.15640804325023108245 0.76041282946447408264 1.7382342850328353911 -1.0484487530433963531 5.0703839064032392159 1.7543247558304755351 -1.201001046718282117;1.4763763142489232383 -1.4127720325898824871 4.5938830852836662899 1.0308255479022381262 -0.78316494510872991519 -0.46372513213834198886 2.9856378155030900423 4.2846391036976587685 4.0710914819240286988 1.8181889189349755842;-4.9928437809239580858 0.94897252313649016475 -3.1818348519403922836 -3.5080420738550501802 -3.3335126649777202523 -0.38546282227330225245 4.1386981323768115004 -2.4942859895331697118 -3.2867397211416187197 -4.206054884418840345;2.6122388932585836052 -2.4134573256525175822 -1.6639752763090380761 -0.79685998793155432551 2.6638278728742035284 -3.3007517348782178246 -1.3038917252410922032 -2.1057804471728966966 -3.1008498394304240264 -0.24647472448199872486;-3.9471151031730347114 -1.2742977310526197865 -1.6113430850289987006 -1.804303005636526791 6.7636918181427301278 1.5996189800720730378 -4.8135727692319125737 2.153899507063390395 2.6064956703778623393 -0.43067415965441402381;3.2113086980984002494 5.2600563851836934504 -4.8850159100226600017 -1.4138878444264706413 -1.5944841787041115211 -7.6668051347023213893 -0.37481688799042328641 -1.5723085176625248849 -3.681364638236210407 -0.62507990798223000972;-2.5856386314231833978 3.7818184461853343592 1.377143849268164244 -3.7502608098946299542 2.2643719402685364983 -2.8197703132802107717 -0.12870128209116635243 -1.2019573324256804803 -1.5890184931699851134 -3.6717718765645446233;-1.1517503792325392009 6.8295045105089293713 -4.3762322118299765705 1.3690478788105917562 -0.41278163191445349511 1.2145316208262404434 -1.2628549825315362742 0.53578778432862039782 -7.0261557729091199676 -0.82258725414098765594];

% Layer 5
b5 = [0.06675486943149244734;-0.062714379424930605245;-0.08165582781399002843;-0.089137032743234256849];
LW5_4 = [0.023280193887214438442 -0.054334166160650385069 -0.055498414746237949291 0.033162293824859148672 0.01843064097972092058 -0.0074195143481359179805 -0.077994822560222901164 -0.021524691617577734054 -0.033757804736062359263 0.011051286677452101803 -0.044092108620526829221 0.050066080186632201665 0.029999652608865941955 0.017202467790780658768 0.019812640888547328882 -0.031103323931577761541 -0.02261386670635886359 0.050061327250629457375 0.030579513202507496022 -0.015017488636813593889;-0.00073411347270198497317 -0.064577591545506782267 0.0034601229829596714949 -0.021106179154843140999 -0.076747571036319156557 0.029997609430848479889 -0.017819992209837126618 0.060489121386348661258 0.0074888596750881872288 -0.028856132321643187394 -0.027643486994916460081 -0.026425732127400673732 -0.023013308706406398335 -0.0020281777506266501776 0.052632358963473672986 0.0069955843290623190636 -0.047247469935301641963 -0.036928275654679022788 0.0090037507075453205446 0.072906974088227896602;0.019386354563147099872 -0.028616238945189231141 -0.0071338235872697112333 0.0030105152246832338897 -0.017423582040075595578 -0.025314524472411843725 0.032469210083833840996 -0.011895795961194496199 -0.045959066014561456015 0.02692634008037895349 0.017966400717416418364 0.045405336503577163609 -0.020443859460200702188 0.0034709384805823619013 -0.03365172834292577686 -0.1503203263233914011 -0.031598025636443621833 0.023119284140791816068 0.023254917109407545472 -0.0073032502254628817173;0.014931708058650733709 0.0027464516937527206492 0.024687408255494626419 -0.030520802749025917333 0.008696909142049832897 0.025600814936571937575 0.033476615675885078305 0.04934802502437236893 0.037044003483938249544 -0.018320287005457756846 0.01069300485323116702 0.027574207276914945719 -0.016181502515862936087 -0.010454201707207587402 0.013972880701514953788 -0.063039291482859596827 -0.00027745050550780081533 0.0017344485477115909045 0.072090624467337049985 -0.043424137979813641486];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0401239503087484;0.0580187369567506;0.0595249297027811;0.0421369153152574];
y1_step1.xoffset = [145.974025425633;156.67765583252;158.113608099577;150.391794151573];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
