function [Y,Xf,Af] = nnmove_01(X,~,~)
%NNMOVE_01 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:22:43.
% 
% [Y] = nnmove_01(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.440735683864044;-1.30490266637008;-0.563612661938743;-1.30082039987417;-0.477463491463658;-0.345789308086296;-0.456124161375581;-1.85436538017275;-0.278757909478798;-1.66674140702448;-0.645412690014965;-0.274462298290473];
x1_step1.gain = [2.01669007587353;0.947359091742076;1.68590753899442;0.873506581390498;2.26742524653581;3.62762843969451;2.06682454863913;0.5896627770093;2.62591672141353;0.76123675293808;1.47448771491228;3.81808668007887];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.99507769512486599073;-1.8466146754616630243;1.322190597127489653;-0.48647834989843136144;-0.61210077162705378573;0.26576684031689462584;0.22016895038614503477;0.69909813885181326665;0.010061455147756616368;-0.34539683593963765862;0.40891404641744771853;0.16737552537863037427;1.7307992838644206124;-0.35835252090662156332;-1.4773745271291796044;-0.13928973946894007696;1.5657783768601298835;-1.4923460383135025431;-2.2709971917280378229;-2.2585316897834966099];
IW1_1 = [-1.0124385151205597122 0.93091158772497828444 1.0461041766300305245 -0.56106019221323610857 0.74390441661617967561 -0.74083141968924270948 0.02400060148147040856 0.048998775876343179936 1.6683946665614430849 -0.25703609804041899212 -0.38346190887303432948 -0.87337413773894978508;-0.14878747077900822404 0.080758075844291010714 0.012052869166337337042 1.0522701764756947629 0.60574533825029941436 0.81536798113605823968 0.83735201900777267436 0.99443194413369040419 0.32008100628984209601 -0.14604905446242344436 -0.18435755807000236972 -0.44795735956405485778;-1.2856431314227707574 1.1774851976945834853 -0.0039998381195536815425 0.038959275792683205342 0.2611733049567402376 0.33704191335797373252 0.83982989054081225166 0.57149768728878524993 -0.80754582927161278061 -0.065390012505465708315 0.72966749204469150136 -0.11905153674343843528;0.61245576583845307006 -0.78206054529353330462 -0.021783732267742737798 0.43546662608076625034 -0.26236247302754750477 -0.87522375023537657412 0.20150500858766703938 -0.9526419368530186782 0.62841428628557827185 0.25937400090705192701 0.13170146645425670484 -1.2977436354736364699;0.60559117555425823198 -0.19563111682825853888 0.25095626640136659002 0.35410002375688309773 -0.086996739924361396468 0.081875366060579268801 0.15403689951033000538 0.42138016734824884635 -0.50218034549019019419 0.062874068727016341196 -0.65460354945489029888 -1.1399019733486761563;1.1918611632624069863 0.30159953010968887366 0.27461264304944388304 0.35592809017711751762 -0.88573458127371418325 -0.31442122780449732744 0.49034963236070122639 0.3357855193531912863 1.7592365636304976295 0.97393113454040181054 0.81369365467447363205 1.2425400695383428396;-0.11131969411539921477 -0.54985046360762690476 0.93373217938133490357 1.0470105090774393108 0.050918284439724501023 -0.51922434549231455403 1.4423895708317668873 0.60666262267373483041 -0.32449196424561066454 -1.0796632217788346697 0.66465854637555443762 -1.4547719804302536861;-1.6207057843499599326 -0.45748449778505018148 1.1058566273453638296 -0.45928207950608518351 -0.22996995713236589864 -1.3491831279140227284 -1.6213934184331635358 -0.40837771234546671462 -0.037676646943963970626 0.40926983068949129851 -1.2488841453527264047 -0.43463253083612241046;0.37749500226467730402 -0.61346459325408153607 0.2615087989016038339 -0.27539561610398854974 -1.7159069948788281401 -0.74540913602169533991 -1.7760369251534036117 -0.50518480118453124028 -0.5004856165733772011 0.32633587350418391537 -0.18871109787486362031 0.81294589749951440272;0.17371784364763451225 -0.57976733154085136057 -1.4974624478690845564 -0.92781451559068539581 -2.0192014758492438098 0.056643653686898443045 2.1815864165521987594 1.6764258723179317201 -0.83995734849758996177 -0.54994223540307940468 -0.38744117129764377161 0.961078541365853245;1.0638769767319500303 1.1371114298757765138 -1.1446698919832651864 -1.5566982143570036179 0.41330631260715483544 0.5614260663984435018 -0.072255156714161980491 -0.052515426891279956556 0.26752795807188478605 -1.1160693217089920903 0.091445384839163618151 0.27842533935542213008;-0.15512504824736322862 -0.40700425440747955985 0.33796372231811433462 0.84480648606373942577 -0.30732935100485442304 -0.37719126650930978606 0.36200385717515787265 -0.23355469292644498447 -0.071589801997915980536 -1.6966317102643304615 -0.51869030329894749709 0.56991738154720228415;-0.64350998860763386489 -0.51459617027100434949 -1.1624934310959182948 0.052354534023721664704 -2.4624727796572161154 -0.46624275059724717973 0.87099052459130732462 -1.4552785369632248447 0.51290714644672041889 -0.87148796621762647518 0.70885109606275953364 -0.36390829786710349181;-0.21254998160732835322 0.34707736763717483841 0.83907563947591057296 0.49264382427630920569 0.26753903384539201582 1.1408228890246525644 -0.92953774209308182019 0.79684133938862355961 1.3346835838113189077 0.94713835425683234881 -0.25120017764313895547 -0.19139693571623550561;0.79821666342980834852 1.424204551667796137 -0.43736269677565364766 -0.45854445375293934051 1.3653522729494402821 0.68023712326280227902 0.38752001760505616623 -0.056038455294355554726 0.80960427426021419617 -0.5418480014336981565 0.36200333846945031979 1.2143872178738626122;-0.39383561796685562229 -0.15792950638087677184 -0.60334366598159872019 -0.31337729999993624297 1.162841610993052166 -1.3836365025013317442 0.87041882491523614451 0.88781417484300606535 0.55518805384585390161 -0.58330739647742979592 0.20172493632055904511 -0.33047362318996703623;1.6204728455358754502 -0.29171827410646461454 -0.62576046711741439843 0.21897060157722972318 0.84378809631829565507 0.094765909331955208716 -0.7529423663829385438 0.49551739114501291983 -1.3480665384802943407 0.44593410172129482882 0.2404927039846625203 -1.2170926024395760656;-1.6155604114733874699 0.85185435982689416967 0.50038792735795889488 -0.32543555010873570499 -0.13869873570260032869 -0.13439737136383614335 0.4669517932969176055 0.095217387890354651669 -0.44115135388839160635 -0.37610941830950711529 0.47632686082603448163 0.25277743318584178223;-0.033800894808285693316 0.18229254099868075212 -1.0276358038741064682 0.36073858517698254023 -0.92092896086550524171 -0.27653910669050046911 1.900785058953158746 -0.34485978739667866311 -0.99939244882317601615 1.2357059342823486503 1.2795717415108514015 -0.61290185007478714674;-0.48300961299318090347 -1.2113698496319593723 0.38008895196310865661 -0.13980683087840151124 -0.17736767395516811474 -0.024100474704797154868 -0.53984580692855776984 -0.35450984986353245576 -0.093772143872314250856 -0.4515578293612711458 -0.23227877105113342582 0.5933096719788784057];

% Layer 2
b2 = [-2.1180411733826107756;1.0652283307699179637;0.18074299213933631147;-0.45722752989166959292;0.59687921430963741809;-0.22597115846206272671;-0.57585024845663468351;-0.6718623937682667302;-0.72952832965289926559;-1.1255311488655168617];
LW2_1 = [0.56974042282814751914 1.219734118744134399 -0.82925878917851414407 -0.33591535591477000855 -0.026443006618121073226 0.71491674813682748457 0.38887281430632930634 -0.26797130083216047503 -1.0288626119935349035 1.0578853118678541723 -1.0593068357249175726 0.87977292490431691085 -0.4469365420757784868 1.7015401239572980341 0.055163051446994681992 0.66812975723161360797 -0.38715024166098460645 0.87754240017515305894 0.23223353838653318371 0.7208309385973766803;-0.1735860826608786045 -0.26820766695242964639 0.2724026903340542316 0.34416779286185883446 -0.020388593940594470361 -1.084789045111757666 -0.49425682193176251333 -0.40104471630005028571 -0.39084999480450910436 -0.85350239551276119165 0.026286290935498807242 0.54431332295802947741 -1.1012709877072903719 -0.17450877036044715185 0.46996974837501381828 -0.39912637374126991308 -0.22952201207607142441 -0.63051428996582825626 -0.11853707650736437784 0.44369213923794115217;0.53471640544795717709 0.32511901441458124218 -0.048329233573264129831 0.44775490374723370124 0.78167329767616378078 0.28678088016587727216 0.019751360402269532712 -0.24618569272410953386 -0.13122337369900224924 -0.29952368929092121341 -0.82803128740412468289 0.54005085350740467121 -0.95424767065281945744 -0.21019817112965308303 1.6542232916043599911 -0.68038275987013563384 0.15507221571069279564 -1.8401316757549424086 -0.50696229034056516927 -0.7417001902275469627;1.2199789231841611237 -1.6173602619113578438 -0.74596421905231646843 -0.68386457919055132493 -1.2422997572385343634 -0.60167376853415521776 -0.030060001681799571049 -1.0928382045352065255 -0.018607059956528858302 -0.31502729232526582859 -0.15567136225912747705 0.26737297686111105577 -0.78148107603871730387 -1.4434853012397730332 -0.60597887976565378843 0.10796409670581758045 0.76134426804106047904 1.0926285299066500478 0.43399892280993784821 0.5207782420956298397;-0.089204651553040942291 -0.52556875011677950393 0.36681590571642253007 0.47700771935802055435 -1.604857779770276105 -0.11574727324218733737 -0.25489874750916374779 -0.025708100581884503477 -0.69205682130094536841 -0.16607407179730021562 -0.721775096083935086 -0.88718468079146717287 -1.452753940440882241 -0.10672416150916566591 0.19300671634508401175 -0.22707012073871093993 -0.19387321025158346655 -0.41775749886221330565 1.0309214892910689709 -1.0022550281889193169;-0.21782821387648562683 -0.23802055048124221015 0.62071109202883822942 -0.49007974425222183834 -0.73812878705822326797 -0.40323565456683885255 -0.09072699571265747942 -1.1372647228223948801 -0.70831203837200751305 0.09411525205770499003 -0.25376648345638880278 -0.70833829451561847179 0.69058775820398998757 -0.46758881714629790816 0.77038583846990371651 0.66517827918458150016 -0.28091137641998298324 0.61985344768297778728 -0.060123717454015138117 0.21253998559883111041;-1.1434858403835268525 0.16748575248335051402 0.44568583305582365472 -0.8708337911954060484 0.47634171377282108484 0.084350048308492381333 -0.52581535904187537422 0.77649281229476174726 -0.56720300557457081769 -0.29563796652392959619 -0.13149173999547514313 -0.20069731735819401619 0.92656928176868580405 -0.96497683295150493699 0.34629581764526506937 0.060698863672092623345 -0.70699367246534328135 -0.031698772818443875232 0.55541238896001088321 -0.5858478905535584591;-0.25234901319164371181 0.66125005017198712487 -0.13464617286534527607 0.67847120336311461664 -0.77737384038345025417 1.7269343818945552815 -1.029662391050665482 -0.55582577270059885244 -0.8391123154336739276 -0.94189215229821743325 -0.89409164995710155299 0.9535741248034645956 -0.96175781415483407866 -1.8479203962260666305 0.94403318168257954746 1.2977995904641155267 -0.25577792688111949948 -0.91978798790839366717 0.32601208708263362812 -0.48753842500762517576;-0.21251291468440342003 -0.4459714605470533888 0.50409525265878185607 0.56651955436384304754 -0.45804369187641807981 -0.64784269415531403613 0.12537392589775592233 -0.01852258282364573766 -0.28424426387836282393 0.49232985591573513728 -0.27264972470097736945 0.47648554604091553077 -0.3697297430383099659 -0.70600333805846537949 -0.86798128733262824852 0.90431164801365138128 -0.020538847632610175015 -1.0223436205180138625 0.3842943440331291205 -0.84039678406159867841;-0.62104872159926005626 0.14430404170263158581 -0.35708684931003503715 0.057346773521383440086 -0.029832819739120004787 -0.36307166867395551657 -0.37697629028494000769 -0.61865994705950755339 0.70449232127319172392 -0.55228091613124463688 -0.3424829275198841283 -0.59881539098475822236 1.0241256098659612395 -1.102384467668292567 -0.13419461109417360478 -0.025921536688378155056 -0.15305611148553649459 0.38879325904442735284 -0.13815577128687284159 0.038806481611799545361];

% Layer 3
b3 = [-0.43015470700724228736;0.87114262895050853519;0.6440321125214498732;1.0587660595360386395;-0.78346869896757775908;1.0347616193334425727;1.400028364168030226;0.36626518247972716935;1.6315708827671722148;1.9562889068195643549];
LW3_2 = [0.021921164796999625946 -0.036208338793090544261 -0.09498025086184111454 -0.27337707746506245687 -0.2973474569241353338 0.67865868698539766335 -0.45756362490927204867 -0.28874045427805972164 0.35629160803146875391 -0.15422537107656386635;-0.11500883980883107316 0.060014368137645685009 -0.030615370526098639736 0.10548011031008822092 0.46001544667136096134 1.1798804579322452746 -0.44259224749743009131 0.031191869181638513797 -0.87884266871470873017 -0.77111115109661187983;-0.45633691843655638243 0.13664806235945961554 0.49522415807251385367 -0.26540335248692586978 0.42307670635073940657 0.38390834298403780922 0.33501653781947382527 1.2236523431672172713 -0.028687653622222961114 -0.49580350987426541343;-0.73346068141059450607 0.6843619853820184229 0.4518165644675275483 0.08241326829650372221 -0.38038578167469461189 1.0861478152018233523 -0.26914741766539651557 -0.094950729616105122854 -0.66451355802914735538 0.22460772320328684093;1.3981469524369465329 0.6748487997527033988 -0.91178885590372116265 -0.31159898427406695909 -1.1715383051998173869 -0.29696055697418288766 -0.47920452654591932928 -0.88106061796489665294 1.4471061541144811802 -1.3972985667802444443;0.023945307350418248982 0.089963475696791320169 -0.23619227589090630026 0.1998475287358658925 0.2462451774642448743 0.37556732508488327449 0.73799212521290902256 1.1634755471073556787 -0.052779852026270446252 -0.69234384835655815582;-0.30015497410103486597 0.76217672648938461499 -0.76916251219083475732 -0.065286153807665850413 0.16401708146165616675 -0.92883430414978729317 -1.42440389239932097 -0.68266322548852342855 -0.5520746142169915549 -0.21226955928699772769;1.5542514624279142321 0.30271156935492710138 -0.24650119363878525425 -0.48902350370465141882 0.71723510799107093039 -0.2235684972584337793 0.40265037439006939879 -0.59571584296476987053 -0.028119126441830191721 -0.96674766749497442753;0.83228057062496463292 -1.3617085985802381831 -1.0614522980763394511 -0.68569762866985839445 0.14041038239251221742 -0.44764448365598286106 -0.1767548584679368151 0.068643266938190380944 1.4479956911942091224 -1.3981065095071492088;-0.0058036288261777771447 1.0500506272564373855 1.1408808722060803653 -0.62952154460849463202 -0.38734434516316262886 -1.2684635723808055374 -1.6260489164922653504 -0.27616708561058916915 -1.2731814906932141795 0.78088712324718612123];

% Layer 4
b4 = [2.1697970367126240276;2.2107057757356600725;0.30338222884206839103;-0.98083160053609874662;0.84463996114135231341;-1.6436060541866128748;0.33103308317848278985;-1.3145247217079989444;-0.7638449509116338465;-0.61174051991135391937;-0.28465293435129640498;0.34273497346173453781;0.014707241762897898738;-0.046789448505951507229;-0.5551356604452540866;-1.4658083307513445348;1.2969408110135800527;1.7333160479370928186;-2.1194170187783258896;-1.2025656338045485061];
LW4_3 = [0.33120744738281987507 0.032124604437045345406 -0.46720912103581707653 -0.76199101320151274574 -0.42326335240662432691 -0.033141820530032388425 0.26255699141993799062 -0.57283380721985777129 -0.30108701333305415426 0.49219167777637196082;-0.63983136448694943876 0.033891775087681035028 0.1062341204476785067 -0.42959519446187777181 -0.084436799495741760024 1.284033580627243154 1.5928591081465461876 0.29962826430258360233 0.69646473036486278296 0.36878078328689251064;-0.64356538027019594139 -0.64476083960420249586 0.68889958523423433512 1.415356580575573231 0.51157974015106377763 -0.65468269746698293243 -0.24155668798108465012 1.6246149432491268083 0.13805698256394283163 -0.8586745702890757892;0.093451849466560765745 0.69476078357978210409 -0.62280313543909215923 1.7708105345879670001 -1.225896638861500243 0.74773989650225314296 -0.87702463567804644917 -0.23672546368030789044 -0.41098985179696378989 0.080999391103984075269;-1.0875421765806281282 1.3528644797239226527 0.25955248112342255151 -0.79008725332729878854 -0.11288258363405705154 -1.0851258062307880259 0.87817468112335095309 0.62011445062600689671 -0.066446364770743462924 -0.65286249667555551479;0.30047890771857616032 1.5664553260322122696 -1.5462153632115314128 0.52235945819501594656 0.44209666320046586696 -0.99100923081014358207 0.27498880616229237628 -1.0458104972795390086 -0.91384701655768008077 0.20499770060223779233;-2.424725163028717656 0.094931888646544823618 -1.5427574669954591258 0.33251891434161473526 0.46789383747327040197 -1.4028370201574182907 -1.1323788639199905415 -1.3858751276220280246 -0.40005272181128648246 0.10425303387821940881;0.86046206368763467065 0.093772598050096855893 -0.69284701145434601788 0.45588271120590029284 0.4926497449088171332 -1.6389073282374058138 -0.35938940075371711425 -1.067258155846493084 0.49515766283592088648 1.1292551712957896726;1.4132444357504654331 0.57915789126046857138 -0.036279769452246438122 -1.6155447202960651065 0.42368923410332592905 -2.1698719587319770241 0.18425665428174056726 0.45325442711811275709 -0.014471416506522838397 -0.78322670614892486718;0.96476227687068505379 -0.51290538952866204792 1.0215278684546702515 0.19236348914501966156 -0.90937935607935216353 0.47962280107449151156 -0.28122356162527034629 0.78338655108990662423 0.62155416174048339073 -0.061120778513199768012;0.010575748231627525586 -0.38817845104000137102 -0.74652998135632619991 -0.055754795215171154554 0.20474210611011822714 0.15088501003709076098 -0.75440266548544887559 0.94610848212313058969 -0.27922735114460117689 -0.47329222236791773648;1.7423878128977015045 -0.45240059313982516898 -1.0565709341423685785 -0.90608396228746801437 0.037161173396600966079 0.092199704208863975108 0.77153149648180807674 0.49072275287837230362 1.1190821220047999507 1.2938004264596301152;0.3016008948833046599 -1.7197761194294831633 1.2496046929058362007 -0.63584348542107016478 0.77991297099695933159 0.46454712290326105606 -1.3007944929803942902 0.20338403918605402199 0.13137413097915537352 -0.19165383645787703593;1.2252859046274688914 0.090155887429761522034 -1.2948345561965675099 -0.23163344271022723309 -0.34874220050376780744 1.0740448845705701242 -1.3555881673898082518 0.047886771521152379782 2.2014227693886265769 0.80611335312368748163;-0.234126243289787761 -0.58146967139852900885 0.51511500046703073696 -0.55357952918231223549 -0.55641162881290873177 1.4877325113167036985 -1.0483944940153475667 -1.2417663626385726516 1.7822629357206531964 -0.3617435896599291989;-0.019197592511836277657 0.04144160543446458872 0.26020212630266209564 0.38985409933060893861 0.20898696897863758282 0.56618555125755098967 -0.027780306092761167941 0.38416332733840524716 1.8670806864731792629 0.60338621603157915896;1.2849778020145696811 -0.025694106524018305721 -0.29376353984303005262 0.45287648677758168825 -0.59067865607067093769 -0.88333350376480102017 0.69888565007352854153 1.2193168171562025481 0.81706675488881286284 -0.485766558772012913;-0.92338840202356764486 -0.70961213670980205492 0.41149521358987151132 0.3824578466039388891 0.10327331700979422435 -0.02639236813273386148 0.88754499957880217398 -0.34047408194163525375 -0.51824173888389779563 0.43923004999466963572;0.023606622608389402074 -0.85246068755982473686 0.19080333197518151156 -0.26738591359551505677 -1.1229682522172614867 0.62302355867856307192 -0.70195746945570280939 0.64210445768251334098 0.37481051484946703578 0.073250110560664744019;-0.31307881697660877585 0.19480247809367523537 0.77754546003621305417 0.64430424223150206675 -0.078967779232880008777 -0.37021620523261311586 0.0081315424749951181749 1.4178116131797782185 0.88025554175332099138 -0.76434332725243969708];

% Layer 5
b5 = [-0.052604368914546756342;-0.95719902858961358749;0.57514905637248592285;-0.12720663965763751024];
LW5_4 = [0.8194783727222694214 -0.25617784349661487653 -0.28611463299376094227 0.00035831082287306626616 0.57375155996206106401 -0.050961127182088158949 0.012983975329857198877 0.057747070024254255893 0.053536629821806375196 0.017014719130108720002 0.4199115261834761581 0.018075071831793087379 -0.119555080161574942 0.029046201266197058111 0.039549412642298539811 -0.17673392676216689856 -0.57066061214154928383 -0.37429372496851998076 -0.35402862753735447887 0.22286183935290121427;0.88840141390890259299 -0.96259395813519266216 0.075302450556401875903 -0.045326443035935568004 0.33105751005068778658 0.18696511475763444299 0.04372875372471780181 -0.028844774210710168172 -0.057748556377961716979 -0.099536182357584143676 0.083650946749676546865 -0.035908760673723082169 0.52716694157398891196 -0.03921100544489328904 -0.019155810855262460357 -0.25874976460555398905 0.4612974788037737528 0.73666925991334131218 -0.66165161921088744279 0.052098662212703095165;0.23691573053120038028 0.046548649644565801009 -0.1398913025081360284 0.044098927730407661008 -0.86693394633650644465 -0.51407423705619303966 -0.063111699772065502079 0.056268559817357545472 0.035134833029766415757 -0.076400760356768959713 1.3731229614146303053 -0.016979843976266381644 0.13766152450851612543 0.18909091373837388916 0.15923491832002720225 0.075317226048696284124 0.59540441407342414859 0.35145694118840364872 -0.33960609587375673035 0.070504866687290848604;0.0025941724607162763849 0.36676581048066958513 0.13711626660284559343 -0.092948362256365227307 0.24462099632159517437 0.072128851632131840699 -0.025776008813975168077 0.12284480284069261569 0.027366266758846066048 -0.010973606489999246372 -0.35854202995429612644 -0.030146804437117497716 -0.052673472966956229324 -0.086535054933875643624 0.21538747881658409922 0.51652888820598463759 0.17541234736406124961 -1.3919248495309406444 -0.39412061896066591382 -0.23868402610423075649];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0512947217543748;0.041876790299613;0.0662103122594111;0.0503003084276148];
y1_step1.xoffset = [155.319492107924;145.966854132823;151.756872590875;149.168780509199];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
