function [Y,Xf,Af] = nnmove_09(X,~,~)
%NNMOVE_09 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:28:44.
% 
% [Y] = nnmove_09(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.845918270200932;-1.30490266637008;-0.735770118525281;-1.8459585658227;-0.528101821673327;-0.399260196702291;-0.482903155837444;-1.85436538017275;-0.506909444345782;-1.90921670427207;-0.705239758635755;-0.295907880808792];
x1_step1.gain = [1.30953763543212;0.659138484640931;1.30244174592676;0.630893986156085;1.96896808474155;2.96896242792547;2.00892073895926;0.504314799844091;1.99244644521975;0.52529696099827;1.35957720273726;3.52300748966925];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.6041209099430853158;-0.051451833962492463104;1.4925098101699014741;1.1511306253965309931;-0.15476603847626949073;0.029297568517146078959;0.31074629412365412096;-0.3236150096081606975;0.57126108048329837796;0.418052729365443132;0.43840568760155246286;-0.93467494855819710509;0.15233520275949560818;0.16409665125232456018;0.016943375602305091321;-0.68970542956824221204;-2.4132958621315729886;-0.33351479747442608348;2.5863350171490395724;-1.0905971720342544362];
IW1_1 = [-0.20944871123373770549 -0.50229625130084276652 0.17331229252872235036 0.28481531379162389195 -0.0058386522178828868107 0.0031470607203804611476 -0.37341618009378707566 -0.36468187948305419432 -0.67267124851848225653 -0.69147975317305832021 0.30991933268997751139 0.20666139299363561754;0.011433202684896136281 0.0046742901753055220507 -0.062542069449988094143 0.22036730736690773869 0.047873019084957731117 0.05254853230673678377 -0.14987474597918662433 -0.42444448067073042852 -0.24633601781329256264 -0.052196853539688101153 -0.0022487531569916480167 0.054282365530348944405;0.53810262714788026361 1.0161097041929911811 -0.91439964666257811388 -1.7741086763219593436 0.33798564484806564723 0.28528488021481102077 1.6883689277146489705 2.1556975603463692792 1.2105329730851752679 1.1315363443957231482 0.03270868187373339453 -0.13539132602766640323;-0.60277404348682350754 -1.0637115522704019277 0.2830828661049021866 0.97769333360334087502 -0.23103398251847259703 -0.1354744263590948461 -1.220989123778697838 -1.7010666770282738547 -1.275570195573285881 -1.165680394033330014 -0.13986834108398393806 -0.048599540423774754971;0.65741396007538455137 0.82333007204380992405 0.52366543999206816018 1.4298129868127535946 0.58263125973190521556 0.39582497810243433278 -1.6916177264704239658 -1.9498665785093862723 1.2591029301757123982 0.80739767421878905207 -0.30553888667214607056 -0.29984648734202618003;-0.094586901683011273545 -0.070689488975064176945 0.063446317136418850513 -0.20364321395863174691 -0.26067174200398218753 -0.20647835805867412184 0.056533961905057945885 0.38200172345656702166 0.069800452571858725981 -0.1039289875752206771 -0.25222003267504611301 -0.20290723185495582181;-0.10083325984177800294 0.20643386756502229984 0.86739324803370398964 1.23921702614138729 0.24045760772336599587 0.3141762231491909696 -1.0800600605615962024 -1.6815357744045271726 0.014842947762761913091 0.18712559012722052021 -0.32902844536567960043 -0.53157241854252967883;-0.012512050906261028282 -0.63434094034957899666 0.5362539239314180195 1.0152990427895869363 0.13803246703034829923 0.13404266317361110405 -0.40780896858894111201 -1.2671511015014291779 -0.75519288101922388279 -0.84570558434789866453 0.097051369397129841343 -0.14169732375009061465;-0.26758758475500699081 -0.44264640829231710617 0.23959725529699663071 0.45464876878250998216 -0.057328263438910315175 -0.037542893873210782252 -0.48549830489005163514 -0.55921749482561300404 -0.5157397800625383999 -0.53271430636894923083 0.18658680745311018168 0.083929134872691962821;-0.11739266503710010792 -0.21056773854578866856 -0.095797860480496488389 -0.16587252929261653289 -0.11412563205299053326 -0.075498647419021513993 0.25683970908193071159 0.23131238108998292136 -0.29361240555493339777 -0.26483292710080491572 0.046678153759717774807 0.024592994668856865692;1.2315679561243726425 -0.039408790771547075327 -0.78964015219547245561 -4.5490637248900807066 -0.60851325977133929879 -1.4499312097496719343 2.4308303375308479843 4.9116763168831871766 3.1602713158035209418 -0.24948339430300342512 -0.0024898267010719059289 0.20542473913528466745;0.37309156588924174969 -0.32328659636740286754 -0.29439829295013447696 2.3346749852943702308 -2.435008613101547148 -1.0090526632361045412 -2.4058304304358446579 -4.2196838348504925875 -3.5752573509913467831 -0.44883229584174189064 1.8669134768979973593 0.18786507577264890956;0.31620876262822872338 0.59492474813410989309 -0.086403938639590574522 0.12987902852813859589 0.013170818428959649854 0.016112847280203953376 -0.14672149038336174121 -0.3069592821849782549 0.56565223067863257267 0.75135290329173909374 0.007606489657071545743 0.11405417876759467444;0.34942335066310398206 0.31079786262082303994 0.0088436558905628150778 -0.62166616553728992756 0.14278981455536693401 0.084939873551417285902 0.66839154418135615643 0.91469142526607050137 0.90374067727919871196 0.42798062886523269288 -0.17637013181729230271 -0.42996507051610644012;3.0545780688401578118 1.3490153492403731406 0.80413908469610739793 0.11366069908985179659 2.7777341516385725129 1.2350552876455413998 -0.34269278965378979773 0.39750020915797629195 4.4169061939739284739 0.75687472697678914724 -3.1983160649265371944 -0.25513558019791171549;-0.44948728765298362475 -0.96586727558330776056 -0.28096164338241197411 -0.60343465805536622426 -0.1080920864033759754 -0.17939701702158875052 0.3884322581968386312 0.94254742937354163423 -0.91893431951601178831 -1.0882057359006716002 0.13663777123356568577 0.28943347030690141919;0.33638485901214754126 0.4476410889758205558 -0.3337964948068959381 0.16710018796490208604 0.28330078929686758338 0.14825655281374378047 0.40528124107401719556 -0.0090717169155666039365 0.59075875496436702772 0.70768300099570580208 0.039074938427099456528 0.17175422910034801594;0.12112883183204688209 0.19515556175291623453 0.15833331131784625367 0.32883173897480755254 0.061734476903199587972 0.042257517561687413243 -0.4409973191277076765 -0.48363872534742896603 0.23478464284307423715 0.22478208363832161143 -0.1142052795255401737 -0.076305755084555892953;0.76969356194345928124 1.7256374200477948566 0.52989987959165074649 1.6159575653595161793 -0.19184438040759740907 -0.082916205119871785878 -1.5431037244251482043 -1.6760661446493552162 1.5430590960668870704 1.8737823888050459953 -1.1819390212425266995 -0.78669408457721379246;0.088474770747254002923 0.15120818932367754983 -0.13378999065337554564 -0.17263748127291933532 0.10738340264911250266 0.051594633985375337737 0.21436756365109085887 0.36564492640352214137 0.30621063259795350264 0.22352315251739063307 -0.34294812183826151042 -0.11048930487966168723];

% Layer 2
b2 = [-0.29616367729409015519;-4.2235785447649822899;-0.68940148325013983488;0.88436314309733232708;-1.1508273612666628516;1.9343661024849387875;-1.3355402434935996769;0.66539011410087878229;3.935714630161882166;-1.7696091455915601287];
LW2_1 = [-0.19550266222511275549 1.0295968814764695498 -0.25623624210127532441 -0.7372785561186342429 0.046040504473728982582 0.40619244461721421002 -0.29043184435937730026 0.1666785069890808213 -1.393977776218867648 -1.4129945735515043737 0.031464006208438206891 0.020608261926807772135 -1.6123079517838774244 -0.5862179234491395885 -0.015803853033755022733 -0.19033236557142674261 -2.0149854597477863116 -0.94410801379320830051 -0.6147670624370387138 -0.39091355478628059261;-2.8587681562499911436 -4.2888593430505075332 2.0693186928037938799 1.7892669394139963934 0.57431558873228316653 0.93856992662349647549 -0.35627972976357219492 1.7601606359725932016 -1.3269862874055251556 -1.0671886699688299949 0.017136360376550099915 0.10774892288263136775 0.62703532093665592662 -2.4023638123508535003 -0.25959193697426957703 0.91627764264489386381 -1.251281327823728251 3.8533216315119851458 2.0908253103765193082 0.56744110682700954484;-0.64924541659942436311 -2.2775173618895609984 0.11387552633746575448 -1.6816064704385231821 0.49169925047923268568 -0.42062675548897909827 -0.014494718218623844908 0.34309958363855619368 -2.0079750103259392802 0.94534027164051848136 0.029887969258780237164 0.058331405479201813014 -0.98586440510536044179 -1.6911487612644566791 -0.012170753271481638685 0.94050718740758443293 -1.7936769181303040543 2.1320499377672619268 -1.1049309444239525657 -3.946451533146623003;2.9813417802933868117 0.21545206740456573913 -0.79386930392468002537 1.7675177255937508658 -0.5455405150206238396 -0.64631786075887243115 -1.1294884317142321883 -0.3085197874902428361 -0.341413901599762315 -0.38785677218694947221 0.018673798515155184269 -0.030772409161319937143 -2.3093519872809964433 -0.026901677791034361853 -0.016974080576320212804 -2.4472460316417401494 -2.1136385883806347863 4.4117657314335385621 1.0307051297405109835 1.8774767562884990824;-1.394449310599708225 -0.25830776474942124254 -0.26373248108535518597 0.26191848054166910753 0.049675522457640564067 -0.81186631104631401534 0.89708634708277956715 -0.58749003407042688085 -0.07366764807223331879 3.1858683435772974235 -0.087091096434890602485 -0.038571555928935873092 1.1133624160679809201 1.1083926202863039201 0.041161949379239816393 0.75761370683192497122 2.1399538553110244443 0.67534946515480454021 0.21340035022676820398 -0.78232673473789504648;-2.4585946575626014265 -1.7551034874693092203 1.2423509158120074058 -1.8566692555542478882 0.20946469107804188692 0.77858493392680072631 -0.27804551813747546696 1.2437592483933144205 -0.1998454258613164003 -1.6361866647769927052 0.15753607311460887663 0.12712840787867021874 -0.21723590157887012753 -2.2454969456295930108 -0.041919080756532348109 1.198671745070756911 -0.19697920166205493131 0.19211989825192327119 -0.59604698896236618655 1.73939606747633424;-0.75813719024400127999 -0.65218032434415318388 0.21044048701572351523 -0.37430438814826261229 0.067138994566949578013 0.28458431339138640093 0.050064430993087362387 0.2190855895074030335 -0.20917764487617240832 2.299983989969105469 0.017229332883254074027 0.021694511094764439008 0.16744909281818590174 -0.44083081874331109251 -0.0073679876921441539439 0.4969000805916589103 -0.56714996112177751275 1.8689015611459125488 0.21053360473606783088 0.080688098935972119019;-0.72389768238831120328 0.71276591178902892754 -2.229402292426950094 -0.98447627856879349473 0.20941310313912106511 -1.2635977189828204725 0.22963745360420442787 -0.93524299620883888373 -1.6584240091133601869 -1.0662558297806818963 -0.087147951897816863798 -0.015920184566016962885 -1.1154433751215402371 0.8653261691021412183 -0.045708302338051669256 0.16261400032727132969 0.21967351893510692062 -1.697195712319512495 -2.5901317510847756687 -5.4115256465986760759;-3.2122092202054841614 1.7553291933570227545 0.51769765574482262682 0.053232774465217597148 0.32856027168907991909 -0.85899970620921184405 1.3778640227173286625 -0.3097034615426503823 -3.7959794314133490367 2.3697603813008814022 -0.1249226823935631614 -0.098625538681142904673 -1.2434406470206311734 0.58553178242532133435 -0.0017709538999374444673 2.9735884645298336082 3.3141441207875139696 -0.39742619692397884723 -1.0029929395561636429 -1.9924095289831291744;-1.609920319005801792 -0.30857115447408856035 -1.2553284564405788881 1.2534055037206883743 -0.15978515688028682717 -1.0169636506920312069 -1.7447541538410269446 -0.13922732227425077545 -3.4634533206348177004 -2.4904909545766562573 0.021046076560772151304 -0.039174206814312551028 -3.4531692953290598069 -0.59065209283524910955 -0.035980923095942321521 -3.6345096934400551447 -2.7327284499456325761 -2.0165945289603568469 -1.3631893084707262798 -0.22922573165288409602];

% Layer 3
b3 = [-0.23852861728370633454;-0.76490040496519828839;0.34702660409274971309;-0.11121581871721178403;3.2788665068586633211;0.23893265679600772522;0.14388714219239967518;-4.8553016342998267518;0.35778041015807954262;1.4622634038962565306];
LW3_2 = [1.5269168079790693682 -0.50213643576827304837 -1.1953043142705279678 -0.48540123889145142533 -0.90161099068671157752 0.15708810686319010785 -1.4948578352772246003 0.2612657063239738342 1.5742861440979525334 -1.0205490184691041744;4.8165196346484071555 7.6752614023633300988 -2.8492542460574141749 -1.4753732201426188464 -2.0617177676983491352 5.6747985659996222907 5.058282380855334992 1.5960989880687197484 -3.25271891397094981 -0.36368364370156625043;-1.0843726033248846097 -0.37155344725210232015 0.56955142674967595973 1.4041292949397039536 3.6694512199980207079 1.6544070583931209661 -0.98352566865308155286 -0.050337059619934731991 -0.25335913236871088206 0.44888337980914083669;0.13023032913149434897 0.034888355760241351877 0.024423758713987889918 0.031227878821900013906 0.26809697967770845795 0.046448064948429117205 0.18246369724190333872 -0.11576376825112510982 0.31346471275295234582 0.19352898861249712148;3.5421439779780508061 -2.6526409061358346975 -0.36651916833048520106 -0.67163099988523011774 2.3204965982681491354 2.3858233856005237605 0.77842086544119382108 1.3157538044167749192 2.8112727139134192633 -1.6474989033598885779;-1.8884967232084386435 -1.6437250165786325695 -0.25445095656605271062 -0.57852770814720566595 -1.3383240009691106387 -1.2229590670398624574 1.268074322087670236 -0.28250216256844667972 -0.45353253812209975981 -0.55038633316871377055;-0.93424568887223358171 -0.036405869808065600968 0.35835094525320271286 0.0044594826680300087701 1.7719032479503860067 0.47634528068061998685 -0.45000189492708797534 -0.48020392573128084512 -1.7071235926541510342 -0.083406465137975949187;-0.63582376236971871464 0.18551694858335224247 -0.27577290644766816463 0.5039639488980611759 -0.35104323638477968883 0.20755975935714143787 -1.3177815241404651214 -0.42825397848977586612 4.2411138303061743926 -0.42284183347485837512;0.010442023054027180229 -0.0074229724748621443015 -0.095711778649915257855 -0.0067589581495044771808 -0.25472425454832675618 -0.1130615019230148538 0.41834513282728735817 0.096889470322258017254 -0.36327659691406838371 -0.15540199907333085427;-1.5438258863388962805 -0.86214676818743529729 -0.43331819631424556283 -0.48638644587477686265 -0.79081633284954222507 -0.21131565348471822996 1.1886208684956196535 0.4753178756258173987 -1.4993912069205685977 -0.31977331100936290387];

% Layer 4
b4 = [0.14395008184964477871;1.4403047777107647054;-0.21246878081313197439;0.29890410548517765132;3.5061717260620985925;-7.3177582049587828195;-0.45170453773122815067;0.50134138185931831355;-1.7439838979085369175;7.5372721749791651291;2.3926691778947661859;-2.0205443745199702654;-0.92111310375092692038;0.085687838647414402149;-4.8019796641920846625;3.0777496640203922951;-6.0282333412964055341;3.782550739600456513;-3.7189140539880343184;1.3149283034196124209];
LW4_3 = [0.016581773887515631472 0.031619326212488974015 -0.060707046592433110133 -1.2888188275045735498 -0.0050744435825332123019 -0.083264403924930133205 0.016613199381664379289 -0.014649352311037804053 -1.3157239324807596947 0.053712258536359705485;5.6524092846900355624 -4.4930919204190820082 -4.5081354831004496475 -2.175792041837020907 -0.29235124164853659723 -0.69035585383413033966 1.5663229294541856085 1.1454428166271111156 3.3458563228947357793 -4.9025846621658226709;-0.43535307132304762456 -0.42415865449841350099 0.1614690365669169958 -0.19750516606172474621 0.097742912374960258526 -0.15340553617187904778 -0.16206425478940378326 0.12811456230437895387 -0.93729964068889315421 0.27552939791166691785;0.3909424478815699544 0.54891287045323833294 -0.20470917452094453126 1.3195884284193308833 -0.42477710666949658469 -0.78168861408108414324 0.29185792250604808418 0.32059355555686924744 2.4810285540919365666 0.41890886340568345148;1.244089730049826148 4.2065731468562530537 -0.25671101796391915251 1.1042040011803184729 -0.84787021389494465762 -0.29867005878317443024 -1.2337195748624667502 0.34673804561091015053 -0.69640177223624766256 0.28144631222559890471;-1.7160343452638386896 -6.6319900507008986423 -0.14335200864398478515 2.2977558807028048982 1.1427065043337201189 0.86629408570419430546 -1.2489158959933031046 0.049707794718105782761 -1.0778335780976335823 0.26836950030210254825;-0.44779630298567185687 1.8158393937971777365 0.65783254986682904164 0.48817995933455349267 0.60266857499476300664 -0.50432949578796504309 5.4626727065509435022 -1.2715698762761353802 -2.6587331065315162881 0.24569057451557568816;-0.31274670093450007702 0.4214421822198147205 0.25906571220973262371 0.11085310656556700282 0.039729071196834636615 0.22531798272700465091 -0.37491035564989061424 2.36778574594950042 -3.3640633217197102312 4.7532969769617574585;0.92039199214409450622 -2.3773733400959304873 0.29598607321775260992 -1.0073380868480230621 -1.0090972075762159044 2.7601117154398231435 -0.19239097168742555488 -1.4885214683624026222 -2.4246416448787324605 -2.3518911209966057996;-0.84659568745944868695 6.9993220413719932083 -0.58281677128478082128 -0.3080564187218812755 -0.60573288012452741746 1.5951838659803172504 1.902062536827928696 -2.0736139950129923726 -2.4728449890421910773 -1.6918813801746650505;0.41461664117372021288 1.1079043275573610128 -0.24165933256787219818 1.017849161010706327 0.06582132047348042414 -0.14294849365633419125 -0.58016728510837156652 1.3021548697878935208 -2.4419321114141321338 2.3474827585602606739;-3.8121392868289576406 0.048137383883663099893 0.8102000046447769277 1.0355205277523835683 -2.1132183243177573573 -1.0925676780661259802 -1.4265506432041550333 -1.7491038693301885765 -2.3190628964052026895 0.99561431287617385699;0.965316319170882009 0.053966572742380793104 0.5383340283965389883 -1.2696255422850493133 0.10827935529935597825 0.79606890256902340663 -0.39260481001248842547 -0.31946434337164053563 0.0094156191086818483149 -1.6530138941501419936;0.43309361406395796568 0.24984669074340529193 -0.10654925075566429316 1.8776258087911565919 -0.11905826193973596816 -0.035709095221559725153 0.27807446687810294383 -0.15993607442090385096 0.22673395945765309478 0.26206146664581109196;1.0218174547656875273 -3.1961653938775698158 -1.6126353046390351498 5.1484961358210679094 -1.3201885153680019691 -0.78149846760988805894 -6.4186112088195415026 -1.0514576894847875721 -6.3335889686458326509 -1.9219505222184616322;5.0431308750061107915 0.21308066878913145548 1.1283801134007949152 4.0757897210856652848 -1.0848039245784455442 2.3085239012825113925 1.0081279819634405559 -3.0521102490114326855 -1.0742656129499483786 -1.9452759775557986188;1.6702864650118554035 0.69728237688160699115 0.15545988247218728295 2.1135469343094936967 -2.3490122365785621739 0.29403741394625715344 -2.5906386238762677543 -3.9355871227053009775 -3.257357735011176203 -2.4294425790633260576;-2.3319170703270710732 7.1222629144680791313 0.55019529810413081439 0.46246318960077742455 3.5304427525721893133 2.4469769564285099861 -2.0902120401708383923 -1.3113940700419000063 -3.5792853480117150511 -2.5334621541528008493;-4.1098731738862586127 0.37025600249936196917 2.0952091205506171434 -4.6279861726635314056 3.3355633114052807286 2.8458390589940845139 -4.8894539695988719075 2.9671560256710831638 2.3884436278521730124 -1.0686840579774592452;0.57516604726409881199 0.17449793870789254147 -0.17150105570709867076 -4.4945329244523479773 -0.94958678918209826758 1.0599042112080425682 0.24664763603142617066 -1.1325450575444642176 -0.41152976309631666973 -0.73055729363344223959];

% Layer 5
b5 = [-0.62513372937618338909;0.19220065201487049333;-0.17887823723224896555;0.090009470095760851782];
LW5_4 = [0.28292249056567120302 -0.012644600715313144418 0.021298107350977493746 -0.26505494587841055276 -0.036841345694208327277 0.017619398337489607098 0.083958169641038485342 0.074399680697156342357 -0.04434872580600831421 0.025612214249039009367 0.44545288203085536827 0.018776011580240687532 -0.75064164585451831346 0.40300197112585162129 -0.00084483050262414670362 0.013598091308754490375 -0.034029129568137535256 0.0081673660550284597759 -0.0094281187667811083147 0.12219909010296833851;-1.7772730179759408387 0.0060555404275678612058 -0.46923602285979754134 -0.020876998832842774689 -0.05296613592846130536 -0.050600387121586508365 0.13440630009533346967 0.038868795039146308845 -0.028872416515792271446 -0.0067467269212019452193 -0.039494769561505854716 0.012141385870941406866 -0.14577072106320532185 -0.61923355238240684884 -0.015346311209655221636 -0.021426772090941285931 -0.096920303836679641551 -0.0085069130946585115594 -0.00037209379776768344633 0.036627889593421399106;-0.2998558342464180404 -0.019818984574483514138 -1.1578790110376426803 -0.59901207682773149887 0.12058758762725735325 0.12010469872161128047 -0.23417612599327058964 -0.047793483509060596948 -0.08029752405016996053 0.016648961011734131343 0.16558328948004549797 -0.01488690773106132563 -0.28967134174009501191 -0.45092437311407956857 0.033059511179122272329 0.029192336999047132501 0.26898738713511821663 0.020362616176407513646 -0.0220867718751651676 0.18864395074555298515;-1.0539412262304688195 -0.011983280483183519904 0.29720390785441780368 -0.086678901005360145526 0.048810862461110333943 0.051777826573669853694 -0.048233232875431436559 -0.043268676721325685652 -0.0038882336837729632173 0.0072432374947446189969 0.18712112787976059591 0.0036247235664010118636 -0.23089172472422209159 0.95421386226030957545 0.015889999896447262046 0.033152793311806129373 0.26382092298402026742 0.010482744753483643971 -0.010891024981212931236 -0.068793309128219834458];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0372835086655452;0.0385819932481875;0.0372642092768444;0.0378901285281061];
y1_step1.xoffset = [140.666838621166;144.986763517599;144.540423916782;141.245908245125];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
