function [Y,Xf,Af] = nnmove_07(X,~,~)
%NNMOVE_07 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:28:26.
% 
% [Y] = nnmove_07(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.845918270200932;-1.30490266637008;-0.735770118525281;-1.8459585658227;-0.528101821673327;-0.399260196702291;-0.482903155837444;-1.85436538017275;-0.506909444345782;-1.90921670427207;-0.705239758635755;-0.295907880808792];
x1_step1.gain = [1.30953763543212;0.659138484640931;1.32690155168647;0.630893986156085;1.96896808474155;2.96896242792547;2.00892073895926;0.504314799844091;1.99244644521975;0.52529696099827;1.35957720273726;3.53003320431012];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.6668518715270219666;2.8749979005856132197;4.5809458926610844287;1.0848222239749758522;-1.3646222075802891815;0.037757375194447460875;-0.2380856045692469336;0.16103796112695192844;0.063591593210856445229;-0.0045915707577463202305;0.059061117807086532805;0.07363400624672133965;0.031919779524543133442;-0.91441498384398389732;-1.2681237135853160591;0.14785240993393883313;-1.5264599651308941031;-0.034592048496237384758;-2.8188987011272508276;-4.4155536396599064375];
IW1_1 = [0.034722342280995632802 0.1685900991875189936 0.3354247408504165695 0.71511806440969938325 0.069416407906447027965 0.039792543070421765306 -0.91920766971120493327 -0.99308557482881376632 -0.02040644375683013656 0.068346874975310348277 0.1511435578161473281 0.095262903751278313336;0.28453951456697990086 0.5200684767570882272 0.15040059509642123015 0.29961111504682708118 0.10537545974433253082 0.088640942496891902969 -0.42639421097112084613 -0.43018954769784323311 0.74072923294352555068 0.71980217922673273012 -0.23582608151728243207 -0.12857375952481411852;-0.12007548316542018818 0.086344896040965152251 0.23492937083880582883 0.4938672533470296333 -0.85216843017925592019 -0.56491802709008709371 -0.51320550316108182187 -0.55951759284608093559 -0.19165861207429182866 0.079482269629413238032 -0.13032013485518900708 0.03861389169842325414;-0.24471259241267431794 0.31147165831558443205 0.069099073787749584752 -0.34072595347587758541 0.46411404421823798661 0.34532976547102789411 -0.47364375001952446764 -0.18661009870701275593 -0.27116275120010729927 0.34875382016919176387 -0.6699354447922848399 -0.53542822094879727324;-0.14301511278687045747 0.29845829149764224741 -0.080964417313484693395 -0.026276260126716830673 -0.37868221065313251161 -0.28950854479892740301 0.049139772960776748056 -0.35979715156438496493 0.43846402462548689227 0.81039178314736182163 -1.6220639247927417514 -0.96288271098376010393;-0.10510400373946660046 -0.25059654742782788706 -0.3071742432278888324 -0.66359468607148386354 0.030638359872697057407 0.017392823757176118643 0.76434232066362783886 0.84056607763884239048 -0.11949200047557345661 -0.17403389837774990712 -0.14756108910627596664 -0.093413396427642514386;0.41300392103910860131 0.74067816339184833208 -0.085608944692623617501 -0.11221322891329509053 0.17785681844290990306 0.12821273363230190068 0.19259149454449883687 0.16844801442625936816 1.0311877108292049066 0.9795060781441798925 0.11005646602036935067 0.072846388994380784077;0.026293571866959103422 0.046902479400684607413 -0.015204769597114734317 -0.030187502770534328789 -0.016744797825579343237 -0.012131272151563943923 0.041219925979979449293 0.042967840845976539021 0.072494778026690909201 0.06946918727791730197 -0.017593141214908996489 -0.010715241749844646793;-0.041726143954563581218 -0.07526427042028981107 -0.055082476832303536862 -0.10697357169963593593 0.034244405241397900264 0.024419473007282074817 0.15527544182308544718 0.15833839114362893707 -0.11455219771948213503 -0.10910432413893444981 0.034939691822667456877 0.020346619523006523322;-0.34239331349122492654 -0.59827891896697871221 -0.043184329244125185809 -0.15791497588157019094 -0.090101941739846341806 -0.081452509619067012259 0.18818684883365643934 0.21809738817401433386 -0.76493201359153761842 -0.68756716322389155316 -0.036174439942296229833 -0.041410636115737670115;0.10466087801237874966 0.19036447512711071606 0.034784447851739314084 0.10258866084719757417 -0.028361652106899934433 -0.010745795841448590319 -0.13668225867778621696 -0.15011517415657746333 0.2076623420833560163 0.17685127117475213376 0.12874323569005152734 0.087763514773640777245;0.056893530546978356155 0.099086298023234459231 -0.0098092218874917518762 -0.024288812740090592879 0.057339682813637382619 0.040846629981962541411 0.030919674014592796879 0.036985078188382904119 0.15438623153988381698 0.1473664089864143989 0.034668074879312907322 0.018778898198127738639;-0.093060408359201915451 -0.18393757846535027656 -0.028089603693502392112 -0.057867473114168212212 -0.069098130166433596733 -0.047964862039752774459 0.055732519895039904501 0.067736831960148638498 -0.25862150163252550783 -0.2720097265968839384 0.05248515292076100236 0.031819237169435091173;0.097062423839098826983 0.18454566905900104956 0.12214794652631799643 0.24250294521892107324 0.055768936401473706566 0.040762430922609296791 -0.33881489178003820761 -0.35176577416177912117 0.26508278307991273159 0.26043114229948843841 -0.20495849871248120189 -0.11995266748284889868;0.15242159649248721021 0.39721655262878791115 0.05259592567111883582 0.07893679981158285841 0.10002958296286743045 0.076457355753366568196 -0.17581756345606952552 -0.16690474414255876412 0.42054989981312657088 0.46571221910143428824 0.24240784571205281628 0.14306064203905752286;-0.039363982104109858373 -0.073970485125723628439 0.011780469570892260558 0.021736489918788282766 0.057180451501807345871 0.04129327021660519903 -0.033279763847302377966 -0.032149251210110786625 -0.10923136292718393925 -0.10846531449265710279 -0.064963274606285620338 -0.039165747103163901788;0.8756065148646784424 1.1653923748338317345 0.14234397743093588073 0.57030013299173287766 -0.36955181315668333975 -0.41089554189747862223 0.24298411595835558985 0.13726282666385958287 1.9803714401865533112 1.5888992917065709598 -0.38946218328032805589 -0.12319156175539179576;0.02009865349243326535 0.050917989885904554881 0.10866522948941520488 0.21113448640484153151 0.00029094812136839387105 -0.0018519849709126706694 -0.26455191431664659696 -0.27883572436806269845 0.049974412994712141822 0.072808860261904265188 0.039386821618572979975 0.0212724095028947284;0.013372178685686063673 -0.042441075161552981043 -0.17441916352153705172 -1.0888968186802159277 0.9281532514451719118 0.72200750514221978538 -0.42023883077279217124 0.53513023431932493779 0.053740458338232995061 -0.1019616966023235427 0.2316542323648488888 0.099704227877807485858;-0.58687321121377111766 -0.77340411158952737658 -0.14179460621989486979 -0.53263967605589834786 0.16817335971767730096 0.16944145221234421794 0.4218026182237582522 0.69321724963560926724 -1.3102519645586647723 -1.0191017045741321834 -0.30148700869444350348 -0.1223661654773574442];

% Layer 2
b2 = [-0.76864530735922853566;-1.0597335526757389879;1.2624421078343031066;-0.49287963082370950252;0.72865668926352211709;0.15732566050584387285;-0.27459321330118674487;0.15772452874414991109;-0.70835526652854918783;0.8479956540514976826];
LW2_1 = [-0.76122251540601704178 0.015598545572405570978 -0.54785885351863183867 0.20594973409714611989 0.098756723275650118432 -0.0056037265402157305019 0.59646882232165621129 -1.2560128760874529341 0.70967759640988437031 0.99196339614026163289 1.539969813252820785 1.1898238444296320715 -0.61440212633978885659 0.58120845318843405991 -0.85448862278830495232 0.50871451022972147271 0.4480498909459095791 0.52940641345664130046 0.56221868453940881949 -0.33036535255219856566;-0.1975134772597507693 -0.43158900607819677964 -1.0015355262060805508 0.048440601840809179024 0.052280857620650711404 -0.24950048321058274081 -0.181254733798459855 0.52627474106596239256 -1.856861183099151047 0.81138402479543980661 1.0175231959703574525 0.10610558300352058991 0.29451972864174069677 -0.22733498585711484075 -0.73864330364636343607 0.88074392576215798645 0.09869536779301213425 -0.30975090581570807746 -0.84769871090100135103 0.53297123136907409435;-0.87239349384101294582 -1.2816522386287882984 0.79735267694705092012 0.010737742772283644793 0.014181091643985966819 0.22929800638287087255 -0.17259987056770029201 0.18572778999583677839 -0.0097462912696612766239 -0.54199379002630887481 -0.41577198701473838671 0.27864735936282925 -0.42389655653044006067 -0.13559792569088732761 0.35990741150880645183 -1.102727334735237319 0.027422816687026372456 0.55358000603793178218 -0.99764936193500153294 2.1742910509393378327;-0.38961203409667566344 1.8147359527616624408 -0.82916201364058905732 -0.0063700495918941058004 0.0052298956674663088159 -0.3009792679282043415 0.47428927291371597574 0.51618541178534160796 -0.62973650208756115632 0.65481142396445501941 0.28512367317944414813 1.2323396942700339807 0.10059214650540203306 0.26397070853606319218 -0.28627328891467801464 0.58274005831777231368 -0.024858491686154823852 -0.95324023035470484277 0.54141985677364334872 0.55556699901902528715;-0.23496501599583646813 0.068689097269320792405 0.42736321531092652526 -0.011132185011339756561 0.006094858419907035231 -0.24312320273655566027 0.28472738820998205744 -1.7340307650163007125 0.0097475894854330731587 0.10005622539921303626 -0.59995856322985696707 0.2315243699657852372 1.2081751856389597588 0.5901848789096847403 -0.0059814210283511467375 -1.1332122329389673343 -0.036254973094379715215 -0.38195545045099577042 0.027254337684703224681 0.45250226297471396464;0.15783556107317719963 0.18078939740388719204 0.82004855112222363456 -0.015879802085318615174 -0.020039391577497116248 0.054900285106225125975 -0.042693698086048656459 0.24287755177340297763 -0.85548098417988449604 -0.090226928583424903518 -0.036009580503175056543 0.010530055735418725887 0.25519831261758962881 -0.2004897682062958264 0.098509555535212803279 0.18859061554559011786 -0.030805478037718041218 0.40607607412540230873 0.37795250082732345653 0.42929010790344318549;-0.027733366073452135614 0.043602445074780775414 0.27761035079777363066 -0.00065907357270222021155 0.00095626976188040201717 -0.020101165603952943911 0.023973206044085912381 0.83670921728932368122 0.32679690394497434847 0.00080759394652110542186 -0.062979681782266913603 -0.19681493557270376971 0.1569173620953012438 0.064862285085433180054 0.0060102920375253512941 -0.042662506958861284856 -0.0025398807864503280401 0.0042789187965708739766 -0.019116002052552916873 0.057965047780940963384;0.91459572563219548869 0.60448654617828800895 0.39791339743416986874 -0.016787442757432165241 -0.027501399599891344222 0.18153843907957176174 -0.40000560116359518137 0.55679925645859962291 -0.4212252509754153551 -0.59491773200296194091 -0.35889854402704968184 0.2453909888749302437 -0.84728177024409900842 -0.17914634571779661232 0.26851244049291594918 -0.82664304355859119511 -0.028332425939536661635 0.015810692192381833876 0.17699795212364868857 0.1770146827256899591;-0.39235368410202403622 1.7242767463429609087 0.93930145545139176466 -0.026401185630478499894 -0.011010334018812769144 -0.25184171154053824893 0.40316841452853258154 -0.29723704591777344586 -0.15709639485062928954 0.25217979922130601134 -0.39054011147057221542 0.81849702550035785542 0.80283122747289481502 0.47788294499921674108 0.0050293281289177553875 0.52385991915906171545 -0.067886404603081706988 -0.5875734907472679458 0.53709428991411478638 1.6175727128041479386;0.027638050890615478011 0.37381285608133274501 -0.25143027340128965008 -0.0048976255657619104794 0.0020291278042806398449 -0.11290579594459951296 0.093527016723903941275 0.26394172916275959739 -0.91106976192360555888 -0.0064180786467029522779 -0.33050888052430066333 0.098843151583847502217 0.32010952703351525095 0.38936089621966896157 0.0068623185735464534499 0.13115060338659809136 -0.01607097962400013888 -0.17928128616814800744 0.028076318134304292795 0.6344297698870431379];

% Layer 3
b3 = [-0.45818552446216670448;-1.0434166706688934312;1.0183864113795380035;0.15373014337689083764;-1.0281872305207506724;-0.25893985235475636131;-0.29377666553356851509;-0.55235311464797498537;0.58844633695255121886;-0.07668307504206987868];
LW3_2 = [0.059261195735483988833 0.16612194366068719353 -0.54677280974814179704 -0.32896156434093054566 0.46551181475922132069 -0.13581291134127426723 -0.29926383540226619839 0.50962011581490795908 0.14362630366685563699 0.58169786240848553316;0.46499024102751523868 0.63548696152214934063 -0.28875307889813156548 -0.028524735778588074936 3.3449945113383194872 0.81361167866175021501 -0.88370955102722037466 1.8850219018609482013 -0.15925388602792237003 -0.49423268869783643087;-0.037194038383302707729 -0.57194661877736363564 -0.2590039146572663542 0.24274944320341312887 -0.20316586405760114764 -0.84104463641233773163 -0.90959320201956694874 -0.2396003090607894126 0.34713282753529423053 0.38215731082584486478;-0.22098393623360920723 -0.88956889524996851648 -1.7287894931967697776 1.1486797611572232558 0.19820375789409758194 -0.97412450651434956406 -1.9729047267561328205 1.0955682919569296185 -1.4296006272770511725 1.1304794322575377752;-0.012163814800527599294 -0.2307065810719145238 -1.4386862734522130047 -0.59311410083753923761 0.69712640100338374438 -1.5857130758787236768 0.11427852946568838044 0.88233754340650738524 0.32496502182470765607 -0.88653651348917772435;0.051063984080124337483 0.26453223674054476833 1.176731855196969212 -0.6679645284492127244 -0.80637551526189610307 0.67105811226276645964 -0.67397775906432721982 -1.4144536120220769781 0.47865885616747066988 0.26539639670489234557;0.05353474026962379978 -0.031009050429294422735 -0.32776538969068202967 0.73355891364344105732 0.82820588374003234478 -0.68042530208282292481 -0.82529337531683688578 1.0095909939901055452 -0.92309689432569441703 0.58474701566522779839;0.033651842893762620723 0.34813067330355529361 1.5593610366379020427 -0.30367442954957146739 -0.73955969078813132978 1.6947802275608512268 -1.2481566127935748156 -1.4320116342218218719 0.39873694878803450647 0.031415924344932899537;0.075600508161261001372 0.32760644426485019398 0.38137034340183290082 -0.73618422224708568447 -0.36427030316189751291 -0.57254735731541184229 -1.1039423076526109213 -0.18671747198524132894 1.0169347848774783483 -0.27419154949258034426;0.0047772602809905773472 -0.010307134527228280912 -0.21874392804509659727 -0.051078758584265158971 -0.12850385070044062497 -0.34491674100558433746 1.189347990829765056 0.20273261714175830339 0.12527296608797461319 0.10981636958462921705];

% Layer 4
b4 = [1.8787906688373885444;1.9514522766085578009;1.1647617190274288657;-1.1565861147921272511;-0.86036115275275071301;0.29000546553203182532;1.1506687252546694555;0.53710685354619791543;0.40076910166281365377;0.13570809333716749023;0.036591916323593050298;0.011988652980899136904;0.32074914676858146123;-0.61638611160761547225;0.55489530829954003543;1.1551579535497575879;-0.88083002342404903562;0.9034367976102160025;1.3690841694485735847;0.90083287272599954498];
LW4_3 = [-1.5899741987158297896 1.5557096999955730698 -0.2233889483519892194 -0.81055826845043243978 0.23421148129364194324 -0.52304908735005317677 -0.45275373367208732178 1.2734379601773939683 -1.6351017149367008674 0.74413002519312054783;-0.64966085304468212946 -0.88974167912240531564 1.2359254123366745226 -0.089639272782754381153 0.17206307985056207288 0.75487359248259888744 -0.44799042776303960034 -0.82497460491248841841 -0.58271636349248145947 0.54236239433203670135;-0.046812677530805722748 0.26471953616684024135 -0.12824734003552976103 0.18346601776407903128 1.2526357625947606156 0.059620263816846486016 -0.90180328397522713235 -0.71439328583619754465 -0.10825119199347141286 -0.99671969155358264292;0.34622138053118495238 0.6076591124927808174 0.042968404558775957769 0.43997000430450811104 -1.7412047909761789732 -0.86447226301500568191 0.047088594475158673802 1.3113718504616065363 0.092553580473153068686 1.4270328363969531082;1.1521279773171047012 0.68559008012091271489 -0.32977693641039218519 0.0096015890609677228412 1.1638778402749343499 -0.6087430165744528443 -1.1662518066246687631 0.13571765213426550956 -0.27733783205991785481 0.026443024415350426665;-0.42363698322242226979 1.4459422415611362656 1.6382953660945640539 0.42301809523985878236 0.70325613393256658501 -0.47464399278935065496 0.79785655429656288096 -0.020910817156480708545 0.89624846164540694637 0.01147657717410793636;-0.67303896503717064448 0.90943656473809175722 -0.63473771175592108573 -0.26160070306004756802 0.4360140898564405787 -1.2643590683853804801 0.067011571140571213334 0.4631890179296270782 -0.29782847295595887838 -0.0092717611985819459175;0.60253092296679422457 -0.18607225585149753111 -0.060630421411730112125 -0.31526018848209869105 -0.07279910370903729111 -0.40083521726227611115 0.024354757904334153884 0.79205569699365308001 -0.6560831261141722992 2.161195111618124276;-0.15047365436525667048 0.39900088359752305944 -0.37460363912476679626 -1.1754347962984286191 -0.78396512032887788468 0.33410553625318395454 -0.65454310998282660972 -1.3144712608177584467 0.17286599189530760246 1.1927017598076041782;-0.52316247509739444155 0.71932191210909068868 -0.54647290500378975509 1.0211029622816654161 0.72553784236506457805 0.65137821750555324751 -0.013489523361377016644 -0.20143146001957021318 -0.8669864723877456214 -1.0581144517673768402;-1.2640050315995219332 0.2261142632881971426 0.73974875309372256638 0.27369682524467203732 -0.46087637932187119905 -0.1357890679669998546 1.2803660053848586742 0.81301314013329850638 -1.2011333455375998724 -0.18429156103235300179;-1.5362629299425893947 0.77264681767344578489 -0.43678407056224605176 -0.086424560791623181166 0.20442451556658175482 1.4374343949899539563 0.89111219091202487075 -1.7648829334961622095 -0.18828184308957859883 0.11726780053497806722;0.98982192278740233071 -0.39333151614206046665 -0.43577657232512084784 -0.47974404274500126455 -0.44769208951542482922 -1.4829315214841138904 0.36334932823903431931 0.83638674434802651181 0.89065700377782242025 -0.712051884826908843;-0.94516833959894230865 -0.17441232775938106392 -0.94493417012462621596 -1.2317322663930072579 -0.03854396629422394277 0.014585335234256860057 -1.0453617983166034744 -1.4287275551713276567 -0.7077674062267043098 -2.5025981486838233536;0.74835589656032119876 0.039409977459582003212 -0.27202030716734998395 -0.13203918433903732987 0.084446113596829158743 0.86328281138937723593 0.03846860251130240077 -0.91286848962994704415 -1.0993666848815648596 -1.9045629479197483391;1.1779811354386633404 -0.57239856765753838186 0.33583916911527078586 -0.86738892722697014115 0.56686144074716604546 -0.23933755282149651866 0.80454660101126063143 0.75712146651728517988 0.83590341855544958438 -0.97860861559659062525;-1.382299140516402236 0.83185733225033142713 0.83232338695335739143 0.30172174564482046044 0.42455747486365430499 0.2944558434459388363 -0.37839668011660121394 1.3274378236452857305 -1.2959311545809724109 0.56615023648667273104;0.52209841893822916958 -1.5540825016875989828 1.0951154053853666692 0.027969477936495838744 0.67116231597446296409 -0.14016433437894249003 0.67642216890231754434 -0.90450028176299279714 -1.0857301679748381229 0.97530552813644144639;0.34697070402084373431 -0.77786276032541645797 0.44303083728134901031 1.3581708739383466789 0.059252741422400993787 -1.0998025388182670614 -0.2016856667568018846 -1.0857729365486297191 0.36321044063124663381 -0.6357212359971095017;1.4980390060355353032 0.22808320939534915128 0.1258870421605568779 0.43039699153336147264 -0.16314199771893131419 0.93997310893052143932 -0.74531904198749587831 -0.13715877552050192989 -0.85644628005709200202 0.19397600137103063189];

% Layer 5
b5 = [0.032555667499048902835;1.0276262439152716865;0.16446127036051438886;-0.66676203547503476443];
LW5_4 = [0.36638301788570382111 0.23901893746437360977 -0.66991448216706639407 0.055751358951632905281 0.16042467452017677987 -0.26676938747598294421 0.94476595184538059158 0.55381203756956576267 -0.15591259463159432008 0.042313226762117545077 0.81094354198031504133 0.13715546875194653542 0.020982690994158243597 0.060594317755069244946 1.5829375654033459586 -0.25860917372013175752 0.29288372213347779738 0.38102387629210399123 -0.081641687889413699919 -1.5116057281806971613;-0.05682222165327647373 0.62817857361591888932 -1.5900050965638847789 0.7944741902120175947 1.0798960478535957197 -0.37479354370841816424 -0.15674841440764283873 0.474726156347420436 0.15965424972250075175 0.33435511072373724772 -0.61079691794663970583 0.26588718797851057518 0.33929172128164292177 -0.014669113064229341581 0.69293967269706324696 -0.29514991793703504452 -0.27064177193635002849 -0.061581927140264496046 0.32148361548789816666 2.0299507802370260201;0.39684241025518868229 -0.46395131004911571715 1.3211687628373471881 -0.78729177911360315179 0.63268644734764667437 -0.24012545350326958138 0.45609191883790761723 0.34966392396316275937 0.02062182338326211048 0.098476767401287537695 -0.21277148819829147519 0.28021884030713761771 0.17952115916725375211 0.0036600736756949264587 1.2575981350399205727 0.3652337455976863434 0.33112477446262061909 -0.22246125756800849693 0.21637218383820877587 0.29247285702387032513;0.078549950247223013222 1.2352240986154898739 -0.75029968953358250339 -0.00502796275961611 -0.62305486834409573582 -0.62678841927035344739 0.44690618856262542824 2.9794014489437192772 0.11506126110375010374 0.0092201070092317888999 -0.35587305707992522574 0.79017084732825149107 -1.2356292832302009366 0.058343618623361542808 -0.60619213105231972705 -0.54517683037613540176 -0.33152204251270855906 0.83400297985227878073 -0.88320641386064924205 -0.23566009419219263732];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0397039958504373;0.0385819932481875;0.037584147972581;0.0416989841712608];
y1_step1.xoffset = [143.937094917083;144.986763517599;144.540423916782;141.245908245125];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
