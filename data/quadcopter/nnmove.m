function [Y,Xf,Af] = nnmove(X,~,~)
%NNMOVE neural network simulation function.
%
% Auto-generated by MATLAB, 26-Mar-2021 01:13:16.
% 
% [Y] = nnmove(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.993038403280688;-1.81760515105899;-1.02545540245519;-1.86075458215383;-0.689523984622438;-0.573312159665453;-0.521205066670986;-2.38682908804556;-0.523575671856298;-2.39918429312345;-0.783744323097737;-0.305885313846485];
x1_step1.gain = [1.04168646816237;0.530666158693792;1.00731909963585;0.498699505122287;1.68292374691743;2.13772079590837;1.91455764414949;0.421291518289733;1.91015079972904;0.417853823638614;1.26673726624248;3.28709533758663];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.0423680752150770168;-1.4531278000052161303;-1.1998372138603563553;-1.6410612948889296003;-0.80757776960078286876;-0.3506451398341529635;-0.39924391085095939369;-0.33547409221437224369;-0.053753708836364530455;-0.0099980202395320866976;-0.09190049694498324262;-0.5442589086805512677;-0.058770094570270020595;0.4128602794531664455;1.2158123447465698508;0.8943007224763670493;1.2298697446425377322;-1.1575360017671927348;-1.2823730915525093366;-1.4622302987284103715];
IW1_1 = [0.10867614878561666913 0.19466710858935284967 -0.034425652645494207726 -0.06392545143716929501 0.2294332897754254863 0.19618101651029848376 0.075025949971271196914 0.087531482194233650729 0.24633665794245251934 0.28741626842753092985 -0.024303540600612860006 -0.01458844745011752056;-0.19512814406528614097 -0.078241360908201829094 -0.014064996850175877363 0.087047582741932805206 0.092176528044737304768 -0.13299937756834115388 -0.20700440116674392876 -0.30225557161469257528 -0.46722444846844213284 -0.39657918794820856689 -0.37495749650996995639 -0.14674119350130485073;0.050178873319213744553 0.088296013268487738568 0.064632822003799314525 0.11957789443828370501 0.011631006576520429643 0.0099374034632872358663 -0.14154286334257312752 -0.16441975905747235887 0.11377867314759680661 0.13178392525239435162 0.22513148146284020501 0.13469231551976587613;-0.3114262441898594802 0.018582134973423657803 -0.02000036792901279184 0.041287010739027324435 0.38811808542083370277 0.20688711385736877069 -0.083639210138240840942 -0.20435071387849151892 -0.7475432729279409827 -0.50639543236683626226 -0.67352922687996119588 -0.3384042787749008685;-0.031663434869272311101 -0.058044929007513297592 0.041749596266468194661 0.077116417541923415468 0.077006790670397257115 0.066416705374846604637 -0.091008282100661988534 -0.10553070567905051269 -0.071387367396305856371 -0.084322461805311166305 -0.078411172699731981894 -0.047038557043914838718;-0.019721754156329658614 -0.03559783933695306879 -0.040777336709408917859 -0.075799941995681616169 -0.040387958643636458211 -0.034453712619538591488 0.089209835286842134594 0.10398533583371542821 -0.044765163805108490469 -0.052382552777570187685 -0.0240302791912214396 -0.014370889322357076334;0.28906294123274078878 0.57393173934333596709 0.16046980280113171125 0.32574754208578693415 -0.06882931052348643941 -0.095755259701354900059 -0.37825725638940504991 -0.44760051155592989192 0.62874393602642242307 0.78753362567675300188 -0.18375407391224263254 -0.092452773998242435138;0.24008570527232686587 -0.10169376705098791269 0.91293228090228495386 0.30797000817888853241 -0.68626148287725130537 0.28102020760363516372 -0.664697425081361426 -0.6620642232784901271 0.32434169083209768436 -0.33055717836235415374 0.30843988144091871728 -0.23330804655865239328;0.0064000690695860031759 0.011521759463147734914 0.031107646224830753923 0.05754623756422605485 -0.038892581497062261864 -0.03321361439916122732 -0.067844833156146325259 -0.078919694152207495175 0.014452587612875180539 0.016939980866064116571 -0.015561805651288753566 -0.0093158121323180936857;-0.012952944837915720405 -0.023573683965501225634 0.014354497557719052281 0.026409304456006050393 -0.022458521703075450676 -0.019040508430803945727 -0.031207107739720421624 -0.036157079498791933059 -0.029319118030696311727 -0.034474696920600435279 0.0723094435021620352 0.043168338133368434895;-0.035749449793602214309 -0.064643314142145413825 0.0042895924105092750681 0.0080678301503534551736 -0.01812916088013415139 -0.01553546231989466099 -0.0095163166111511630213 -0.011094111247702147238 -0.080775702347439026774 -0.094832787010755328905 0.021075771735772273058 0.0125929794590091855;0.013385439076014683107 -0.027957828974730522531 0.041993632084321580455 -0.040093387617559018976 -0.64811531279573642017 -0.50164058718391457692 0.04232291314416915945 0.02727801179807795226 0.12579258724574773898 -0.064871879190346731781 -0.49155601812163346453 -0.3642993259022465069;-0.027468559928910542267 -0.049210437226547755485 0.0036463375349798268603 0.0066205143762967004831 0.038332453607016814257 0.032801890755251306153 -0.0078162161215564567029 -0.0090702514225772922635 -0.062344567557260942292 -0.072713659870742089475 -0.038150342700320895306 -0.022783310660078864157;0.10251097670240587323 0.23162112111052124419 0.15711239327536793975 0.30463645534942357385 0.15797704035913370801 0.13009372564116758464 -0.34340873877775041079 -0.41255126608317471693 0.22701624540590661927 0.30187307117158590497 0.057845508227434734583 0.037685434873545399503;0.36638059690651048061 0.47255485702043376062 -0.41161721007637619429 0.010797274396017656969 -0.35904915132315085025 0.52408063741413823955 0.59809085833699204837 -0.48829301554920667705 0.047019614335537841809 0.54543209672952863709 0.53135893829846125858 -0.21755703936675946375;0.13836858639613275335 -0.14738555979563996989 0.22039944829697766249 0.45062465089131864548 0.16870884566179245034 0.36388084473950393916 -0.34949005072317512743 -0.37805344250687650254 0.42397755361626460191 0.2148779184486750149 0.33609673981432824919 0.065801478364347840144;0.01453027533825651009 -0.045040430066914695362 -0.16567544376714990473 -0.34183571504283954967 0.057985328856858933677 0.10564008960589206521 0.40897041485829060958 0.49730646243722992361 0.034782056595102563146 0.010054240833609218858 0.13818353948854303348 0.064453621361520732624;-0.45018334210610500001 -0.10221825665898716384 -0.46303332540069003231 0.10578810018491552336 -0.5693966360623138323 -0.46451663297702022737 0.28620365125844926535 -0.027450326932510833028 -0.777241945972962478 -0.41589246425406473096 -0.078861613893527429675 -0.21481855237037073003;0.17110098219084088345 0.25766015986231827206 -0.17318863196270595228 -0.33342750846599084058 -0.080547603136567808013 -0.061864906578362861833 0.37740524208700221287 0.45318048792904314093 0.38817527037735410911 0.42333375778475451634 -0.020379673122997356283 -0.016039616218595158931;-0.03754031765371424606 -0.0616790361895237782 0.11004196256310282143 0.20519921319503237056 -0.26359206583855637751 -0.22667313150835413649 -0.24030687079804768924 -0.28142891176171880296 -0.085991248800054861934 -0.096416065250142929388 0.27789384422979374056 0.16656388355153900482];

% Layer 2
b2 = [-1.5451814737796814025;0.49664100531631277802;1.199913324486219901;0.13300418904075927973;-0.084075931084518482073;-0.080061844408887625213;-0.28473813916088408504;-0.57449384056787167196;1.313632661515911737;1.8145721997739485687];
LW2_1 = [-0.31498103121986981145 -0.023906169580432089228 0.2442189034889288568 0.010573313401302074019 -0.91522135730596587688 0.030647822981216942678 -0.0026585311852518854481 0.00046439023077193705919 -0.048091532277932523554 0.71596489960399967156 -0.21038401445671836565 -0.0045941288154717147343 -0.5445417378056837121 -0.050684324604321991103 0.00023735819968209969895 -0.0012575161663632994109 -0.062440988530283438041 0.00033061856715158835941 -0.014214374374524992722 0.11357762549183562928;-0.070356504800473049221 0.010267297459354954997 -0.09840403736819934577 -0.0032756414783242206526 -0.030585735680617245902 -0.23459459562683057654 -0.002450378929129554996 -0.00021976479765993054403 -0.30398556223894435124 0.2339545706392670843 0.67211476114068779975 0.00097358940219898209168 0.67220404957672974522 -0.011467985949037124913 -7.0385727872320411037e-05 0.0012237910047493078328 0.027973505187158381746 -0.00042233844006159672151 -0.020935029821903382991 -0.010073660799778408337;-0.71373910630809433986 -0.097950309483826714096 0.34695428813333417661 0.043950576877944694254 -0.51339296290902769471 0.33207756022581341737 0.018276675094336707755 0.0020133221932977138878 0.26226727424192708416 0.60091250060144463241 0.39379832896511179907 -0.010467910533592575048 0.45277476838864016973 0.061579409236673897377 0.00059559873101096088253 -0.0074316898476433600196 -0.25174646470712830348 0.0029668201844220551053 0.10532839809803774822 0.093130388372888645021;0.041924152366401179481 0.0005516864494904179933 -0.044499306624405973731 0.0010935306581471356414 -0.12117036459022716144 0.45343090951810011147 -0.0010605587872065135903 1.6336536060991495409e-05 -0.69420681121950933434 0.040287251971497170522 -0.28001777421978407689 -0.00018864740384229585174 -0.29947805991689047111 0.0061076538571963739921 -1.642250168857628149e-05 0.0010958466777911005183 0.00015271202614520546425 -0.00028689885856045179444 0.0037976785093608092514 -0.014628440066748342463;0.031631641591208604913 -0.021754015769752117759 0.14975383192014959932 0.010012866729114468928 0.011629393979843522314 -0.40623938183745195163 0.0053872344459458673324 0.00041170390027529216604 -0.55153929909129628673 0.37390210145994234869 -0.19938667563552045503 -0.0017904328476011351166 0.5337766383966853212 0.01509404144563018281 0.00013382145729944571171 -0.0021008399756852419796 -0.053467823005142058046 0.00083494146447103559459 0.02522823735683736926 -0.0059779902187171735789;0.028581656262804948365 -0.075753801806703671695 0.20753996558258039351 0.033989036317012902289 -0.45380655408510156557 -0.26892519060378383688 0.0073695650603367336695 0.0016353228077445954199 0.18266812557174097464 -0.22953570421879262997 -0.94693870126749357663 -0.010395038179963237562 0.092016582555534506827 0.012776873327381902193 0.000483586775321714641 -0.0037269868626048857987 -0.20596918844985331876 0.0015721431102894976081 0.063683233268538072536 -0.022200468141129057337;1.2515306771778298423 -0.0091786666881308754534 0.11475291657218006369 0.033100346850852030434 -0.10849777979339889078 0.31525691924783239006 0.067777442144224139819 -0.00051387821581696765168 -1.034601628811764984 0.84601337636197726511 0.20637058524383178337 0.014285823520970235279 0.52040473384402696766 0.18392773111888788273 -0.00026304338634493452812 -0.01437992550654574285 0.19036648726349350569 0.0048798322714566294903 0.11934543588236745659 -0.011814510324440455694;-0.51079899811337436955 0.0042697115138987072613 -0.43897167399248426811 0.00071715746108832936073 0.17056879171858707611 0.66640060978060344787 -0.00017455542729313038778 -3.0184460920207814577e-05 0.25752911161211045066 -0.48795326468173683132 0.00052539459388413261784 0.0016157997276441673704 0.58670808725553902363 0.048827770599628957104 -5.138208896148894957e-05 0.0034288686595957173012 -0.0032570777265125134929 -0.00069929275757614874423 0.061398606333304912852 -0.11834443453174588179;-0.22435114057139624033 -0.20412062176008380354 0.70833269594175318762 0.074435187466992902561 0.064331754770999741155 -0.055022849558217651333 0.03127067554198233873 0.0040793353309433984591 -0.10052871079499317575 -0.78635847608986664259 0.021162047085339221603 -0.024008652409516814674 0.26137933593215650907 -0.00017632155791514388804 0.0014242243447183736138 -0.024350525488682706748 -0.53066994742482487268 0.0079142547599092925165 0.12373308995412216071 0.0038234907473434385713;-0.11613129366063877634 0.042908603422520251447 -0.06942293861391184151 0.13674613291009563021 0.26681630660110600139 0.20347314670879806942 0.15288611398157322951 -0.0039437911496109428686 0.50115588620725848301 0.66745464132972120996 0.16567713061702749044 0.038932563928837940481 0.45433241528113404994 0.00026133463683252329502 -0.00073937188952276930529 0.0017875226383813856701 0.67112442598564303609 0.0053496126373117494981 -0.24812563819731550674 0.55761888193029474081];

% Layer 3
b3 = [-1.3475862729483945035;1.591635903471834812;-0.23175192636894934028;0.53210737374553085388;0.64597549589225655708;-0.2596390025952501901;0.55606575509283828751;1.5726255053235589365;-1.6964802417408819668;1.5782699681202507769];
LW3_2 = [0.0081687304458099106036 0.42503782018709584944 0.29010760574027510961 -0.015524867750982239423 1.2747607144608874563 -0.67619417583860941257 -0.12511912505029479381 0.2981507403805783718 -0.035033660797783951202 0.11944785886599822156;0.46744741316984994572 0.33840452247806063202 0.83621160611750566805 -0.7598189425395597274 1.2260280718353320228 0.60487901654531561757 -0.41974259639580430159 0.33547466357883093391 -0.7002397037427939841 -0.49841722406034855153;0.24249265516197965331 -0.61868772008189998335 -0.17769453249621255941 0.031812507132056626336 0.95360890565215394865 -0.0025565889788324771409 0.0050562726194058431328 -0.57240269459933157403 -0.055166810459954584989 0.038030450574518336049;-0.29865865896781584876 1.2220018889737829237 0.15669892156087195101 0.094051109366851709526 0.61599218263095145698 0.52269155244810228123 -0.31377272389415128417 1.0243459209366845286 -0.18308608650279387109 -0.081437465689243759837;-0.18825708431501742002 -0.078716332934698762802 -0.025391607215118502938 -1.119657523541450983 0.12503300874498105011 0.50582849601316071109 0.078945924676558976163 0.67421668512444665744 -0.21512576051115842035 -0.27966845533945411395;0.37274711755993983342 0.98089824851004436823 0.075392936704490098876 -0.55063513863700708217 -0.38426517844945828895 -0.064502652021000528304 0.23566324881242739497 -0.38097213976246574463 0.030508125179532753768 -0.070250074035378848314;1.0228682121194860866 0.37275524809579707597 -0.25157529319083044017 1.1689654420129669266 -0.16623842363230009744 -0.23191712783954804289 0.78648861481898146852 0.095738276540578468032 0.05177344162305362596 -0.60722807191380923086;1.1669375138114557178 -0.63610487760570710858 -0.83475289759015502966 -1.3194795938802554858 -1.4680339320042432583 -0.54301739459395459431 1.4486938358930032678 -0.92363295264320421918 0.37617333268862640505 -0.13870533130345516493;-0.88483703917879841239 0.26888037207887316438 -1.0320875458853990825 0.10331991635034398769 0.16784136231653681848 0.14700010432624269208 0.51163971026039622991 -0.6116373614779683221 0.38666474214512869256 0.10927126690606710213;0.88116920328540149221 -0.47908688053301001775 0.0016325725618668649863 -0.27083566113564760958 -0.88542716322580827804 0.1933094001756271163 0.49489799156941194358 -0.022491281536776524391 -0.05700391368292535843 -0.23761023395863270502];

% Layer 4
b4 = [-1.9191226855144918328;1.9595722834663615863;-1.581976993625835215;-0.96796575356887870623;0.83996656528510960094;0.61034567770221570537;0.47704839006170918214;0.61482591514117945763;0.051326699883827889281;-0.12636549334309668535;0.30376879528870370795;0.15069883866987415777;-0.37335464058831779877;0.21188200155085812337;-0.7564132647306203161;-0.99032440982759373238;1.1412907973285539853;-1.0564886996717059997;-1.5985903712545970201;-2.0166188490439331815];
LW4_3 = [0.63290304908940386852 -1.0218020493882167266 -0.75755511103429651332 -0.46736764513387563102 -0.25310285128890092077 -0.10437704432202635219 0.23115229235069301161 -0.86196977450955025724 -0.406874535094683909 -0.60922252250302033616;-0.33919622949936617529 0.21774151490636231565 0.38255486841006997034 0.23115778436151823705 -0.3016807261849270283 0.18147436923774534767 -1.0937020149874285835 -0.47340628089688086 -0.50227494735444189189 0.62327048817016794668;0.44999730793046199828 0.67836443509860377965 1.0854041611673361789 -0.23103637691027417711 -0.39660969032114967714 0.43623103413889086077 -1.0931162123733892955 0.54596122660774504265 0.33962611655614943773 -0.86965172627840858777;-0.21757531554908476901 0.078321270727238795351 -0.052882299449915515233 0.46604860202421188875 -1.503552505972526987 -0.66860836797569289658 1.2355970084923599828 -1.117611744923804995 0.12212936854564566957 0.2541926753342340084;0.010685400604550596496 -0.48336252094387888167 0.21111844712413477265 0.75009605208292462475 -0.58494665013280644494 0.2872239496721522567 1.0826609627978702743 -0.61924445311331433039 -0.019112741890910230069 0.86159052218988008143;0.11513245159052933053 -0.43614722889685197948 -1.0061450899099000367 -0.068419704823173749242 -0.75585262685492005108 0.78450197401274734954 0.76115484566341806705 0.57216131797049829544 -0.78939888976597516468 -0.46633037101620283815;-0.67658007910643702676 -0.85066151919098542677 1.2695758543967652354 0.62755435603978881876 -0.84961180627984012048 -1.424890805639210889 -0.49269868834275321046 -0.25987609755451746008 -0.65165189649931209992 0.43520907667139652197;-0.37355012603889387046 0.29310431342636944496 0.74037030100467049465 -0.019312897409777693425 0.4883193402611900602 -0.78832661494596156793 0.055290632035131487276 -0.63090166810966086253 0.48713672278432912366 -0.52191212822210586442;0.55618917910313858677 -0.34036311140698982669 -0.031022412192233412426 0.45641168633613687922 -0.53932152326653293173 -0.73502643477644225012 0.16478041213134458909 -0.40672778297681655424 0.76552758146668331563 -0.20949650392388607933;-0.42702893409038955586 0.33189893136986281519 0.46902289476418407288 -0.42886526443905942374 0.06042302252387141831 -0.91887218656651148407 -0.8780955190418581191 0.53533677337305940469 0.44183047598199270967 0.81975711377092941312;0.77630387920069121588 -0.40318117218849752748 -0.6999170810498520634 -0.91189232465132308292 -0.90653501707736683368 -0.50482914364123021578 0.66536309244736258073 0.37819644752817449529 -0.38969149633277000433 -1.0309962739616804761;0.64811457214821988071 -0.46278902260591797679 -0.82796038886190226336 0.51821938479854234849 0.88135960887604214431 -0.49420676017016756942 0.43639973792380670758 0.66640249183225397367 0.063590232560519335814 -1.1274917665370993713;-0.57491914057045601094 -0.76767604555173274417 -0.63768444976266969171 0.7876291388566076801 0.14796197704344629664 0.51626586789170492153 -0.39131379367886887088 -0.84251029266175714305 0.098304140383034144257 -0.17347555458745583801;-0.056661448200200144332 0.35810574076562567969 -0.8234464298246519931 0.34028722121968707492 -1.5612617158901580527 -0.72161415162945363733 0.21024035813678682016 -0.67100436486345038656 0.27527741244790232544 -0.060620484282370531992;-0.80748089788412857892 0.82162115807311808524 0.86735234760072976723 0.9744496076178170707 -0.45312786923432180064 1.1246521144982304374 0.29835007617611858377 -0.1019317763838318569 0.8771719806494486793 0.46585758793384163257;-0.9820782451623234488 0.80942475082032105949 0.58449726073673058391 -0.019456397317150216086 -0.44354193583314982519 -0.29904932991598276448 0.2302185388019236667 -0.46302709060884844616 1.140738735273967297 1.3103945163667716223;0.42350647562968313231 0.66078274834573136332 -0.70425805360320259396 -0.071757236620199504884 0.38930384941571327673 -0.28031686338719613572 0.030291117681869490774 -0.3771971773944032269 -1.1568613465812931373 0.72626147453017264599;-0.40510549191368844246 0.4136839011546180056 -1.0128441985033815875 0.57949845829568269462 -0.14003848659530723775 0.87069436040287628842 -0.43425053506739064169 -0.21479471036731623279 0.79733447690421921372 0.4703815946534236625;-0.2730516624073138221 -0.050035124021368289349 0.67942040439035855659 -0.059162533077704186624 0.74390897954183099472 -1.2002580009072647549 0.1297007433538902299 0.42350930084532240061 1.2454208087975009445 -0.14517545821679761486;-0.8641271236509933118 0.43047248088948392164 -1.2736380504251656465 -0.49320752681221430302 -0.087631494983130178711 -0.93245804663426690162 -0.012694716157426368802 0.70932713092750721007 0.24803903196590224023 0.79871692871098320943];

% Layer 5
b5 = [-0.86892212423383785591;-0.58357644989743095998;-0.81866657343642001976;-0.34448672854845469038];
LW5_4 = [-0.14068199890663418694 -0.80616321150841052656 -0.32757191616795156008 -0.10752736816338361037 -0.48159001487879632419 0.36199051161990530856 0.8691190786920433009 0.18438846418809448635 -0.4305230248363904888 0.60632434689483982737 0.09794098185481529828 -1.7554773018522575878 -0.36401798463816892326 -0.37327922939188773466 -0.20134976563496734259 0.71285188548971711864 0.13992988108936177394 -1.0421224545043064058 0.33511690139884875439 1.1808753092529891138;-0.95002758120709096534 -0.93926523603126432782 -0.088971714592498321594 -1.5910776278062643829 -1.0858774155977388709 -0.32042922007071988899 -0.35469242553680047081 -0.70093509277579624239 -0.55525929628637638036 0.036983781259223226512 -0.31040620684075126423 -0.22855483892645006572 0.65589555228282903077 -1.5068317752951592148 -0.49136886030694637562 -0.33450487057391636858 -0.0092250334849873997373 0.59014006646140249046 -0.25653450809448247183 1.1294980576606028499;-0.4742478605354006338 -0.52839421562464083948 0.56799771754581585004 0.11871501953597674017 0.31990912941559701554 0.34741425662539882069 -0.62951682308563561286 -1.526655314053954271 -0.61149850851979570265 -0.66635777345240376768 0.43090920210532440704 -0.54537836205042533599 -0.2291929654145411499 0.51588122512205947245 0.19772432047908017339 -0.88287815947468439859 0.28526848549131733623 0.34832338532888590388 -0.94383820699368281559 -1.0067555636848992684;-0.085044274702728100968 -0.1664184470087713974 -0.96032617394733021943 0.77869117459241421475 0.52264347220993423448 0.54392693623279919635 0.33903357909706466344 -0.15190224069378246985 0.14306691812136601571 -0.35239160613348929907 0.24616755279823021585 0.47844599698677126032 0.8006422711344681753 1.1937924215348747481 -0.62446747184249162821 -0.14800620933763539155 0.25182802369174683843 -0.30377805200270857622 0.14855864533672968886 2.0366589602110041213];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0288232600300627;0.0291682008624858;0.0294249350129425;0.0270856310559764];
y1_step1.xoffset = [136.548525508366;135.365424576093;136.196236660114;133.048445347038];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
