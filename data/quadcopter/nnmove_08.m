function [Y,Xf,Af] = nnmove_08(X,~,~)
%NNMOVE_08 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 03:28:31.
% 
% [Y] = nnmove_08(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.845918270200932;-1.30490266637008;-0.735770118525281;-1.8459585658227;-0.528101821673327;-0.399260196702291;-0.482903155837444;-1.85436538017275;-0.506909444345782;-1.90921670427207;-0.705239758635755;-0.295907880808792];
x1_step1.gain = [1.30953763543212;0.659138484640931;1.32690155168647;0.630893986156085;1.96896808474155;2.96896242792547;2.00892073895926;0.504314799844091;1.99244644521975;0.52529696099827;1.35957720273726;3.52300748966925];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.2861727007649319532;3.3072573619088401209;-0.66764815021511858539;-0.71210743926360231537;-0.95832021441383630211;-1.1911580013702673941;1.0363856773981698911;0.1343306806706609513;-0.29913880013021176829;-0.13500323088628848889;-0.4568953895312009017;0.17113688666414175743;0.11927324594480584463;0.69519612152387899595;-0.79843631081879062883;-1.0426570739858689318;-2.2037196638708165253;-0.86329790640020287462;1.3174821775416538649;-1.868479173659558068];
IW1_1 = [-0.094180373696917271675 -0.023639448060858977985 0.11684060609756269367 -0.098418201009328687423 0.80568759869999884149 -0.066636698748082395793 0.04874401339632453839 0.26824659524406008204 1.8807557756351349632 1.4915209368705770743 -0.32694245863385440476 -0.56916124094696773916;-1.3611449513332360972 0.63999751938328564016 0.98008602208226591745 0.0043399925065022680604 -0.29742255059162725495 -1.1231897040274709809 1.9711101208009178531 1.9101662575025597501 -0.35753671872644798846 -0.13054986456634756764 0.83705741880386663745 -1.1979443926714126167;1.1209370829016811477 0.79964452306662781034 -0.84771454327719586441 -1.1483753909508804814 -1.1389352317584044982 -1.0111033231422503764 0.87104404583649186478 1.0799058325197623542 1.5259616459338587457 1.4593354072023074774 1.2875846568529760727 0.77912423658434992735;-0.53891280497720883691 -0.80644916462133320323 -0.65807227559452163845 -0.73496647651826052527 2.4656939222108906762 0.76481170075494675498 0.035202857200617311551 0.30087004021855345837 -0.98473280151996611664 0.0027708072884380617606 -1.1817030341649199521 -0.26818376957448114561;0.57527185499630872911 -0.22978569856733885302 -0.37938101334245744045 -0.084400302186953268802 0.30626072534121978608 0.57221051122623134422 0.54675623802026007692 1.1150212155101333344 0.77014912325694295792 0.57596089095407176917 -0.12318515504987563591 0.22739497633980076952;0.17970108972266565783 -0.54807882315662970196 -0.58548806183478374621 0.051683577692218832245 -0.14073820437966766406 -0.050075918729503308968 2.2763104215344345249 1.1657604544319353224 -0.21636517618334480395 -1.0023947732151414769 1.0055156989940539081 0.6942565187554295969;0.033815221318494459446 0.90585537910618407764 -0.70687591668295457481 -0.41539847576305771737 -0.43136948276978875905 0.53277586786646236039 -0.18060810124949319699 0.2782815992605365274 -0.021539475773487908039 0.30857899541814576283 1.2659421763371474512 0.48535357241318488608;0.63114470899238206414 1.8577986441100453607 -1.1462439327150801827 -0.83407688281733038949 0.34288495188801210167 -0.11123414847889860624 0.26739335110188861 -0.44019853135489739326 1.7983371720537997263 1.7300338727030022401 -0.36623646374822882432 -0.16421448442941111168;-0.79921476231659094314 -0.79463222726219706615 -0.39259877320860320227 0.62785894888589455221 0.4915816438197326832 -0.71066588438619271439 -0.51652771631446459111 0.49597628070037752535 -0.93730592428604020405 -0.88967188460571677844 0.77700299553358531668 0.627437142951429494;0.4641191097931530174 -0.18355129028140967917 -0.8693868072110032541 0.017731761355667986779 0.42205964778924937031 -0.1958180552318388723 -0.42078989910317116108 -0.81653520178204619384 -0.16993981175044053922 -0.43338154927597077881 -0.7006874663937937564 -0.32755726033533288932;0.27613625226625215792 -0.14219752458934528661 0.26772279691652456357 0.79314215438750446108 0.76194475164990649318 0.63316166411583796325 -0.92645338437261026687 -0.51890632205242381847 -0.27065806145220044909 0.16486747100779505781 0.13732414239321341642 0.2743883988348496672;0.14531209425305105509 0.19015338021201383389 -0.30475856852474969561 -0.74156839878340830019 -0.70247452719426495271 -0.38741791153862004116 -0.045811864885347677867 0.069479931597725752557 -1.0170498407466648239 -0.84796400856782372379 0.083538274571670220747 -0.28130328644587104803;0.11359991068208255549 -1.1671655946243864044 0.012033008409079202355 0.16670615900625629369 -0.43626697143696896442 -0.24441263147710010073 -0.36814195883818778832 1.2961504145876145966 -1.2861827477630869421 -1.3786732430000809835 -0.7828302386713201777 -0.40429345183550546849;-0.96159007624010162107 -1.4300874869223121344 -0.60494213006494901297 -0.045544191483741364168 0.36739244601837328652 -0.14799444970529807009 -0.56632180916000107729 0.53804773685239515313 -1.9512318201479950108 -0.88298878466680796873 0.12633080104900057394 -0.67173453868846133563;0.18241847228937907444 -1.2161651523455714319 -0.59073538182202101066 -0.63741992243705158927 -0.6972847717173468185 -0.6514099949819585067 0.12725556516093602943 0.15191041677863018067 -0.40570776380939205241 -1.556139076294510204 0.31102396830696033003 0.084482693548414727891;0.51954316674811951149 -0.48029936819820029381 1.1000818398988163604 1.0291564565723081426 0.61696106769296821248 0.19345821696072745821 -1.1703778400621602795 -1.1265116998512489932 1.1516156864670992199 0.50579864833948451341 -1.086868673115349182 -0.57975213883931331349;-1.1802836222767072449 0.92995330550168131545 -1.0937732091714125193 -0.82508246217635505815 0.17794356274576028643 -0.61010532856383814515 -1.6879370885084254983 -0.35598412921565780742 -2.062439389595950523 -0.11812542577290977008 0.15075270781617203242 -1.0750731962989339419;-0.10768288558055924553 0.11707978384037087682 0.76664961120589103505 0.94456346291319015496 -0.98013059928816148592 -0.36307749540055495041 -0.82440737643809525181 -0.61432642784565660854 0.52400265088520781021 0.072682202661804085064 -0.29667835467883207912 -0.3224121118047031942;-0.21124743190291683792 0.39707197820421119561 -1.0115097065268101595 -0.44689525333363139259 -0.20073253784890859874 0.042576944550613983476 1.3012800764429053313 0.78934234180698437111 -0.24714231267265254766 -0.49768656284831691572 0.77951328050275925374 0.23939517306243535133;-0.89502485309183621442 -0.14412367668600140069 0.062486263421031071341 -0.39416161329247340062 0.42268411740969097368 -0.1652341710663717822 -1.5980243577308779201 -0.47068078865559731527 -0.8915347493254608402 -0.073161575441608367454 0.47456048711851472888 0.046774343370029482225];

% Layer 2
b2 = [1.3696880082228453102;1.4791084484130154753;-0.18197140299696823451;0.30893828640584186651;-0.85531860717992558296;0.17383979983237204947;1.048847662414152504;0.45603369782941194366;-1.3100204752776754002;1.7748359444181691646];
LW2_1 = [-1.087519895320370189 0.27416366535331615495 -0.27074749807112941102 -0.10575904685599961386 0.32751739575848920483 0.04870458823390313996 0.19698534372880227572 -0.88385215955923024378 -0.32215695384815024038 0.59277095347681341142 -0.037847348107507700066 0.021543599168027824375 0.071394850750325825062 -0.58378111869449922366 0.54155687696918075602 -0.77102411610287224786 0.24812680324179894886 -0.18840810312223549294 -0.14738295633240344751 0.1541052426336346759;-0.31005637211750147753 -0.62149229109502635016 -0.50208297820413649859 -0.58735050497911966971 -0.52108031632677953571 -0.6781474157831531846 -0.46239412039237826058 0.75282856724096802736 -0.63765547672822164849 -0.64104232474032418754 0.75404896709583824066 -1.5637360634821224625 0.18651198469768767718 -0.15080000593314055179 -0.041670137636399769143 -1.6860970461695263811 -1.4240516013050541488 0.095235185195745572506 -0.91247734795609003466 1.869095498252050902;0.24161933319419412469 -0.061366056439757517282 0.46397888054115965506 -0.45703014577223260995 0.087824261770515985037 -0.072782859490562762383 0.0057287391482293559264 -0.067491613965499089312 0.26061033681951545349 0.003473408644809567597 0.091984526494604049174 0.14950385200193713753 -0.13359790288596154473 -0.055773425750037727844 0.25108278992336918733 0.25165532470062723647 0.50587321872223578456 -0.20603556453455026953 0.17714806651154160755 -0.94465049697689118524;-0.41414158559111613478 0.095888417563415526135 0.37474097787951804461 -0.44217722551466720482 1.7356940166630856481 0.90285373184310957484 0.21053729806476270681 0.26344549147040119408 0.085949054972985050593 -1.1610741712468812814 -0.66533157740778903211 0.33967031023044264026 0.30577225941836883027 -0.25920301663086375843 -0.45250154063966835372 -0.10197596745846300437 -0.68542914517658815043 -1.2774230319207602324 0.42110910592553657539 -0.44133565488987525072;0.18051682459822052107 0.13826726515802006956 0.037477282517684201713 -0.41190087702536382075 0.12361885423075305579 -0.034712039016943710412 -0.38070854071686993647 -0.16775982280759949017 0.16225284583603177824 -0.12168722807656633111 0.057304312494038264769 0.16776536500761077275 0.04672939223503416728 -0.009746804914624887517 0.48236961494326530131 0.079398535616421780925 0.36823674586451116131 -0.66222455462436580209 0.64113133521950260718 -1.0633047233595680492;-0.072301735012321011187 -0.14292693619301788388 -0.48121020313636242438 -1.9053020641486777542 1.303177708062030149 -0.49936738928915491709 -0.6430663657503654651 1.1036737984513755872 0.18670529485560666272 -0.40784652959227191138 0.73482480776003478162 0.5691583884032045404 0.52360358116555982821 -0.25464884028189671561 0.055857923966348067835 1.1071449638165220541 0.064706457910963605107 0.33542252881856071678 1.1135518858509136919 -1.0973647936620722909;-0.47446536651944720697 -0.5479840534529772933 -0.026142806604971341455 -0.51754837075998394447 -0.74438724537432154893 -1.2405924708489326491 -0.24502617805646759175 -1.1286221005553056518 -0.49750365566055343436 -0.31741631854855195671 0.74710623519700192219 -0.22390435427038141158 -0.24027340883522035897 1.5777807127915721708 0.402365510144704841 0.66922600243096475037 -0.16061526305730763897 -0.97929077693099886304 0.46990002257443946876 -0.37399354578301835517;-0.304726291633280022 0.049455485499102287694 0.082281147251896391559 0.24759998365691401889 0.092817095416739908709 0.021583666654645790317 -0.10129622622994498282 -0.093400884438837289414 -0.020733997994242459734 0.099095031198891361801 -0.47552494562479818985 -0.055198185602528496152 0.042090767233615884735 0.037618158306332027951 -0.15275662149023402914 -0.47489056392241607574 -0.1427909821638058685 0.37966192468242926372 -0.66691369767868668994 0.74327141706874322313;-0.28319342482265813521 0.63923514292117533664 -0.59242141618078358878 0.51326955795829709572 -0.19219372145621088643 -0.27336622361713197593 -0.47455215820298868312 -0.24670534493154372413 0.9445358843177283914 -1.1496996430860091376 0.75795018267090574771 0.45451589918261375844 -0.92217659519369177268 0.58185566032540025905 1.6105501473272934021 -0.67701796037462058653 -0.38950204276352295985 -0.15008418064901241085 0.057059506635384851791 0.26261317914488502279;0.87055767281116913647 0.57438427250637780208 -1.9554966065586405488 0.041523425221498030946 0.84906848891118846812 1.4738521935930255502 0.017244034343110843654 1.0770536162229791266 -0.7302059033645056374 -0.58842475761586854333 -0.76924095460795094414 0.63081781298515671175 0.34976923012056038154 1.7460590053646958264 1.7731749080718977041 -1.4848210645550696807 0.062597173292366387054 -0.19256571295973176627 0.5891254208380808377 -1.2835915128238779559];

% Layer 3
b3 = [1.7223717436982715068;-1.1647256756787476295;0.60743106614964004208;0.035931055131516953516;1.2567445711334381819;0.78792453693119590685;-0.67351605877666265165;0.75883228342334896332;1.4854879904351292463;2.1394563131102652953];
LW3_2 = [-0.030154061605131107782 0.34328195308574865896 -0.56025685289481452767 0.40309228205129271627 1.0492041184945442023 -1.8350945382236190095 -0.31938523570973514909 0.4208552823459998371 1.55151974180315122 2.4456198864275568994;1.08253827144345105 0.75289482901392046355 0.38736072207267324696 -0.56059450113749387246 -0.61081906979402711411 1.0521456048997739341 1.0917651695915178145 0.84507553943651170236 0.54350120516047728536 -0.45469917591736053186;0.11454023412114788805 0.12203922336175004881 -1.0691607341886018023 -0.5515999086149621089 -0.76151701306191410534 1.2834189514732912141 0.61337627379943882033 -2.024298175025599722 -0.099113718142151668866 -0.66952750677111316779;0.10208017900586406623 0.087389581752429029704 -0.085615711235415101199 -0.073907729814960937409 0.44509586932041245166 0.037722475413345092632 0.31852382891353503425 1.184014612766189023 -0.052599769431589948887 0.80014382326889932351;-0.066993736287661281859 -0.33828788263186354568 -0.30822048994400885746 -2.1242152313578119838 0.98174109178318369473 0.64483188330350871276 0.95375098575151662228 0.49848182628677550898 -0.15048018263876217215 -0.44168504485280463134;0.16568893642878521066 -0.27034858016946711201 -1.0751664405492666887 0.10308369007616040303 0.33763865471688103703 0.12809330884122246963 0.49723640892558668147 -1.2325893162412075998 0.23352841041989697013 -1.3402174183339332636;-0.83770546003342050145 -1.14015918084441914 0.76505103941402696766 -0.099952285316295172435 -1.9218234362911335023 -0.63150182580071556604 0.45338789191465450612 -0.51449429910584498771 -0.4226585741740364055 1.3567201222895781676;-0.17838443295523823129 -0.79058411088863644878 -1.0883455195461153586 -0.18107137998355227193 -0.43709491918854809223 1.2513495389096547239 -3.0392635348435521614 1.044228783311382136 -1.0111216792818340515 0.72970850274695631121;0.0021652579129376632594 0.43414592293918302657 -0.065199801198594017904 0.58418379651144347608 0.65308042460512616412 0.28118727484445577014 -0.99133523867442252531 -0.31319612479641767422 0.094802552490377514638 -0.41349547724674501348;0.47555347799183678159 1.2074844276057083992 -2.0253380550057502596 0.45515508863670467443 -0.36835329097050450997 -1.1523795027937784319 1.4471244873348272364 0.0026911118407142754771 1.2174099043036179513 1.1927024570656785674];

% Layer 4
b4 = [1.3886590998203180991;1.0639653269191566842;-0.94405030869738526533;1.6899445670062136493;0.72264229718558348203;1.6666027136120304952;1.0318815525565263602;0.096761720287148800246;0.96412994101003524072;-0.39138264099997555068;0.37722291601019031226;-0.10718677378659532962;-1.111064192126713035;1.2176844700547528877;0.87497106573987915024;-1.4959178666581274264;-1.2716564317354788205;-2.3050856913685402461;-1.4475170715331135973;2.3908662004886291896];
LW4_3 = [-0.70153720030312560763 -0.23696249251326090279 0.49050216490865206076 0.95710899086572553962 -0.38636238367201353183 -1.4712625887615107256 0.020675589827825364975 0.067705644265352041278 0.30998410038312157466 -0.65361122052136144678;0.89476776897420096102 0.37976799053447624077 -1.0940291733670881591 0.86213048482097687231 0.59067491362832802437 0.72334776389267108065 -0.73518591491341056532 0.61631947582151380693 0.83824189478419408594 -1.0088342569311425923;0.18977531444859643828 0.8129755866224974703 0.74246476803501681996 -1.4707227758187535471 1.4611918201482989588 -1.8816890595266206887 0.18353499068187928422 -0.86956622767596780665 -1.4101446646368123172 1.1155143060286822898;-1.9417314553271198818 -0.32549957342842616992 1.3180937985010636737 1.9029936809173535472 -0.57286221163439565718 -1.4294650725519735257 0.73114230201510566065 2.1650118840620695693 0.91876658017717249827 1.2104686034142690954;0.024917030842674482011 0.031797512593812284065 -0.18276581932967431166 -1.1302595866438505112 -1.1497691779926331179 0.1170103844736545412 -0.34892556621531495287 0.1525301083225148735 -0.27450608373218510216 0.48708082550498482677;-0.2863385703673284044 -1.4500920515991453374 1.7343713960167139732 1.1676979137949883292 2.4273741263127091017 0.82405871045141321218 -0.85107697106847701729 1.6216344489681329133 2.0026776232684118106 0.4748058931146884043;0.96120414783620744537 -0.061151360486275237183 -0.1079378397944352197 0.045346924398140628365 -0.12283570249837115484 -0.034261980545219464234 0.09399617992795765431 1.8702756753137410595 -1.2624563739567502552 -0.6856291696619012388;-0.25331239946660943918 -0.43913288437966602196 -0.24906023119340969796 0.19338857718855961831 1.2124726071049887199 0.89080534562840663071 0.99619190189032591487 0.77112630324470088361 0.86321453105132783801 0.46533502903092949232;-0.98035076794914699505 0.14894806449742323262 1.2083450934635278085 -1.5334200921952005903 1.7616064744679480469 -0.1874268261777605471 1.0759322027696418544 0.094698639084590349735 -0.71996560118134023121 1.2608456186461727278;0.95251964306208292133 -1.313524265026668747 0.65510371059023442264 -2.3185747861852443741 0.87955699900004902236 -0.84034968482076233265 -1.0290798001477305945 -0.89075979410802208491 0.09352728301838567071 -1.4716167881502266734;-0.31218439319615792771 -0.53980109584906210696 1.1771885913813942004 -0.85280233727634113805 1.0511744378931207056 -0.51486333843910259134 1.2145552112099433639 -1.3447200062785227281 -1.7208654708243766862 0.38897160693010890409;0.094544787482328501715 -2.0706094366145673114 -0.19931620732930183104 0.045276605843921811922 -0.41718501809932406754 -0.19771923290107260018 0.55264525513062434658 1.8283287766072697789 -0.35409487261512839762 0.084334700846745103142;-0.23556323229132541952 -0.39562162140197132398 2.2812962849795881404 -0.95104622359521429065 0.45528043161454434529 -0.10117931972843993704 -0.17293182462001494004 0.3638692328826353406 -0.12300559494427922014 -0.17185078960545091542;0.70873745814493915862 1.6881132721581275646 0.0030894349274308702258 -0.99628721828910127289 0.79174620208125157106 -1.2335733010083387295 0.42805583120607976211 -0.79707276558340811601 1.2224958836270352069 -0.2303852025760124711;1.1037171353602586166 -0.38800856932237126617 -0.70427234321718645838 -0.37257974925044873293 0.89851817771558506465 0.9484107966640218379 0.53458973575591328675 0.29657363550780835304 -0.80051990090083546825 0.30775797626742273927;-1.1126945202805991197 -0.74662983939087668173 0.46442362558964633834 -0.35518529000956655661 0.44974505234234490869 0.45700280912020474489 0.42763446780958952465 -1.1996002356510888642 0.73032400662017282755 -1.0303129451909864844;0.12671010875755173153 0.96153117937597809561 -0.05364177878549804962 -1.0776736177337307154 0.84693484634353999319 -0.78066963060508109962 0.7201328746352676502 -0.59706434478708925173 0.71781351112716151874 0.9489840384315706423;1.6277555537303765032 3.2278212711979947791 -0.073584222320370359927 -1.7718047410376653872 -1.2832851793847914745 1.2972695819277992868 1.6887766614256545239 -0.85610229391236836172 -0.56639182949349631269 -0.76570852338886596922;-1.7697921956653670517 0.34089467838414772016 0.368060983545329512 -0.14052581880630776734 0.096775865198292482239 0.74749412075167942504 0.17201337145170381149 -0.5896207295544265703 0.74826497058010388308 0.50807873771370937188;0.19028332188768687372 0.47400934291878382698 -2.2990226499559329731 -0.76480251634216600554 -0.14065954814212594526 -1.0353520070575712442 0.9356908392180703915 0.37483382066886411499 0.097778024619466830103 0.84630735730306383413];

% Layer 5
b5 = [-0.98580103290184817322;1.6933429001851874052;0.89305192269871735977;-0.091681667209565595456];
LW5_4 = [0.36160179276654352831 0.072880956425578999336 -0.081271347042541061678 -0.079853237726882686509 0.21832318419412904964 0.44975969296868834046 0.078773829499060518677 0.051756412565287263083 -0.026331143985543585539 0.10166512796437172927 0.088726820525786731508 0.12225712783075981527 -0.044641767801780501967 0.58437152878850728843 -0.15895120397006931579 0.023988656379130425533 0.1941495460928438499 -0.4392321231212372723 0.054377219375578315919 0.074115406001892258914;0.09107896898456234458 -0.21184629284014949713 0.01514682882002645406 0.17150513886934831698 -0.20087380160954015906 -1.1790286067159481131 0.28850496168844186329 -0.31819432520496349071 0.2053576098263213412 -0.022782629435084671837 -0.022706896571307803867 -0.2974186311078003131 -0.17017129668652597463 0.034181232766651539756 0.37831226220559294182 -0.095553035291207247259 0.022292563851323568547 0.68971887837523548903 0.22070387616034284339 -0.04651877918526438338;0.21382619979330330651 -0.056034153006396004992 0.018496697040409529333 -0.26073349140293772264 -0.25443954103782440157 0.097997919333752472881 0.22796575866713580938 0.031061155858360965654 -0.089195394503806216258 0.0010736072479982684824 0.012670383117973305076 -0.2543027589562319446 -0.61201998148702574376 -0.086569909789953117252 0.087531178797936398661 0.15719044251466876561 0.02518156449941932537 0.81800620180057581621 -0.09925963982336187541 -0.14976869855417937472;0.1666892450543747406 0.15332538271571821697 -0.04480764527086393556 0.14848580749808484858 -0.44859649009373148143 -0.34049434659198635211 -0.37722726659742822353 0.76637989293384678469 -0.29879355847155986137 -0.15608972096770337701 -0.099930289994515378305 0.22927724943688343462 0.22338749883196279411 -0.18874732252274611932 -0.80906492198972601582 -0.20705312456399974086 -0.27398212953562717242 -0.32220719768725580856 -0.17793453670774236897 0.02192055475518597113];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0372835086655452;0.0385819932481875;0.037584147972581;0.0416989841712608];
y1_step1.xoffset = [140.666838621166;144.986763517599;144.540423916782;141.245908245125];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = repmat(b5,1,Q) + LW5_4*a4;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a5,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(5,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
