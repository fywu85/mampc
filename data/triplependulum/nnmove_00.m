function [Y,Xf,Af] = nnmove_00(X,~,~)
%NNMOVE_00 neural network simulation function.
%
% Auto-generated by MATLAB, 29-Jun-2022 02:43:40.
% 
% [Y] = nnmove_00(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.774566682739435;-8.97163988366913;-1.89093748923805;-19.2673244097423;-1.36181046680476;-32.1435885117685];
x1_step1.gain = [1.38650324557865;0.103956045709843;0.594042477847831;0.039305043131925;0.62465633780733;0.0381042747852155];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.3065685614188917718;2.0637718707432188836;1.8209751800675462174;1.5781784893918731072;-1.3353817987162006631;1.0925851080405275528;0.84978841736485477565;-0.60699172668918199847;0.36419503601350922128;-0.12139834533783640247;0.12139834533783640247;-0.36419503601350922128;-0.60699172668918199847;0.84978841736485477565;1.0925851080405275528;-1.3353817987162006631;-1.5781784893918731072;-1.8209751800675462174;-2.0637718707432188836;-2.3065685614188917718];
IW1_1 = [-1.3180246472433285732 0.15152552777472153012 -0.88641004304413750781 0.96783074799739232663 -1.3106616297468016707 0.34620303775163840942;-0.60113901166986316582 -0.88157438669049181801 1.0477365081606953012 -1.5621238990191255169 0.4027708708533498938 -0.69390905533681701556;-1.0855686108997821826 -1.3015110685921904565 1.2481776434332845227 0.29310268360201735538 -0.23733023579262599312 -0.86468838569995498666;-1.3171175114363165015 0.83242274704817365016 -1.6055690069064798564 0.40069074798416920435 0.082045134836049860017 -0.38392192459086826872;1.1347678747204947847 0.1863144049603724095 -0.86221009483080623959 -0.12267385398566879595 1.3327822487071632196 -1.2095799671720106616;-0.57674637172225862169 0.74688163421333852998 -1.2558866907495984666 0.13608908061186297811 -1.0604271419695574519 -1.3074833208942118201;-1.3728049493518590385 -0.044566971256904688858 0.58505743845395496994 -0.90411077933618488878 -1.4207454652533615391 -0.50542328794176516471;0.87915453898896367413 -0.26211198266561369641 0.23042733485441893593 1.3462334829978550577 -1.377092007402897389 0.84665187025047794478;-1.2043798424222160737 0.34113831264662047849 -0.83716734443635987262 1.4476807514580898317 -0.96354610433148746296 0.16823364536381643641;0.43420157601767173094 0.91559882686494120652 -0.84616188081209275929 1.5392682374129247336 0.65964413788261222482 -0.87916965613167297189;0.010665569897274294539 0.99498885680781457008 -0.95644652978966893109 0.88510457310882950654 1.1787735828919914116 1.1146455578183471768;-0.50403961541363906385 0.4316675299499778129 0.40262542345661778143 0.11780326972681534614 1.8504263371264599858 1.1312839020791265465;-0.63581852856334630797 1.0919410509101870055 -1.0479311438880680729 0.45734815629252584257 -1.2608346955827360869 0.90919025545744580619;0.49835223893419988705 0.79340806140563957527 -0.48180440746109898242 1.4679511489972614235 0.48785055065559057574 1.3481071915487827795;1.4840535371610714677 1.2230793100321131206 0.37635893977072315542 -0.82612703155842714953 0.86032035254806427105 0.24007831203961615962;-1.0543200628722568801 -0.74533821715329318103 -0.55083480992075017912 1.5582377246935938953 0.87244207046704302932 0.4005742313258422449;-0.28200199394627711857 -0.87343949528940656446 0.53616811773985439959 0.86283069571429527045 1.8350171732599054319 0.28034936400612642249;-0.36520845050514044727 1.0110912542155356952 -1.5492148859496301938 1.1367567644139831007 -0.5424509085607619463 -0.42194798182623799443;-0.26934415577778192397 0.40954811665502832696 -0.09706745673666664076 -1.5153279754202166885 1.3528589345369319563 0.97165546023980609025;-1.3533748173466113585 -0.94706476228877933821 0.035705332752241920879 -0.30542821107845197215 0.77488624123373772701 -1.3772049660693426176];

% Layer 2
b2 = [-1.5708258360227485007;-1.2217534280176931549;0.87268102001263814227;0.52360861200758279654;-0.1745362040025275896;0.1745362040025275896;-0.52360861200758279654;-0.87268102001263814227;1.2217534280176931549;1.5708258360227485007];
LW2_1 = [0.4383648902039392059 0.11977015598495376059 0.48373005884190151127 0.35486046448010677423 -0.27386087211663479035 -0.094756902927957187277 0.57870572650594886976 0.079804527361332019963 -0.47184931862563661564 -0.47726820488462201597 -0.10564913835270600684 -0.020305008480355130063 -0.27582808063537445076 -0.4526113386671211658 -0.52354448873490744276 -0.095744976742520387925 0.10481424502651545683 -0.39993485734211642324 -0.11214897959121405968 0.51584934215667255231;0.43966608551410485406 -0.51524975746239465302 0.011667040664766968952 -0.46812437985843918797 0.38405327571494163319 -0.3796434488891423098 0.51380928226325373043 -0.24392220044709073123 -0.071794204089486834963 -0.4103091941226192918 0.092567108320743496375 -0.092672941010191745015 -0.55526063243288847904 0.10288685198965986933 -0.30678156826791602718 0.14378523912469717838 0.15703200927852320468 0.24862963917202729469 -0.4120166906080341418 0.54195654713958607562;-0.087889131194127084745 0.38634346854380269276 -0.078315941233409916422 0.50827875050528825707 -0.027701528447648532394 0.55029008437639503892 -0.22765070726230965392 -0.010629947142490697026 -0.038175611727218679292 -0.55965684604590537621 -0.041071635099922919332 -0.52108368424978868116 -0.56648320900214188534 -0.10127840944312246907 -0.46275704162738473535 0.31061613240898405808 0.24313877891725871327 -0.4396473995807583246 -0.45496881173321940262 0.037746422061908202483;-0.20962959704037295583 0.25949914108866434237 -0.33016578006341973373 0.12316014558293474079 -0.47588780483469583782 0.44283980500319286566 -0.51156288768234081665 0.28602582281948585319 0.23439453591332945481 0.41342407737939707024 -0.47551572752403692412 -0.41308419489679165659 -0.09016171333081450523 0.50437573753292741507 -0.19998456770940517546 -0.25956000398684775377 -0.27267522304708580183 -0.38309506229384865383 0.00011751473495064039911 -0.50232562217211162992;0.12423443497723071771 0.10617345285749917039 0.24781071980320965031 0.47560166369231737793 0.43827040752859736106 -0.049229955355146709506 -0.37638798791234662211 -0.59162724721604931233 0.37673395867548686855 -0.35119757752970992559 0.086775194992486801016 0.48466876696568650384 -0.057247642009314043954 0.36778158135207239532 0.18007101482673634751 -0.54323850735426548741 -0.34943282404534437013 0.20660248766480035498 0.55779116250877114336 0.13148915981392597652;0.45809860951053810174 -0.30956701415862375448 -0.31618543371374452366 0.27054960063272515125 -0.26924987835301356087 -0.26917158431809740105 -0.40349244256529631647 0.20850123068449069597 -0.52419996505126786879 -0.42336848789064057685 0.52295818007392980142 -0.24024088021599157572 -0.013169085496594319998 -0.18496746371213315663 -0.61113545233232446918 -0.57228777032865796315 -0.23873866847160274407 -0.079827898107493092117 0.12161504889883313629 0.19656337992786815372;-0.15083031900299803674 0.49120519143033425369 0.5126556100276936645 0.29114336023832582123 0.23430233356978827364 0.21280738623690512168 0.27532757584806905049 -0.26671359512802483849 -0.48259467673672451493 0.41441418626949222404 0.24613025113307501757 0.21974259818557140278 -0.14997490929336915189 -0.43332971548989240862 -0.32843154651489442353 0.3462873718161230685 0.06007837057761226951 -0.38817350636346670267 -0.47610207327720294179 -0.5255863508635314485;-0.4469345302024751998 0.31920668599499396612 0.6084489307216531806 0.097885546004172624412 -0.48454009294638816785 0.14115907186231255177 0.21179004043376978283 0.57065367123852583919 -0.059018115796025560904 -0.15775653334683370499 0.15724201575122531693 0.68207598282960002489 0.081804091393918781927 -0.23693760989377696258 0.35036601329123312487 -0.077272430074205117334 0.30559659276556455643 -0.56132600446245251025 0.19651420269336533631 0.062269251350803099532;0.20714699670899111572 0.28155498122495392632 -0.20775274450034159068 -0.054349225822106023154 -0.32343429293560599369 0.18702927508985725535 0.66719144062796731376 0.11953992488616570211 -0.50924126702919059184 0.027600343649997416406 0.78198636888226735753 0.14270934139196234103 0.44009231018271161018 0.17787235731851905318 -0.43006934371380073356 -0.098822903055983180032 -0.44200761094713286736 -0.3375835056836962722 -0.039493456867173558356 0.27798594238342561047;0.51121218660239775566 0.23412289129182914382 -0.55869359022717124397 0.32711293070876845679 -0.36897070692128569602 -0.23455030488312714199 0.20208015542794677266 0.13335351170658843456 0.32918585076344214491 -0.57997610133683052958 -0.36629323604936375736 -0.17899143192937991276 0.27956983927127027068 0.060506446365714616764 0.229777704296253521 -0.34505860070543853402 0.58500517034548016326 0.14448974914649898027 0.23581501453516098832 -0.44618754040618135992];

% Layer 3
b3 = [-1.8889959867429886309;-1.690154303927936974;1.4913126211128857612;-1.2924709382978341043;-1.0936292554827828916;0.89478757266773145673;0.6959458898526800219;0.49710420703762858707;0.29826252422257715224;0.099420841407525717415;0.099420841407525717415;-0.29826252422257715224;0.49710420703762858707;0.6959458898526800219;-0.89478757266773145673;1.0936292554827828916;-1.2924709382978341043;-1.4913126211128857612;-1.690154303927936974;1.8889959867429886309];
LW3_2 = [0.64325910862155066816 0.5549016677485201221 0.72027190280318686977 0.43627829362375070144 -0.044913187897285260231 0.21533156595153371549 -0.13925549714277776769 -1.1155501899827964252 -0.15767966587695286806 -0.89464253093233925274;0.93722603323349629179 0.94453972547584963415 -0.16847493970514529349 -0.37701140998301246876 0.12306015935452256638 0.6670939587088320355 -0.83917234540471008497 0.12474601433836733644 0.6344609041201177968 0.21157956939187017031;-0.41667747490745327132 0.010794301527633267876 -0.2166489444863444469 -0.57159435168141881078 0.9572367613165589928 0.70274206259034865951 -0.54577628511892983809 -0.017455962086877337136 -0.57940059528461296257 0.98837351102350656795;0.026022075505032344483 0.44282429822227292737 0.99677385975534338325 -0.37221702405447892881 0.82210334012848573781 -0.060536885375304765045 -1.0450072205594806984 -0.64783989965008226264 0.1109479037536105217 0.18938587498856845892;0.34445159034307720747 0.33053168167690283319 -0.11818468378039448385 0.6107761856721006799 -0.34795557710046132183 -0.93986041435131295607 -0.48626447385502036269 0.71310690309981661361 0.85693975481179540665 0.68531858250429900092;-0.55229928498788560809 0.12777278384760440422 0.82953709436614964101 0.72545178009333399771 -0.86308949580312754879 0.32587164034790183642 0.051132125940692246813 -0.87947951384455069768 0.43824401406033514084 -0.46180195764731551966;-0.43552912787543046624 -0.97026934038352941059 0.06504497441100685895 -0.15842235100025936489 -0.1901408856306260331 0.23196511258372487507 -0.29748854238584504506 0.91854809911723678262 0.22684641958089654667 1.1550837297176870244;-0.33327720798085580522 -0.3520328058534114013 0.46122021644412336538 0.4930016370499163969 0.51594154531398206398 0.48920612570785126927 -0.94908032820295085141 -1.0304160782333471325 -0.63896594049279231697 0.034982761460447424351;-0.78505612122602508318 -0.73179188911049275479 -0.74622362872104741616 -0.70055444780306519448 0.84003443559565971199 0.11090978270548763895 -0.014548009288780817602 0.66111601418973042765 0.063271054296264367389 -0.45781986534013024981;-0.68663501907460300355 0.89428593485139107333 -0.36463862203583591315 0.70731218162630826729 0.69063454216973718669 -0.79588461553226508283 -0.27322931512844278457 -0.54429033340664834117 -0.42509796535560462338 0.042615846435965207273;0.25842867934510099781 -0.11618404483433698859 0.8883604432763865244 0.11060228072511084363 1.096695798347735229 -0.86623184360866267717 0.63788180251063386628 -0.37662872571094085927 0.34429608086704471814 0.25733852872952189816;-0.69787811688054135484 -0.72188136267330260676 0.57275959895540995426 -0.63861595629635892202 0.37323694191943967979 0.69036799968499040769 -0.27379787484742973414 -0.72200703996153581254 0.2039519231150558054 -0.75531831272232519137;0.29689076500729028041 -0.6909436292962379822 -0.54089822692667721693 0.62534428046384715749 0.12106923842536755631 -0.79138820409508114917 -0.81691743868374433468 -0.59446379969848039959 -0.4824024172988152781 -0.65170990375406645523;0.50346237488996037346 0.96931340611075023084 -0.53039207528958975946 -0.88130497884775027551 0.40870742285052502618 0.64155627623509681179 -0.37690165391419611085 0.1799262264919633536 0.05920767114267686676 0.7487848231425549006;-0.026960600812265141796 0.50934988995623253771 -0.10715767492966833674 0.96492226213139986601 0.83610414189819848296 0.015000955761706966443 0.67715401516931428283 0.050870803860662776319 0.80380807955007349541 0.74770042250556745245;0.31185079631460344007 0.46408322370523386047 0.30261869660970536211 0.21984505730908079912 -0.39721035682793626176 -0.0061116621670968141605 -0.00084200029180030503111 -0.91093393122647936533 1.4163769571534803315 0.34933267055636285647;-0.82714012086973387472 0.70768177530857578894 -0.011763262883474267725 0.16975746257429066843 0.69262138269145656633 -0.71071432644378329524 0.58296140679205099566 0.038383726146597921258 -0.77507903625660767855 -0.65381307310369130015;-0.41332974004747774499 0.30039181083931160154 0.83087250359888065177 0.75116210878412414953 -0.97193783871673022912 0.2555523627238279194 -0.73947526039745281601 -0.0088291608881505886236 -0.69382779506671354852 0.11986115526854250468;-0.24950325986364974007 0.36627796941552964727 0.41939699310718625558 -0.80878065703531376585 0.29657756037554339201 -0.87722232948726241997 -0.43602469542747368525 0.7223923143767538857 0.97134265931020391527 -0.17006588131994990198;0.059242657484475373664 -0.18740440334481162088 0.48473840071392304552 -0.77248143840313066022 0.69539843188382821637 0.67736039657778701617 0.46707278930793993954 -0.61747417394574377614 -0.79701561057703274038 0.72174478165369948535];

% Layer 4
b4 = [-0.87991483136291837042;0.28681768172697785779;-0.25267547187232541894];
LW4_3 = [-0.72599245357001707113 -0.25583751970728885183 -0.68566763431534671902 0.48626921438993386815 -0.36410944796534905343 -0.024129296271457656431 0.95289617352460176392 -0.024627686510701796152 -0.38701293998833885546 0.2385971554013266438 -0.010642309833766905314 0.24936289567329406047 -0.9277119971914244978 0.22593284471023444837 0.3841881071318236085 0.74826972650309242496 0.70479340577490412478 -0.87104657508263794163 -0.46212779295464612161 -0.96728560891499903995;0.52969500005565950396 0.69149508733220921286 -0.37800999608418783815 -0.70607046610557988586 0.71632131172027513344 -0.76396097175418886671 0.64186539778570339543 0.21722565026031048774 0.82256901904544466042 0.8819013380367433097 0.96171779117288047622 0.15362627000205031358 0.25819669291720104276 0.55043557319802016714 0.091287133291734212648 -0.88790704483550397796 0.19546761075485274972 0.55473166346535518478 -0.60011659167905206935 -0.99603669477130352128;-0.05308564066298426809 0.16826272834774780307 0.22986945901481425913 0.87768267949524969573 0.79554514342992566078 -0.053963665860501164317 0.67424443053796956349 -0.1684161072756893418 0.94093138618916527527 -0.84803374828096167448 0.45390986665708621395 0.12061648701418237195 0.95213437886509977304 0.47237169544719570524 0.7131471196739633811 0.45084416401510751804 -0.89566911868507692596 0.13238915055258693165 0.51082249070665319834 0.93339760820878092673];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1.52477853558493;3.68857865666406];
y1_step1.xoffset = [-1;-0.649268524470734;-0.26781918172868];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
