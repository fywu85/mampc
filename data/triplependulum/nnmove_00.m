function [Y,Xf,Af] = nnmove_00(X,~,~)
%NNMOVE_00 neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jun-2022 14:45:59.
% 
% [Y] = nnmove_00(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.538969769082243;-8.10825760624359;-1.02702352576879;-20.7368572510006;-1.24089441979988;-28.1236733477122];
x1_step1.gain = [1.81393610359949;0.120759746928897;0.875047220567484;0.0413214883755997;0.948066863281678;0.03997546016413];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.3065685614188917718;-2.0637718707432188836;1.8209751800675462174;-1.5781784893918731072;1.3353817987162006631;1.0925851080405275528;-0.84978841736485477565;-0.60699172668918199847;0.36419503601350922128;-0.12139834533783640247;0.12139834533783640247;0.36419503601350922128;-0.60699172668918199847;-0.84978841736485477565;-1.0925851080405275528;-1.3353817987162006631;1.5781784893918731072;-1.8209751800675462174;-2.0637718707432188836;-2.3065685614188917718];
IW1_1 = [-0.21959152983304497386 -0.69204753538935459556 -0.83019925077632095167 -1.1037508703883156524 -1.0580372032044407238 1.3289728342129174532;0.92636169181313599008 -1.4044576350875443982 -0.86883347651550124624 0.0021210236907507396854 0.39509437150526915961 -1.2564376724138652808;-0.75708754817104995105 0.22642199255253087076 -1.1269671278379937984 -1.7192187557673319631 -0.024521515288970358731 -0.68515743599354606008;1.2758260721453118514 -0.012337079479227332224 -0.33818417154150370862 1.0498838062080229072 1.0835685812922579707 -1.1408894547007746301;-0.54397072561379689049 -1.4053045727851698476 1.1688126343846800825 -0.88993828457187329484 0.83356396460824744299 0.44331865308477763632;-0.78781543502932060985 0.76437631746257361787 -0.31408797791558951129 1.7641432467087796443 -0.90926735192455088175 0.27877310505633440263;1.0270782946125294188 1.1699622233544588745 0.10419346784245910043 -1.3830107664879798257 0.052847851819372550219 0.9849818002281548468;0.44787865514140040579 0.067200949305952176194 1.0673138911393962314 -1.137823293803016389 -0.87546086829522140604 -1.3838044475831974278;-0.67284043695328832335 0.92995865792089738022 -1.0424533512424938309 1.1327827797265452858 1.0650970195887685676 -0.70596295425886612662;0.26355050208489866348 0.84145226025669206393 1.1989781697707881936 0.93384098583386865311 1.1955504662139804228 -0.89655406942982074359;1.1351844722640453966 0.19654915047815210705 -1.4307665517639536201 0.86193377220834110908 -1.0615941839129401369 -0.27564145055730682188;1.2829818176835496857 -0.58978506470088865044 -0.24449025145628466849 -1.2654034995554277465 0.22273402705977510263 1.2711167589645941955;-0.70088637134454012667 0.05743591431164367378 0.57794387433940896948 1.3591320726563442811 1.4146233322119501352 0.80205963237696165091;-0.81254902161179398679 -0.61024955781797352028 1.2241585338275904338 -1.23262106799129878 -0.0073353652569139015521 1.1267854597945090589;-0.70845853600289931951 -1.0788860332985006352 -0.93489743695799532031 -0.99711322608790320388 -0.99194291803220291381 -0.89561777703425182739;-0.60978656348058957182 -0.28667012707015637751 1.2530260709970919564 -1.7646240658841745308 0.30408585437032825682 -0.29966394251893752054;1.1024311153725332435 -1.272867356881841383 -0.66390570640002977143 0.1745178936582964524 -0.1560906640274810353 -1.4103621090255986648;-0.21958407646004590719 -1.1898656874598725341 1.1621332504801367147 1.5648405029853966752 0.22914014704102278475 0.066905224427925139019;-1.0061906753140936743 -0.93215092976501356947 0.472242894967994431 0.40958626776666501312 1.4726355698417281648 0.93781859302391490374;-0.92306469297898241511 -1.2447469679461737879 1.2017238889682722025 0.47487673668213742362 -0.54245317262479764153 0.9771956928071409143];

% Layer 2
b2 = [-1.5708258360227485007;1.2217534280176931549;-0.87268102001263814227;-0.52360861200758279654;0.1745362040025275896;-0.1745362040025275896;-0.52360861200758279654;0.87268102001263814227;-1.2217534280176931549;-1.5708258360227485007];
LW2_1 = [0.54735753394115815862 0.10956618601247351819 0.064717338713934965955 -0.41973453767226198696 -0.063071437276831815444 -0.46862655238436023986 0.016811994173425728882 -0.57747887029116884428 -0.28608663328616174004 0.16632370628412621039 -0.29391695991661614951 -0.28064242061912753057 0.15054900693660164257 -0.088302351234091094878 0.45823765659668319605 -0.5872002706703809416 0.10240029987151226532 -0.3875932532960306709 -0.5272756451427882407 -0.34573309491544007566;-0.43617716777448412024 -0.25335239513476337514 0.30784553030082262293 0.34227259196832676702 0.12442277085615065235 0.33282809728529361148 -0.60285754854831874461 0.069834821919450409955 0.019953846511456416191 -0.15382743130851322944 0.40038490994170927717 -0.086155031306996490703 0.48082573786953575201 -0.46041626255323303551 -0.24123786712838565793 0.015787331469238333886 -0.6170024719340445607 -0.14272164566263881302 -0.61440671195129237248 -0.18600096071243563123;0.37652720840044667794 -0.19944437757241179066 0.54294864687466082298 -0.17995592664387813353 0.22762343551789807061 -0.45307853693518918003 -0.48041070291352033772 -0.39528793095429848314 0.33321150214009787049 -0.1509772059910473585 -0.26981427910569222295 -0.21428002891225864102 -0.20315041107290926492 -0.31175502863303705681 0.0343533556360730713 -0.5577475756128529305 -0.32256253850839894382 -0.45228013074156364626 -0.067216143273809828007 -0.54611413176082312937;0.39706356773643547431 -0.2291079299101240474 0.20750939585067884607 0.35535181610594934742 0.24068487755899728442 -0.24121624190457258141 0.1411067961534118731 0.55715904332414256661 0.072577179527219037869 0.6032411168239442123 0.039775068311489872319 0.54958521412163663378 0.52199446917279390679 0.3845664224909274842 0.26604660920138945013 0.21171007180947387649 -0.29161967384592463182 0.40415016649048890462 -0.42875986729645243489 0.024038061716199342344;-0.23392335041177364507 0.26437145615411511423 0.36244828367315518047 0.30397702549938632188 0.18946150697850069888 -0.44173701182489749639 -0.52590512012195989033 0.39469787280531465345 -0.33024398046663711037 -0.21697612305227742535 0.48452987797942026482 0.093395080030989618969 -0.58231567951693075091 0.29089178709260932187 -0.010944067305904093754 -0.47716649219627105261 -0.5011711689635940381 -0.29733674791383518654 0.094276230015999856748 -0.23685920987555481032;-0.31761743276925408219 0.47970425040623515534 0.049954053117142675766 -0.45801786720168696787 -0.069888165684665159993 -0.32703754902549275752 -0.48064912252594693687 0.13253618852095228053 -0.50256406875995440764 -0.026208719499400331965 -0.55064099660358789556 0.38382627651078715658 -0.24930220558052512692 -0.32495489554961476397 -0.38056340607361810457 -0.55370320166820818919 -0.081427539502765045043 0.31458126720913398566 -0.21507274588976324492 -0.29832351557334652048;-0.3029710022853945306 0.46489015726638327486 -0.30543563514291804939 -0.23604848476290340997 -0.52977588090126548348 0.32157362524410360027 0.54567438225360276327 0.40500783324505201799 0.52825137997046733851 -0.2791708003106422864 -0.33608861736406520082 -0.28793852397475561133 0.20132671804425125717 0.43414671293921958117 -0.010571462456519624407 0.080769130467443966959 0.22837771416771265875 -0.28011248986306347408 0.32385182871319440068 -0.37510681484786490003;0.44036488766148634832 -0.45805891211793187123 -0.20661303460378288577 0.1421607911974920313 -0.086492836082520452301 0.23524697262128760333 -0.46727704685474552582 0.3150276379539556082 -0.24893493997696850006 -0.46523948628836220287 -0.23898892386666420462 0.27887176847199718344 0.42776555805793331499 0.41709980994373779817 0.11005119032135984858 -0.52562417342439304857 0.44596659623967405128 0.10212076299136510493 -0.54301207417027763658 0.24003622250706341257;-0.405995901187555297 -0.096087902147659845498 0.14883558752158648764 0.37558186542782762141 0.10522038799401600695 -0.097022638064870367347 -0.57208981034685846279 0.56518060367600897465 0.11604816791880409599 0.5667435681867379893 -0.0417144909249403395 0.43767982547645656322 0.29733401805252712702 0.26837886754222251007 -0.43410056705021876633 0.094595576779969714476 -0.18753763160165251578 -0.312664357354959066 -0.64250543899436962647 0.17741406828433398113;-0.31441468690619328585 -0.0022812721131578788877 -0.39990242574611928328 -0.22850426577994351063 0.082285489357408606037 -0.5676183495475621843 -0.047825503023711912753 0.48053258967444723027 0.51931499335897191028 -0.16286318244559261359 0.41189578443641466921 0.55153253590664896855 -0.46730171049070273748 0.39725931873605657696 0.20621648840918241352 -0.20853847494929345086 -0.21776594884782010664 -0.03058673182702088128 0.46818092782895348591 0.30745151596586195453];

% Layer 3
b3 = [-1.8889959867429886309;1.690154303927936974;-1.4913126211128857612;-1.2924709382978341043;1.0936292554827828916;0.89478757266773145673;0.6959458898526800219;0.49710420703762858707;0.29826252422257715224;-0.099420841407525717415;-0.099420841407525717415;0.29826252422257715224;0.49710420703762858707;-0.6959458898526800219;0.89478757266773145673;1.0936292554827828916;-1.2924709382978341043;1.4913126211128857612;1.690154303927936974;1.8889959867429886309];
LW3_2 = [0.85685787090315690406 -0.18379333494180605246 -0.39480183157060294574 0.6542480024083040524 0.65322063730140078608 0.29685140743950128028 -0.63246622051932777087 0.52530999504243824916 0.58570631987114862849 -0.82618250946439264482;-0.20261334529880631328 0.46053913699674542404 -0.87037833007160614329 0.36715083387401437065 0.32415614787450103274 0.96535296456572128321 1.0859514248259847236 -0.05829681438812426425 0.45060362641423640229 -0.0091106021701498288851;0.98204070613618321683 0.61126599401200687467 0.14442155598284892037 -1.1445167740601875916 0.069159479075364349576 -0.082406968671206670685 0.056128522105821705701 0.2434508937498029435 -0.074454342054111874449 -0.90550726242582202374;0.10511703188621213112 1.1755079241539718726 0.38527645083457989772 -0.31213202497048220252 -0.55045035356995297704 0.11349888715353499691 -0.48509343786670477972 -0.21236292843001985942 1.1027972318089307446 0.34222805665429778532;-1.1875101639841443291 0.34169159909259660957 0.4146032368992842998 0.45778771633141168707 0.44185633651008193734 -0.6664028786602488319 0.6020656986677787037 0.27815745113023460089 -0.6098028656828076155 -0.45701513681320016236;-0.65372940782373412105 0.15964913422921861441 0.78621145775279255297 0.72711184675267681587 -0.71144945478648635717 0.19015545059957708607 -0.77776932230687945147 0.01926736951933515421 0.89901170977444178067 -0.11312794772897330486;-0.54031634297734743022 0.3238183293059743173 0.19462457822482592817 0.11041496790506841186 0.39363346400200499575 -0.38568753277376555122 1.0823752577660532559 0.34880326773667724716 -0.0046981025910092701764 -1.2347110666736242912;-0.74416408067690542616 0.24316169254998054594 0.094469673867768486075 -1.0070396530289484893 -0.12683344425542961154 -0.9573916903976339432 -0.14080981380350315879 -0.86645535397400441635 0.14259467303231676549 -0.4568955809475202523;-0.86692308333429646261 -0.59514676184455372887 0.2338381624934416092 -0.96039050179006002494 0.48084083688987100391 0.73486970574287091562 -0.20769195504255910656 -0.39390465790988693495 -0.61008216086880617812 0.3791857983230918494;0.69320427789019645193 0.55214451506394279789 0.88215493644653686367 0.53364538405505113072 -0.17919903216765625809 0.30591910985016224078 -0.6353192533007689935 -0.80159064822633652181 -0.49175480265167037519 0.55338564486215868765;-0.30475058057885451301 0.10681396491655689718 -0.10574349165661797723 -0.0043673909979938339149 0.03877439977890283912 -0.86815908818530340696 1.2062034693555043763 0.047514982771413583063 -1.0681184382764068452 -0.31552781271847618605;0.7309417892216152346 0.55279498238471291849 0.034253594401834813743 0.65707690987003364302 0.79894052488854805372 0.43983662920870492119 -0.63814864436273854853 -0.59201207899848129479 -0.389552241616412942 -0.74451266362887835726;0.25477835454863606568 0.021988289448510698471 0.98161539278852272261 0.39711817246880115606 0.73319664625091629517 0.39991244550193655316 0.044288096598203624543 1.1383723344183755977 -0.36830512279895760708 -0.50062936785319589461;-0.93266443653196096086 0.84872952590014005825 -0.14977759298643897323 -0.60614447033926355246 -0.88145154359853683523 0.46199849164175788019 -0.41353121505180695516 -0.40752188859017246525 0.11732942970238721681 -0.49699985087841624942;1.0220507328160968186 0.41840115537368766097 0.0053175119292367331592 -0.81650347875930573416 0.21861378843542517147 0.16439386796337254748 -0.71683887042380156629 0.78976445643587023238 0.64861262012852660686 -0.22102234682501495366;0.96068872633220370183 -0.1610020863998685714 -0.6723561554935651996 0.76312763155747764809 0.34497128580151886768 0.39419495868724818699 0.64865006864217800153 0.18056849393284174488 -0.46157810800495296943 -0.80264167565950550465;-1.3087334652536581903 -0.31879595649212538744 -0.069656295842927179462 0.32265575453307882015 0.44987952708197737062 0.35656225183640671839 -0.029792497859018059192 0.93859041857207126114 -0.38961943694342626721 -0.53081244970934060579;0.69389083037089172024 0.64950180282656078123 -0.54315073264654945007 0.41901860676022190111 -0.66328547243012447865 0.4867323152124714003 0.54257342307290867822 0.67444571189778723674 0.51800856405513107106 -0.70705563828586137642;0.61603507598730045114 0.6984356713415034168 -0.82504612199813653906 0.73846661084254605623 -0.52207971563999588938 -0.08214831048329483687 0.32195964316638364666 -0.30202783504768798695 0.65775391691760376478 0.75374105814853564755;0.35451296691853301235 -0.44407336489368259835 -0.70392299793366519545 -0.67268390958801183022 -0.57959343539594188055 -0.48141523973261957092 -0.72568161681180176625 0.71147153911337202015 -0.76335397301902863099 0.33794967095626193831];

% Layer 4
b4 = [-0.97903507485751717354;-0.80712367525577843885;-0.87742275694812743581];
LW4_3 = [-0.52121738729358990661 -0.61588939133007980509 -0.99774293553173398763 -0.81745489564569950858 -0.32198337566573642654 -0.15696282924331361741 0.46829780328376835463 0.75238922330995250398 -0.77462295822509252829 -0.18575060929255471365 0.33473106848760858512 -0.23256115267756727327 -0.47920832346002817381 -0.38708915887246986287 -0.052634838776264292193 -0.2004265295869807062 0.37377452893128348954 -0.80458991791673661886 0.30604131081210184107 -0.75524283715321960386;0.86321091451826426066 -0.63177124919754423793 0.98502171470216781657 -0.87115220235291257467 -0.89163304298834478168 -0.58860105452387068148 0.11838915725124565803 -0.049521100359429137683 -0.96087107445349073664 0.30542315183454227245 -0.89601037017232965098 -0.81107167476976016474 0.65981081558876586435 0.20327250072567681904 0.88481279270514723301 -0.37970710370328331074 0.2984886649505797962 -0.26884668052749982614 -0.60889452212818229171 0.58746729682858966903;0.72304398407368486446 0.22842427494498496188 -0.15879723415897917249 -0.5141426876176791172 -0.77881201121173848634 -0.38041716358888666427 -0.0821053009618488705 -0.98297083968082121785 0.3857209514939907713 -0.61207402302538493899 -0.67619884406391306264 0.4447671308637590748 0.70769271835216773781 -0.96255145029772171128 -0.54582327343039449552 -0.68654241647315017438 0.88688284153476826255 0.97928588052155118859 0.30068036570083744863 -0.58654561972426200178];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1.54272048717391;3.75149113640116];
y1_step1.xoffset = [-1;-0.651338386151203;-0.27428708273995];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
